function GT(r,e){for(var i=0;i<e.length;i++){const s=e[i];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in r)){const h=Object.getOwnPropertyDescriptor(s,o);h&&Object.defineProperty(r,o,h.get?h:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function FT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Uf={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function QT(){if(dy)return Gl;dy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:h}}return Gl.Fragment=e,Gl.jsx=i,Gl.jsxs=i,Gl}var my;function KT(){return my||(my=1,Uf.exports=QT()),Uf.exports}var At=KT(),Lf={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function YT(){if(gy)return bt;gy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.iterator;function O(I){return I===null||typeof I!="object"?null:(I=R&&I[R]||I["@@iterator"],typeof I=="function"?I:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,Y={};function H(I,Z,ut){this.props=I,this.context=Z,this.refs=Y,this.updater=ut||P}H.prototype.isReactComponent={},H.prototype.setState=function(I,Z){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,Z,"setState")},H.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function J(){}J.prototype=H.prototype;function at(I,Z,ut){this.props=I,this.context=Z,this.refs=Y,this.updater=ut||P}var st=at.prototype=new J;st.constructor=at,F(st,H.prototype),st.isPureReactComponent=!0;var Tt=Array.isArray,mt={H:null,A:null,T:null,S:null},It=Object.prototype.hasOwnProperty;function x(I,Z,ut,nt,it,Rt){return ut=Rt.ref,{$$typeof:r,type:I,key:Z,ref:ut!==void 0?ut:null,props:Rt}}function w(I,Z){return x(I.type,Z,void 0,void 0,void 0,I.props)}function S(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function D(I){var Z={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ut){return Z[ut]})}var M=/\/+/g;function z(I,Z){return typeof I=="object"&&I!==null&&I.key!=null?D(""+I.key):Z.toString(36)}function C(){}function ye(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(C,C):(I.status="pending",I.then(function(Z){I.status==="pending"&&(I.status="fulfilled",I.value=Z)},function(Z){I.status==="pending"&&(I.status="rejected",I.reason=Z)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function ce(I,Z,ut,nt,it){var Rt=typeof I;(Rt==="undefined"||Rt==="boolean")&&(I=null);var St=!1;if(I===null)St=!0;else switch(Rt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(I.$$typeof){case r:case e:St=!0;break;case A:return St=I._init,ce(St(I._payload),Z,ut,nt,it)}}if(St)return it=it(I),St=nt===""?"."+z(I,0):nt,Tt(it)?(ut="",St!=null&&(ut=St.replace(M,"$&/")+"/"),ce(it,Z,ut,"",function(ne){return ne})):it!=null&&(S(it)&&(it=w(it,ut+(it.key==null||I&&I.key===it.key?"":(""+it.key).replace(M,"$&/")+"/")+St)),Z.push(it)),1;St=0;var he=nt===""?".":nt+":";if(Tt(I))for(var Pt=0;Pt<I.length;Pt++)nt=I[Pt],Rt=he+z(nt,Pt),St+=ce(nt,Z,ut,Rt,it);else if(Pt=O(I),typeof Pt=="function")for(I=Pt.call(I),Pt=0;!(nt=I.next()).done;)nt=nt.value,Rt=he+z(nt,Pt++),St+=ce(nt,Z,ut,Rt,it);else if(Rt==="object"){if(typeof I.then=="function")return ce(ye(I),Z,ut,nt,it);throw Z=String(I),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return St}function tt(I,Z,ut){if(I==null)return I;var nt=[],it=0;return ce(I,nt,"","",function(Rt){return Z.call(ut,Rt,it++)}),nt}function pt(I){if(I._status===-1){var Z=I._result;Z=Z(),Z.then(function(ut){(I._status===0||I._status===-1)&&(I._status=1,I._result=ut)},function(ut){(I._status===0||I._status===-1)&&(I._status=2,I._result=ut)}),I._status===-1&&(I._status=0,I._result=Z)}if(I._status===1)return I._result.default;throw I._result}var ft=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function qt(){}return bt.Children={map:tt,forEach:function(I,Z,ut){tt(I,function(){Z.apply(this,arguments)},ut)},count:function(I){var Z=0;return tt(I,function(){Z++}),Z},toArray:function(I){return tt(I,function(Z){return Z})||[]},only:function(I){if(!S(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},bt.Component=H,bt.Fragment=i,bt.Profiler=o,bt.PureComponent=at,bt.StrictMode=s,bt.Suspense=p,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=mt,bt.act=function(){throw Error("act(...) is not supported in production builds of React.")},bt.cache=function(I){return function(){return I.apply(null,arguments)}},bt.cloneElement=function(I,Z,ut){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var nt=F({},I.props),it=I.key,Rt=void 0;if(Z!=null)for(St in Z.ref!==void 0&&(Rt=void 0),Z.key!==void 0&&(it=""+Z.key),Z)!It.call(Z,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&Z.ref===void 0||(nt[St]=Z[St]);var St=arguments.length-2;if(St===1)nt.children=ut;else if(1<St){for(var he=Array(St),Pt=0;Pt<St;Pt++)he[Pt]=arguments[Pt+2];nt.children=he}return x(I.type,it,void 0,void 0,Rt,nt)},bt.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:h,_context:I},I},bt.createElement=function(I,Z,ut){var nt,it={},Rt=null;if(Z!=null)for(nt in Z.key!==void 0&&(Rt=""+Z.key),Z)It.call(Z,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(it[nt]=Z[nt]);var St=arguments.length-2;if(St===1)it.children=ut;else if(1<St){for(var he=Array(St),Pt=0;Pt<St;Pt++)he[Pt]=arguments[Pt+2];it.children=he}if(I&&I.defaultProps)for(nt in St=I.defaultProps,St)it[nt]===void 0&&(it[nt]=St[nt]);return x(I,Rt,void 0,void 0,null,it)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(I){return{$$typeof:g,render:I}},bt.isValidElement=S,bt.lazy=function(I){return{$$typeof:A,_payload:{_status:-1,_result:I},_init:pt}},bt.memo=function(I,Z){return{$$typeof:y,type:I,compare:Z===void 0?null:Z}},bt.startTransition=function(I){var Z=mt.T,ut={};mt.T=ut;try{var nt=I(),it=mt.S;it!==null&&it(ut,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(qt,ft)}catch(Rt){ft(Rt)}finally{mt.T=Z}},bt.unstable_useCacheRefresh=function(){return mt.H.useCacheRefresh()},bt.use=function(I){return mt.H.use(I)},bt.useActionState=function(I,Z,ut){return mt.H.useActionState(I,Z,ut)},bt.useCallback=function(I,Z){return mt.H.useCallback(I,Z)},bt.useContext=function(I){return mt.H.useContext(I)},bt.useDebugValue=function(){},bt.useDeferredValue=function(I,Z){return mt.H.useDeferredValue(I,Z)},bt.useEffect=function(I,Z){return mt.H.useEffect(I,Z)},bt.useId=function(){return mt.H.useId()},bt.useImperativeHandle=function(I,Z,ut){return mt.H.useImperativeHandle(I,Z,ut)},bt.useInsertionEffect=function(I,Z){return mt.H.useInsertionEffect(I,Z)},bt.useLayoutEffect=function(I,Z){return mt.H.useLayoutEffect(I,Z)},bt.useMemo=function(I,Z){return mt.H.useMemo(I,Z)},bt.useOptimistic=function(I,Z){return mt.H.useOptimistic(I,Z)},bt.useReducer=function(I,Z,ut){return mt.H.useReducer(I,Z,ut)},bt.useRef=function(I){return mt.H.useRef(I)},bt.useState=function(I){return mt.H.useState(I)},bt.useSyncExternalStore=function(I,Z,ut){return mt.H.useSyncExternalStore(I,Z,ut)},bt.useTransition=function(){return mt.H.useTransition()},bt.version="19.0.0",bt}var py;function bd(){return py||(py=1,Lf.exports=YT()),Lf.exports}var et=bd();const XT=FT(et),$T=GT({__proto__:null,default:XT},[et]);var zf={exports:{}},Fl={},Pf={exports:{}},kf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function ZT(){return yy||(yy=1,function(r){function e(tt,pt){var ft=tt.length;tt.push(pt);t:for(;0<ft;){var qt=ft-1>>>1,I=tt[qt];if(0<o(I,pt))tt[qt]=pt,tt[ft]=I,ft=qt;else break t}}function i(tt){return tt.length===0?null:tt[0]}function s(tt){if(tt.length===0)return null;var pt=tt[0],ft=tt.pop();if(ft!==pt){tt[0]=ft;t:for(var qt=0,I=tt.length,Z=I>>>1;qt<Z;){var ut=2*(qt+1)-1,nt=tt[ut],it=ut+1,Rt=tt[it];if(0>o(nt,ft))it<I&&0>o(Rt,nt)?(tt[qt]=Rt,tt[it]=ft,qt=it):(tt[qt]=nt,tt[ut]=ft,qt=ut);else if(it<I&&0>o(Rt,ft))tt[qt]=Rt,tt[it]=ft,qt=it;else break t}}return pt}function o(tt,pt){var ft=tt.sortIndex-pt.sortIndex;return ft!==0?ft:tt.id-pt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var p=[],y=[],A=1,R=null,O=3,P=!1,F=!1,Y=!1,H=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,at=typeof setImmediate<"u"?setImmediate:null;function st(tt){for(var pt=i(y);pt!==null;){if(pt.callback===null)s(y);else if(pt.startTime<=tt)s(y),pt.sortIndex=pt.expirationTime,e(p,pt);else break;pt=i(y)}}function Tt(tt){if(Y=!1,st(tt),!F)if(i(p)!==null)F=!0,ye();else{var pt=i(y);pt!==null&&ce(Tt,pt.startTime-tt)}}var mt=!1,It=-1,x=5,w=-1;function S(){return!(r.unstable_now()-w<x)}function D(){if(mt){var tt=r.unstable_now();w=tt;var pt=!0;try{t:{F=!1,Y&&(Y=!1,J(It),It=-1),P=!0;var ft=O;try{e:{for(st(tt),R=i(p);R!==null&&!(R.expirationTime>tt&&S());){var qt=R.callback;if(typeof qt=="function"){R.callback=null,O=R.priorityLevel;var I=qt(R.expirationTime<=tt);if(tt=r.unstable_now(),typeof I=="function"){R.callback=I,st(tt),pt=!0;break e}R===i(p)&&s(p),st(tt)}else s(p);R=i(p)}if(R!==null)pt=!0;else{var Z=i(y);Z!==null&&ce(Tt,Z.startTime-tt),pt=!1}}break t}finally{R=null,O=ft,P=!1}pt=void 0}}finally{pt?M():mt=!1}}}var M;if(typeof at=="function")M=function(){at(D)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,C=z.port2;z.port1.onmessage=D,M=function(){C.postMessage(null)}}else M=function(){H(D,0)};function ye(){mt||(mt=!0,M())}function ce(tt,pt){It=H(function(){tt(r.unstable_now())},pt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(tt){tt.callback=null},r.unstable_continueExecution=function(){F||P||(F=!0,ye())},r.unstable_forceFrameRate=function(tt){0>tt||125<tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<tt?Math.floor(1e3/tt):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_getFirstCallbackNode=function(){return i(p)},r.unstable_next=function(tt){switch(O){case 1:case 2:case 3:var pt=3;break;default:pt=O}var ft=O;O=pt;try{return tt()}finally{O=ft}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(tt,pt){switch(tt){case 1:case 2:case 3:case 4:case 5:break;default:tt=3}var ft=O;O=tt;try{return pt()}finally{O=ft}},r.unstable_scheduleCallback=function(tt,pt,ft){var qt=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?qt+ft:qt):ft=qt,tt){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ft+I,tt={id:A++,callback:pt,priorityLevel:tt,startTime:ft,expirationTime:I,sortIndex:-1},ft>qt?(tt.sortIndex=ft,e(y,tt),i(p)===null&&tt===i(y)&&(Y?(J(It),It=-1):Y=!0,ce(Tt,ft-qt))):(tt.sortIndex=I,e(p,tt),F||P||(F=!0,ye())),tt},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(tt){var pt=O;return function(){var ft=O;O=pt;try{return tt.apply(this,arguments)}finally{O=ft}}}}(kf)),kf}var _y;function WT(){return _y||(_y=1,Pf.exports=ZT()),Pf.exports}var Bf={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function JT(){if(vy)return Ge;vy=1;var r=bd();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(p,y,A){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:R==null?null:""+R,children:p,containerInfo:y,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(p,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return h(p,y,null,A)},Ge.flushSync=function(p){var y=d.T,A=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=y,s.p=A,s.d.f()}},Ge.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Ge.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ge.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var A=y.as,R=g(A,y.crossOrigin),O=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:R,integrity:O,fetchPriority:P}):A==="script"&&s.d.X(p,{crossOrigin:R,integrity:O,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ge.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Ge.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,R=g(A,y.crossOrigin);s.d.L(p,A,{crossOrigin:R,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ge.preloadModule=function(p,y){if(typeof p=="string")if(y){var A=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Ge.requestFormReset=function(p){s.d.r(p)},Ge.unstable_batchedUpdates=function(p,y){return p(y)},Ge.useFormState=function(p,y,A){return d.H.useFormState(p,y,A)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.0.0",Ge}var Ey;function K_(){if(Ey)return Bf.exports;Ey=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Bf.exports=JT(),Bf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function tA(){if(Ty)return Fl;Ty=1;var r=WT(),e=bd(),i=K_();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),P=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),at=Symbol.for("react.lazy"),st=Symbol.for("react.offscreen"),Tt=Symbol.for("react.memo_cache_sentinel"),mt=Symbol.iterator;function It(t){return t===null||typeof t!="object"?null:(t=mt&&t[mt]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function w(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case g:return"Portal";case A:return"Profiler";case y:return"StrictMode";case Y:return"Suspense";case H:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case P:return(t.displayName||"Context")+".Provider";case O:return(t._context.displayName||"Context")+".Consumer";case F:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case J:return n=t.displayName||null,n!==null?n:w(t.type)||"Memo";case at:n=t._payload,t=t._init;try{return w(t(n))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,M,z;function C(t){if(M===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);M=n&&n[1]||"",z=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+M+t+z}var ye=!1;function ce(t,n){if(!t||ye)return"";ye=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var B=q}Reflect.construct(t,[],X)}else{try{X.call()}catch(q){B=q}t.call(X.prototype)}}else{try{throw Error()}catch(q){B=q}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var b=v.split(`
`),N=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<N.length&&!N[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===N.length)for(l=b.length-1,c=N.length-1;1<=l&&0<=c&&b[l]!==N[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==N[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==N[c]){var G=`
`+b[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{ye=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?C(a):""}function tt(t){switch(t.tag){case 26:case 27:case 5:return C(t.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 15:return t=ce(t.type,!1),t;case 11:return t=ce(t.type.render,!1),t;case 1:return t=ce(t.type,!0),t;default:return""}}function pt(t){try{var n="";do n+=tt(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ft(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function qt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function I(t){if(ft(t)!==t)throw Error(s(188))}function Z(t){var n=t.alternate;if(!n){if(n=ft(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return I(c),t;if(f===l)return I(c),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=f;else{for(var v=!1,E=c.child;E;){if(E===a){v=!0,a=c,l=f;break}if(E===l){v=!0,l=c,a=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===a){v=!0,a=f,l=c;break}if(E===l){v=!0,l=f,a=c;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function ut(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=ut(t),n!==null)return n;t=t.sibling}return null}var nt=Array.isArray,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Rt={pending:!1,data:null,method:null,action:null},St=[],he=-1;function Pt(t){return{current:t}}function ne(t){0>he||(t.current=St[he],St[he]=null,he--)}function Ft(t,n){he++,St[he]=t.current,t.current=n}var Ye=Pt(null),ui=Pt(null),pn=Pt(null),qi=Pt(null);function Hi(t,n){switch(Ft(pn,n),Ft(ui,t),Ft(Ye,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?qp(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=qp(t),n=Hp(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ne(Ye),Ft(Ye,n)}function ci(){ne(Ye),ne(ui),ne(pn)}function ks(t){t.memoizedState!==null&&Ft(qi,t);var n=Ye.current,a=Hp(n,t.type);n!==a&&(Ft(ui,t),Ft(Ye,a))}function Na(t){ui.current===t&&(ne(Ye),ne(ui)),qi.current===t&&(ne(qi),kl._currentValue=Rt)}var Ma=Object.prototype.hasOwnProperty,jr=r.unstable_scheduleCallback,xa=r.unstable_cancelCallback,Lc=r.unstable_shouldYield,Bs=r.unstable_requestPaint,tn=r.unstable_now,po=r.unstable_getCurrentPriorityLevel,_e=r.unstable_ImmediatePriority,Ce=r.unstable_UserBlockingPriority,hi=r.unstable_NormalPriority,yo=r.unstable_LowPriority,js=r.unstable_IdlePriority,zc=r.log,qr=r.unstable_setDisableYieldValue,Gi=null,qe=null;function qs(t){if(qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Gi,t,void 0,(t.current.flags&128)===128)}catch{}}function Bn(t){if(typeof zc=="function"&&qr(t),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Gi,t)}catch{}}var Xe=Math.clz32?Math.clz32:vo,Hs=Math.log,_o=Math.LN2;function vo(t){return t>>>=0,t===0?32:31-(Hs(t)/_o|0)|0}var jn=128,Fi=4194304;function Mn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function yn(t,n){var a=t.pendingLanes;if(a===0)return 0;var l=0,c=t.suspendedLanes,f=t.pingedLanes,v=t.warmLanes;t=t.finishedLanes!==0;var E=a&134217727;return E!==0?(a=E&~c,a!==0?l=Mn(a):(f&=E,f!==0?l=Mn(f):t||(v=E&~v,v!==0&&(l=Mn(v))))):(E=a&~c,E!==0?l=Mn(E):f!==0?l=Mn(f):t||(v=a&~v,v!==0&&(l=Mn(v)))),l===0?0:n!==0&&n!==l&&!(n&c)&&(c=l&-l,v=n&-n,c>=v||c===32&&(v&4194176)!==0)?n:l}function Qi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ua(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gs(){var t=jn;return jn<<=1,!(jn&4194176)&&(jn=128),t}function Ki(){var t=Fi;return Fi<<=1,!(Fi&62914560)&&(Fi=4194304),t}function La(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function le(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Eo(t,n,a,l,c,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,N=t.hiddenUpdates;for(a=v&~a;0<a;){var G=31-Xe(a),X=1<<G;E[G]=0,b[G]=-1;var B=N[G];if(B!==null)for(N[G]=null,G=0;G<B.length;G++){var q=B[G];q!==null&&(q.lane&=-536870913)}a&=~X}l!==0&&Yi(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function Yi(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Xe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function Xi(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Xe(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function To(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function Ao(){var t=it.p;return t!==0?t:(t=window.event,t===void 0?32:ly(t.type))}function $i(t,n){var a=it.p;try{return it.p=t,n()}finally{it.p=a}}var qn=Math.random().toString(36).slice(2),De="__reactFiber$"+qn,ve="__reactProps$"+qn,fi="__reactContainer$"+qn,Hr="__reactEvents$"+qn,za="__reactListeners$"+qn,Hn="__reactHandles$"+qn,Fs="__reactResources$"+qn,Zi="__reactMarker$"+qn;function Gr(t){delete t[De],delete t[ve],delete t[Hr],delete t[za],delete t[Hn]}function xn(t){var n=t[De];if(n)return n;for(var a=t.parentNode;a;){if(n=a[fi]||a[De]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Qp(t);t!==null;){if(a=t[De])return a;t=Qp(t)}return n}t=a,a=t.parentNode}return null}function di(t){if(t=t[De]||t[fi]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Wi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Ji(t){var n=t[Fs];return n||(n=t[Fs]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Wt(t){t[Zi]=!0}var Qs=new Set,Pa={};function sn(t,n){en(t,n),en(t+"Capture",n)}function en(t,n){for(Pa[t]=n,t=0;t<n.length;t++)Qs.add(n[t])}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ks={},Ys={};function So(t){return Ma.call(Ys,t)?!0:Ma.call(Ks,t)?!1:Pc.test(t)?Ys[t]=!0:(Ks[t]=!0,!1)}function tr(t,n,a){if(So(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function er(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function _n(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function $e(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bo(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function kc(t){var n=bo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Fr(t){t._valueTracker||(t._valueTracker=kc(t))}function Xs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=bo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ka(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var mi=/[\n"\\]/g;function ie(t){return t.replace(mi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function nr(t,n,a,l,c,f,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+$e(n)):t.value!==""+$e(n)&&(t.value=""+$e(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?Ba(t,v,$e(n)):a!=null?Ba(t,v,$e(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+$e(E):t.removeAttribute("name")}function Qr(t,n,a,l,c,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+$e(a):"",n=n!=null?""+$e(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Ba(t,n,a){n==="number"&&ka(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function kt(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+$e(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Kr(t,n,a){if(n!=null&&(n=""+$e(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+$e(a):""}function ir(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(nt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=$e(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function vn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Bc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $s(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Bc.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Ro(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&$s(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&$s(t,f,n[f])}function Zs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gn(t){return qc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var En=null;function ja(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gi=null,pi=null;function yi(t){var n=di(t);if(n&&(t=n.stateNode)){var a=t[ve]||null;t:switch(t=n.stateNode,n.type){case"input":if(nr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ie(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[ve]||null;if(!c)throw Error(s(90));nr(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Xs(l)}break t;case"textarea":Kr(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&kt(t,!!a.multiple,n,!1)}}}var Ws=!1;function wo(t,n,a){if(Ws)return t(n,a);Ws=!0;try{var l=t(n);return l}finally{if(Ws=!1,(gi!==null||pi!==null)&&(yu(),gi&&(n=gi,t=pi,pi=gi=null,yi(n),t)))for(n=0;n<t.length;n++)yi(t[n])}}function Yr(t,n){var a=t.stateNode;if(a===null)return null;var l=a[ve]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Tn=!1;if(ln)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){Tn=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch{Tn=!1}var Fn=null,rr=null,_i=null;function Js(){if(_i)return _i;var t,n=rr,a=n.length,l,c="value"in Fn?Fn.value:Fn.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var v=a-t;for(l=1;l<=v&&n[a-l]===c[f-l];l++);return _i=c.slice(t,1<l?1-l:void 0)}function Qn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Kn(){return!0}function tl(){return!1}function Ie(t){function n(a,l,c,f,v){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Kn:tl,this.isPropagationStopped=tl,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Kn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Kn)},persist:function(){},isPersistent:Kn}),n}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qa=Ie(Ht),$r=D({},Ht,{view:0,detail:0}),Co=Ie($r),Ha,Ga,Yn,Zr=D({},$r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ta,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yn&&(Yn&&t.type==="mousemove"?(Ha=t.screenX-Yn.screenX,Ga=t.screenY-Yn.screenY):Ga=Ha=0,Yn=t),Ha)},movementY:function(t){return"movementY"in t?t.movementY:Ga}}),An=Ie(Zr),Do=D({},Zr,{dataTransfer:0}),Hc=Ie(Do),Wr=D({},$r,{relatedTarget:0}),Fa=Ie(Wr),el=D({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Qa=Ie(el),Io=D({},Ht,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ka=Ie(Io),Gc=D({},Ht,{data:0}),nl=Ie(Gc),Jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function il(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Oo[t])?!!n[t]:!1}function ta(){return il}var No=D({},$r,{key:function(t){if(t.key){var n=Jr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Qn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ta,charCode:function(t){return t.type==="keypress"?Qn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ya=Ie(No),Mo=D({},Zr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rl=Ie(Mo),vi=D({},$r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ta}),xo=Ie(vi),Uo=D({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lo=Ie(Uo),zo=D({},Zr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Xa=Ie(zo),Ze=D({},Ht,{newState:0,oldState:0}),Po=Ie(Ze),ko=[9,13,27,32],Xn=ln&&"CompositionEvent"in window,u=null;ln&&"documentMode"in document&&(u=document.documentMode);var m=ln&&"TextEvent"in window&&!u,_=ln&&(!Xn||u&&8<u&&11>=u),T=" ",L=!1;function j(t,n){switch(t){case"keyup":return ko.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mt=!1;function Ee(t,n){switch(t){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function xt(t,n){if(Mt)return t==="compositionend"||!Xn&&j(t,n)?(t=Js(),_i=rr=Fn=null,Mt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ve[t.type]:n==="textarea"}function Ei(t,n,a,l){gi?pi?pi.push(l):pi=[l]:gi=l,n=Au(n,"onChange"),0<n.length&&(a=new qa("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Ue=null,$n=null;function al(t){zp(t,0)}function Bo(t){var n=Wi(t);if(Xs(n))return t}function fm(t,n){if(t==="change")return n}var dm=!1;if(ln){var Fc;if(ln){var Qc="oninput"in document;if(!Qc){var mm=document.createElement("div");mm.setAttribute("oninput","return;"),Qc=typeof mm.oninput=="function"}Fc=Qc}else Fc=!1;dm=Fc&&(!document.documentMode||9<document.documentMode)}function gm(){Ue&&(Ue.detachEvent("onpropertychange",pm),$n=Ue=null)}function pm(t){if(t.propertyName==="value"&&Bo($n)){var n=[];Ei(n,$n,t,ja(t)),wo(al,n)}}function EE(t,n,a){t==="focusin"?(gm(),Ue=n,$n=a,Ue.attachEvent("onpropertychange",pm)):t==="focusout"&&gm()}function TE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bo($n)}function AE(t,n){if(t==="click")return Bo(n)}function SE(t,n){if(t==="input"||t==="change")return Bo(n)}function bE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var on=typeof Object.is=="function"?Object.is:bE;function sl(t,n){if(on(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!Ma.call(n,c)||!on(t[c],n[c]))return!1}return!0}function ym(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _m(t,n){var a=ym(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=ym(a)}}function vm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?vm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Em(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ka(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ka(t.document)}return n}function Kc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function RE(t,n){var a=Em(n);n=t.focusedElem;var l=t.selectionRange;if(a!==n&&n&&n.ownerDocument&&vm(n.ownerDocument.documentElement,n)){if(l!==null&&Kc(n)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(a,n.value.length);else if(a=(t=n.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var c=n.textContent.length,f=Math.min(l.start,c);l=l.end===void 0?f:Math.min(l.end,c),!a.extend&&f>l&&(c=l,l=f,f=c),c=_m(n,f);var v=_m(n,l);c&&v&&(a.rangeCount!==1||a.anchorNode!==c.node||a.anchorOffset!==c.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),a.removeAllRanges(),f>l?(a.addRange(t),a.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),a.addRange(t)))}}for(t=[],a=n;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)a=t[n],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var wE=ln&&"documentMode"in document&&11>=document.documentMode,$a=null,Yc=null,ll=null,Xc=!1;function Tm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xc||$a==null||$a!==ka(l)||(l=$a,"selectionStart"in l&&Kc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ll&&sl(ll,l)||(ll=l,l=Au(Yc,"onSelect"),0<l.length&&(n=new qa("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=$a)))}function ea(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Za={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},$c={},Am={};ln&&(Am=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function na(t){if($c[t])return $c[t];if(!Za[t])return t;var n=Za[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Am)return $c[t]=n[a];return t}var Sm=na("animationend"),bm=na("animationiteration"),Rm=na("animationstart"),CE=na("transitionrun"),DE=na("transitionstart"),IE=na("transitioncancel"),wm=na("transitionend"),Cm=new Map,Dm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Un(t,n){Cm.set(t,n),sn(n,[t])}var Sn=[],Wa=0,Zc=0;function jo(){for(var t=Wa,n=Zc=Wa=0;n<t;){var a=Sn[n];Sn[n++]=null;var l=Sn[n];Sn[n++]=null;var c=Sn[n];Sn[n++]=null;var f=Sn[n];if(Sn[n++]=null,l!==null&&c!==null){var v=l.pending;v===null?c.next=c:(c.next=v.next,v.next=c),l.pending=c}f!==0&&Im(a,c,f)}}function qo(t,n,a,l){Sn[Wa++]=t,Sn[Wa++]=n,Sn[Wa++]=a,Sn[Wa++]=l,Zc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Wc(t,n,a,l){return qo(t,n,a,l),Ho(t)}function ar(t,n){return qo(t,null,null,n),Ho(t)}function Im(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;c&&n!==null&&t.tag===3&&(f=t.stateNode,c=31-Xe(a),f=f.hiddenUpdates,t=f[c],t===null?f[c]=[n]:t.push(n),n.lane=a|536870912)}function Ho(t){if(50<Nl)throw Nl=0,af=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ja={},Vm=new WeakMap;function bn(t,n){if(typeof t=="object"&&t!==null){var a=Vm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:pt(n)},Vm.set(t,n),n)}return{value:t,source:n,stack:pt(n)}}var ts=[],es=0,Go=null,Fo=0,Rn=[],wn=0,ia=null,Ti=1,Ai="";function ra(t,n){ts[es++]=Fo,ts[es++]=Go,Go=t,Fo=n}function Om(t,n,a){Rn[wn++]=Ti,Rn[wn++]=Ai,Rn[wn++]=ia,ia=t;var l=Ti;t=Ai;var c=32-Xe(l)-1;l&=~(1<<c),a+=1;var f=32-Xe(n)+c;if(30<f){var v=c-c%5;f=(l&(1<<v)-1).toString(32),l>>=v,c-=v,Ti=1<<32-Xe(n)+c|a<<c|l,Ai=f+t}else Ti=1<<f|a<<c|l,Ai=t}function Jc(t){t.return!==null&&(ra(t,1),Om(t,1,0))}function th(t){for(;t===Go;)Go=ts[--es],ts[es]=null,Fo=ts[--es],ts[es]=null;for(;t===ia;)ia=Rn[--wn],Rn[wn]=null,Ai=Rn[--wn],Rn[wn]=null,Ti=Rn[--wn],Rn[wn]=null}var We=null,Le=null,Bt=!1,Ln=null,Zn=!1,eh=Error(s(519));function aa(t){var n=Error(s(418,""));throw cl(bn(n,t)),eh}function Nm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[De]=t,n[ve]=l,a){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(a=0;a<xl.length;a++)Ot(xl[a],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),Qr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Fr(n);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),ir(n,l.value,l.defaultValue,l.children),Fr(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||jp(n.textContent,a)?(l.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),l.onScroll!=null&&Ot("scroll",n),l.onScrollEnd!=null&&Ot("scrollend",n),l.onClick!=null&&(n.onclick=Su),n=!0):n=!1,n||aa(t)}function Mm(t){for(We=t.return;We;)switch(We.tag){case 3:case 27:Zn=!0;return;case 5:case 13:Zn=!1;return;default:We=We.return}}function ol(t){if(t!==We)return!1;if(!Bt)return Mm(t),Bt=!0,!1;var n=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Af(t.type,t.memoizedProps)),a=!a),a&&(n=!0),n&&Le&&aa(t),Mm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){Le=Pn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}Le=null}}else Le=We?Pn(t.stateNode.nextSibling):null;return!0}function ul(){Le=We=null,Bt=!1}function cl(t){Ln===null?Ln=[t]:Ln.push(t)}var hl=Error(s(460)),xm=Error(s(474)),nh={then:function(){}};function Um(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Qo(){}function Lm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Qo,Qo),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===hl?Error(s(483)):t;default:if(typeof n.status=="string")n.then(Qo,Qo);else{if(t=Xt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===hl?Error(s(483)):t}throw fl=n,hl}}var fl=null;function zm(){if(fl===null)throw Error(s(459));var t=fl;return fl=null,t}var ns=null,dl=0;function Ko(t){var n=dl;return dl+=1,ns===null&&(ns=[]),Lm(ns,t,n)}function ml(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Yo(t,n){throw n.$$typeof===h?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Pm(t){var n=t._init;return n(t._payload)}function km(t){function n(U,V){if(t){var k=U.deletions;k===null?(U.deletions=[V],U.flags|=16):k.push(V)}}function a(U,V){if(!t)return null;for(;V!==null;)n(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function c(U,V){return U=yr(U,V),U.index=0,U.sibling=null,U}function f(U,V,k){return U.index=k,t?(k=U.alternate,k!==null?(k=k.index,k<V?(U.flags|=33554434,V):k):(U.flags|=33554434,V)):(U.flags|=1048576,V)}function v(U){return t&&U.alternate===null&&(U.flags|=33554434),U}function E(U,V,k,Q){return V===null||V.tag!==6?(V=$h(k,U.mode,Q),V.return=U,V):(V=c(V,k),V.return=U,V)}function b(U,V,k,Q){var lt=k.type;return lt===p?G(U,V,k.props.children,Q,k.key):V!==null&&(V.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===at&&Pm(lt)===V.type)?(V=c(V,k.props),ml(V,k),V.return=U,V):(V=fu(k.type,k.key,k.props,null,U.mode,Q),ml(V,k),V.return=U,V)}function N(U,V,k,Q){return V===null||V.tag!==4||V.stateNode.containerInfo!==k.containerInfo||V.stateNode.implementation!==k.implementation?(V=Zh(k,U.mode,Q),V.return=U,V):(V=c(V,k.children||[]),V.return=U,V)}function G(U,V,k,Q,lt){return V===null||V.tag!==7?(V=ga(k,U.mode,Q,lt),V.return=U,V):(V=c(V,k),V.return=U,V)}function X(U,V,k){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=$h(""+V,U.mode,k),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case d:return k=fu(V.type,V.key,V.props,null,U.mode,k),ml(k,V),k.return=U,k;case g:return V=Zh(V,U.mode,k),V.return=U,V;case at:var Q=V._init;return V=Q(V._payload),X(U,V,k)}if(nt(V)||It(V))return V=ga(V,U.mode,k,null),V.return=U,V;if(typeof V.then=="function")return X(U,Ko(V),k);if(V.$$typeof===P)return X(U,uu(U,V),k);Yo(U,V)}return null}function B(U,V,k,Q){var lt=V!==null?V.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return lt!==null?null:E(U,V,""+k,Q);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case d:return k.key===lt?b(U,V,k,Q):null;case g:return k.key===lt?N(U,V,k,Q):null;case at:return lt=k._init,k=lt(k._payload),B(U,V,k,Q)}if(nt(k)||It(k))return lt!==null?null:G(U,V,k,Q,null);if(typeof k.then=="function")return B(U,V,Ko(k),Q);if(k.$$typeof===P)return B(U,V,uu(U,k),Q);Yo(U,k)}return null}function q(U,V,k,Q,lt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(k)||null,E(V,U,""+Q,lt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case d:return U=U.get(Q.key===null?k:Q.key)||null,b(V,U,Q,lt);case g:return U=U.get(Q.key===null?k:Q.key)||null,N(V,U,Q,lt);case at:var Ct=Q._init;return Q=Ct(Q._payload),q(U,V,k,Q,lt)}if(nt(Q)||It(Q))return U=U.get(k)||null,G(V,U,Q,lt,null);if(typeof Q.then=="function")return q(U,V,k,Ko(Q),lt);if(Q.$$typeof===P)return q(U,V,k,uu(V,Q),lt);Yo(V,Q)}return null}function ot(U,V,k,Q){for(var lt=null,Ct=null,ct=V,gt=V=0,Me=null;ct!==null&&gt<k.length;gt++){ct.index>gt?(Me=ct,ct=null):Me=ct.sibling;var jt=B(U,ct,k[gt],Q);if(jt===null){ct===null&&(ct=Me);break}t&&ct&&jt.alternate===null&&n(U,ct),V=f(jt,V,gt),Ct===null?lt=jt:Ct.sibling=jt,Ct=jt,ct=Me}if(gt===k.length)return a(U,ct),Bt&&ra(U,gt),lt;if(ct===null){for(;gt<k.length;gt++)ct=X(U,k[gt],Q),ct!==null&&(V=f(ct,V,gt),Ct===null?lt=ct:Ct.sibling=ct,Ct=ct);return Bt&&ra(U,gt),lt}for(ct=l(ct);gt<k.length;gt++)Me=q(ct,U,gt,k[gt],Q),Me!==null&&(t&&Me.alternate!==null&&ct.delete(Me.key===null?gt:Me.key),V=f(Me,V,gt),Ct===null?lt=Me:Ct.sibling=Me,Ct=Me);return t&&ct.forEach(function(br){return n(U,br)}),Bt&&ra(U,gt),lt}function vt(U,V,k,Q){if(k==null)throw Error(s(151));for(var lt=null,Ct=null,ct=V,gt=V=0,Me=null,jt=k.next();ct!==null&&!jt.done;gt++,jt=k.next()){ct.index>gt?(Me=ct,ct=null):Me=ct.sibling;var br=B(U,ct,jt.value,Q);if(br===null){ct===null&&(ct=Me);break}t&&ct&&br.alternate===null&&n(U,ct),V=f(br,V,gt),Ct===null?lt=br:Ct.sibling=br,Ct=br,ct=Me}if(jt.done)return a(U,ct),Bt&&ra(U,gt),lt;if(ct===null){for(;!jt.done;gt++,jt=k.next())jt=X(U,jt.value,Q),jt!==null&&(V=f(jt,V,gt),Ct===null?lt=jt:Ct.sibling=jt,Ct=jt);return Bt&&ra(U,gt),lt}for(ct=l(ct);!jt.done;gt++,jt=k.next())jt=q(ct,U,gt,jt.value,Q),jt!==null&&(t&&jt.alternate!==null&&ct.delete(jt.key===null?gt:jt.key),V=f(jt,V,gt),Ct===null?lt=jt:Ct.sibling=jt,Ct=jt);return t&&ct.forEach(function(HT){return n(U,HT)}),Bt&&ra(U,gt),lt}function se(U,V,k,Q){if(typeof k=="object"&&k!==null&&k.type===p&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case d:t:{for(var lt=k.key;V!==null;){if(V.key===lt){if(lt=k.type,lt===p){if(V.tag===7){a(U,V.sibling),Q=c(V,k.props.children),Q.return=U,U=Q;break t}}else if(V.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===at&&Pm(lt)===V.type){a(U,V.sibling),Q=c(V,k.props),ml(Q,k),Q.return=U,U=Q;break t}a(U,V);break}else n(U,V);V=V.sibling}k.type===p?(Q=ga(k.props.children,U.mode,Q,k.key),Q.return=U,U=Q):(Q=fu(k.type,k.key,k.props,null,U.mode,Q),ml(Q,k),Q.return=U,U=Q)}return v(U);case g:t:{for(lt=k.key;V!==null;){if(V.key===lt)if(V.tag===4&&V.stateNode.containerInfo===k.containerInfo&&V.stateNode.implementation===k.implementation){a(U,V.sibling),Q=c(V,k.children||[]),Q.return=U,U=Q;break t}else{a(U,V);break}else n(U,V);V=V.sibling}Q=Zh(k,U.mode,Q),Q.return=U,U=Q}return v(U);case at:return lt=k._init,k=lt(k._payload),se(U,V,k,Q)}if(nt(k))return ot(U,V,k,Q);if(It(k)){if(lt=It(k),typeof lt!="function")throw Error(s(150));return k=lt.call(k),vt(U,V,k,Q)}if(typeof k.then=="function")return se(U,V,Ko(k),Q);if(k.$$typeof===P)return se(U,V,uu(U,k),Q);Yo(U,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,V!==null&&V.tag===6?(a(U,V.sibling),Q=c(V,k),Q.return=U,U=Q):(a(U,V),Q=$h(k,U.mode,Q),Q.return=U,U=Q),v(U)):a(U,V)}return function(U,V,k,Q){try{dl=0;var lt=se(U,V,k,Q);return ns=null,lt}catch(ct){if(ct===hl)throw ct;var Ct=Vn(29,ct,null,U.mode);return Ct.lanes=Q,Ct.return=U,Ct}finally{}}}var sa=km(!0),Bm=km(!1),is=Pt(null),Xo=Pt(0);function jm(t,n){t=Mi,Ft(Xo,t),Ft(is,n),Mi=t|n.baseLanes}function ih(){Ft(Xo,Mi),Ft(is,is.current)}function rh(){Mi=Xo.current,ne(is),ne(Xo)}var Cn=Pt(null),Wn=null;function sr(t){var n=t.alternate;Ft(Ae,Ae.current&1),Ft(Cn,t),Wn===null&&(n===null||is.current!==null||n.memoizedState!==null)&&(Wn=t)}function qm(t){if(t.tag===22){if(Ft(Ae,Ae.current),Ft(Cn,t),Wn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Wn=t)}}else lr()}function lr(){Ft(Ae,Ae.current),Ft(Cn,Cn.current)}function Si(t){ne(Cn),Wn===t&&(Wn=null),ne(Ae)}var Ae=Pt(0);function $o(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var VE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},OE=r.unstable_scheduleCallback,NE=r.unstable_NormalPriority,Se={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ah(){return{controller:new VE,data:new Map,refCount:0}}function gl(t){t.refCount--,t.refCount===0&&OE(NE,function(){t.controller.abort()})}var pl=null,sh=0,rs=0,as=null;function ME(t,n){if(pl===null){var a=pl=[];sh=0,rs=df(),as={status:"pending",value:void 0,then:function(l){a.push(l)}}}return sh++,n.then(Hm,Hm),n}function Hm(){if(--sh===0&&pl!==null){as!==null&&(as.status="fulfilled");var t=pl;pl=null,rs=0,as=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function xE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Gm=S.S;S.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&ME(t,n),Gm!==null&&Gm(t,n)};var la=Pt(null);function lh(){var t=la.current;return t!==null?t:Xt.pooledCache}function Zo(t,n){n===null?Ft(la,la.current):Ft(la,n.pool)}function Fm(){var t=lh();return t===null?null:{parent:Se._currentValue,pool:t}}var or=0,wt=null,Qt=null,fe=null,Wo=!1,ss=!1,oa=!1,Jo=0,yl=0,ls=null,UE=0;function oe(){throw Error(s(321))}function oh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!on(t[a],n[a]))return!1;return!0}function uh(t,n,a,l,c,f){return or=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,S.H=t===null||t.memoizedState===null?ua:ur,oa=!1,f=a(l,c),oa=!1,ss&&(f=Km(n,a,l,c)),Qm(t),f}function Qm(t){S.H=Jn;var n=Qt!==null&&Qt.next!==null;if(or=0,fe=Qt=wt=null,Wo=!1,yl=0,ls=null,n)throw Error(s(300));t===null||Oe||(t=t.dependencies,t!==null&&ou(t)&&(Oe=!0))}function Km(t,n,a,l){wt=t;var c=0;do{if(ss&&(ls=null),yl=0,ss=!1,25<=c)throw Error(s(301));if(c+=1,fe=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}S.H=ca,f=n(a,l)}while(ss);return f}function LE(){var t=S.H,n=t.useState()[0];return n=typeof n.then=="function"?_l(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(wt.flags|=1024),n}function ch(){var t=Jo!==0;return Jo=0,t}function hh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function fh(t){if(Wo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Wo=!1}or=0,fe=Qt=wt=null,ss=!1,yl=Jo=0,ls=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?wt.memoizedState=fe=t:fe=fe.next=t,fe}function de(){if(Qt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=fe===null?wt.memoizedState:fe.next;if(n!==null)fe=n,Qt=t;else{if(t===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},fe===null?wt.memoizedState=fe=t:fe=fe.next=t}return fe}var tu;tu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function _l(t){var n=yl;return yl+=1,ls===null&&(ls=[]),t=Lm(ls,t,n),n=wt,(fe===null?n.memoizedState:fe.next)===null&&(n=n.alternate,S.H=n===null||n.memoizedState===null?ua:ur),t}function eu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _l(t);if(t.$$typeof===P)return He(t)}throw Error(s(438,String(t)))}function dh(t){var n=null,a=wt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=tu(),wt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=Tt;return n.index++,a}function bi(t,n){return typeof n=="function"?n(t):n}function nu(t){var n=de();return mh(n,Qt,t)}function mh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var v=c.next;c.next=f.next,f.next=v}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=v=null,b=null,N=n,G=!1;do{var X=N.lane&-536870913;if(X!==N.lane?(Ut&X)===X:(or&X)===X){var B=N.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),X===rs&&(G=!0);else if((or&B)===B){N=N.next,B===rs&&(G=!0);continue}else X={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},b===null?(E=b=X,v=f):b=b.next=X,wt.lanes|=B,_r|=B;X=N.action,oa&&a(f,X),f=N.hasEagerState?N.eagerState:a(f,X)}else B={lane:X,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},b===null?(E=b=B,v=f):b=b.next=B,wt.lanes|=X,_r|=X;N=N.next}while(N!==null&&N!==n);if(b===null?v=f:b.next=E,!on(f,t.memoizedState)&&(Oe=!0,G&&(a=as,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function gh(t){var n=de(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var v=c=c.next;do f=t(f,v.action),v=v.next;while(v!==c);on(f,n.memoizedState)||(Oe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Ym(t,n,a){var l=wt,c=de(),f=Bt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var v=!on((Qt||c).memoizedState,a);if(v&&(c.memoizedState=a,Oe=!0),c=c.queue,_h(Zm.bind(null,l,c,t),[t]),c.getSnapshot!==n||v||fe!==null&&fe.memoizedState.tag&1){if(l.flags|=2048,os(9,$m.bind(null,l,c,a,n),{destroy:void 0},null),Xt===null)throw Error(s(349));f||or&60||Xm(l,n,a)}return a}function Xm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=wt.updateQueue,n===null?(n=tu(),wt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function $m(t,n,a,l){n.value=a,n.getSnapshot=l,Wm(n)&&Jm(t)}function Zm(t,n,a){return a(function(){Wm(n)&&Jm(t)})}function Wm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!on(t,a)}catch{return!0}}function Jm(t){var n=ar(t,2);n!==null&&Je(n,t,2)}function ph(t){var n=nn();if(typeof t=="function"){var a=t;if(t=a(),oa){Bn(!0);try{a()}finally{Bn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:t},n}function tg(t,n,a,l){return t.baseState=a,mh(t,Qt,typeof l=="function"?l:bi)}function zE(t,n,a,l,c){if(au(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};S.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,eg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function eg(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=S.T,v={};S.T=v;try{var E=a(c,l),b=S.S;b!==null&&b(v,E),ng(t,n,E)}catch(N){yh(t,n,N)}finally{S.T=f}}else try{f=a(c,l),ng(t,n,f)}catch(N){yh(t,n,N)}}function ng(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ig(t,n,l)},function(l){return yh(t,n,l)}):ig(t,n,a)}function ig(t,n,a){n.status="fulfilled",n.value=a,rg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,eg(t,a)))}function yh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,rg(n),n=n.next;while(n!==l)}t.action=null}function rg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function ag(t,n){return n}function sg(t,n){if(Bt){var a=Xt.formState;if(a!==null){t:{var l=wt;if(Bt){if(Le){e:{for(var c=Le,f=Zn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Pn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Le=Pn(c.nextSibling),l=c.data==="F!";break t}}aa(l)}l=!1}l&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ag,lastRenderedState:n},a.queue=l,a=bg.bind(null,wt,l),l.dispatch=a,l=ph(!1),f=Sh.bind(null,wt,!1,l.queue),l=nn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=zE.bind(null,wt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function lg(t){var n=de();return og(n,Qt,t)}function og(t,n,a){n=mh(t,n,ag)[0],t=nu(bi)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?_l(n):n;var l=de(),c=l.queue,f=c.dispatch;return a!==l.memoizedState&&(wt.flags|=2048,os(9,PE.bind(null,c,a),{destroy:void 0},null)),[n,f,t]}function PE(t,n){t.action=n}function ug(t){var n=de(),a=Qt;if(a!==null)return og(n,a,t);de(),n=n.memoizedState,a=de();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function os(t,n,a,l){return t={tag:t,create:n,inst:a,deps:l,next:null},n=wt.updateQueue,n===null&&(n=tu(),wt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function cg(){return de().memoizedState}function iu(t,n,a,l){var c=nn();wt.flags|=t,c.memoizedState=os(1|n,a,{destroy:void 0},l===void 0?null:l)}function ru(t,n,a,l){var c=de();l=l===void 0?null:l;var f=c.memoizedState.inst;Qt!==null&&l!==null&&oh(l,Qt.memoizedState.deps)?c.memoizedState=os(n,a,f,l):(wt.flags|=t,c.memoizedState=os(1|n,a,f,l))}function hg(t,n){iu(8390656,8,t,n)}function _h(t,n){ru(2048,8,t,n)}function fg(t,n){return ru(4,2,t,n)}function dg(t,n){return ru(4,4,t,n)}function mg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function gg(t,n,a){a=a!=null?a.concat([t]):null,ru(4,4,mg.bind(null,n,t),a)}function vh(){}function pg(t,n){var a=de();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&oh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function yg(t,n){var a=de();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&oh(n,l[1]))return l[0];if(l=t(),oa){Bn(!0);try{t()}finally{Bn(!1)}}return a.memoizedState=[l,n],l}function Eh(t,n,a){return a===void 0||or&1073741824?t.memoizedState=n:(t.memoizedState=a,t=vp(),wt.lanes|=t,_r|=t,a)}function _g(t,n,a,l){return on(a,n)?a:is.current!==null?(t=Eh(t,a,l),on(t,n)||(Oe=!0),t):or&42?(t=vp(),wt.lanes|=t,_r|=t,n):(Oe=!0,t.memoizedState=a)}function vg(t,n,a,l,c){var f=it.p;it.p=f!==0&&8>f?f:8;var v=S.T,E={};S.T=E,Sh(t,!1,n,a);try{var b=c(),N=S.S;if(N!==null&&N(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=xE(b,l);vl(t,n,G,fn(t))}else vl(t,n,l,fn(t))}catch(X){vl(t,n,{then:function(){},status:"rejected",reason:X},fn())}finally{it.p=f,S.T=v}}function kE(){}function Th(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=Eg(t).queue;vg(t,c,n,Rt,a===null?kE:function(){return Tg(t),a(l)})}function Eg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Rt,baseState:Rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:Rt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Tg(t){var n=Eg(t).next.queue;vl(t,n,{},fn())}function Ah(){return He(kl)}function Ag(){return de().memoizedState}function Sg(){return de().memoizedState}function BE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=fn();t=fr(a);var l=dr(n,t,a);l!==null&&(Je(l,n,a),Al(l,n,a)),n={cache:ah()},t.payload=n;return}n=n.return}}function jE(t,n,a){var l=fn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},au(t)?Rg(n,a):(a=Wc(t,n,a,l),a!==null&&(Je(a,t,l),wg(a,n,l)))}function bg(t,n,a){var l=fn();vl(t,n,a,l)}function vl(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(au(t))Rg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,E=f(v,a);if(c.hasEagerState=!0,c.eagerState=E,on(E,v))return qo(t,n,c,0),Xt===null&&jo(),!1}catch{}finally{}if(a=Wc(t,n,c,l),a!==null)return Je(a,t,l),wg(a,n,l),!0}return!1}function Sh(t,n,a,l){if(l={lane:2,revertLane:df(),action:l,hasEagerState:!1,eagerState:null,next:null},au(t)){if(n)throw Error(s(479))}else n=Wc(t,a,l,2),n!==null&&Je(n,t,2)}function au(t){var n=t.alternate;return t===wt||n!==null&&n===wt}function Rg(t,n){ss=Wo=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function wg(t,n,a){if(a&4194176){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Xi(t,a)}}var Jn={readContext:He,use:eu,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe};Jn.useCacheRefresh=oe,Jn.useMemoCache=oe,Jn.useHostTransitionStatus=oe,Jn.useFormState=oe,Jn.useActionState=oe,Jn.useOptimistic=oe;var ua={readContext:He,use:eu,useCallback:function(t,n){return nn().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:hg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,iu(4194308,4,mg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return iu(4194308,4,t,n)},useInsertionEffect:function(t,n){iu(4,2,t,n)},useMemo:function(t,n){var a=nn();n=n===void 0?null:n;var l=t();if(oa){Bn(!0);try{t()}finally{Bn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=nn();if(a!==void 0){var c=a(n);if(oa){Bn(!0);try{a(n)}finally{Bn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=jE.bind(null,wt,t),[l.memoizedState,t]},useRef:function(t){var n=nn();return t={current:t},n.memoizedState=t},useState:function(t){t=ph(t);var n=t.queue,a=bg.bind(null,wt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:vh,useDeferredValue:function(t,n){var a=nn();return Eh(a,t,n)},useTransition:function(){var t=ph(!1);return t=vg.bind(null,wt,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=wt,c=nn();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Xt===null)throw Error(s(349));Ut&60||Xm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,hg(Zm.bind(null,l,f,t),[t]),l.flags|=2048,os(9,$m.bind(null,l,f,a,n),{destroy:void 0},null),a},useId:function(){var t=nn(),n=Xt.identifierPrefix;if(Bt){var a=Ai,l=Ti;a=(l&~(1<<32-Xe(l)-1)).toString(32)+a,n=":"+n+"R"+a,a=Jo++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=UE++,n=":"+n+"r"+a.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return nn().memoizedState=BE.bind(null,wt)}};ua.useMemoCache=dh,ua.useHostTransitionStatus=Ah,ua.useFormState=sg,ua.useActionState=sg,ua.useOptimistic=function(t){var n=nn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Sh.bind(null,wt,!0,a),a.dispatch=n,[t,n]};var ur={readContext:He,use:eu,useCallback:pg,useContext:He,useEffect:_h,useImperativeHandle:gg,useInsertionEffect:fg,useLayoutEffect:dg,useMemo:yg,useReducer:nu,useRef:cg,useState:function(){return nu(bi)},useDebugValue:vh,useDeferredValue:function(t,n){var a=de();return _g(a,Qt.memoizedState,t,n)},useTransition:function(){var t=nu(bi)[0],n=de().memoizedState;return[typeof t=="boolean"?t:_l(t),n]},useSyncExternalStore:Ym,useId:Ag};ur.useCacheRefresh=Sg,ur.useMemoCache=dh,ur.useHostTransitionStatus=Ah,ur.useFormState=lg,ur.useActionState=lg,ur.useOptimistic=function(t,n){var a=de();return tg(a,Qt,t,n)};var ca={readContext:He,use:eu,useCallback:pg,useContext:He,useEffect:_h,useImperativeHandle:gg,useInsertionEffect:fg,useLayoutEffect:dg,useMemo:yg,useReducer:gh,useRef:cg,useState:function(){return gh(bi)},useDebugValue:vh,useDeferredValue:function(t,n){var a=de();return Qt===null?Eh(a,t,n):_g(a,Qt.memoizedState,t,n)},useTransition:function(){var t=gh(bi)[0],n=de().memoizedState;return[typeof t=="boolean"?t:_l(t),n]},useSyncExternalStore:Ym,useId:Ag};ca.useCacheRefresh=Sg,ca.useMemoCache=dh,ca.useHostTransitionStatus=Ah,ca.useFormState=ug,ca.useActionState=ug,ca.useOptimistic=function(t,n){var a=de();return Qt!==null?tg(a,Qt,t,n):(a.baseState=t,[t,a.queue.dispatch])};function bh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:D({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Rh={isMounted:function(t){return(t=t._reactInternals)?ft(t)===t:!1},enqueueSetState:function(t,n,a){t=t._reactInternals;var l=fn(),c=fr(l);c.payload=n,a!=null&&(c.callback=a),n=dr(t,c,l),n!==null&&(Je(n,t,l),Al(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=fn(),c=fr(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=dr(t,c,l),n!==null&&(Je(n,t,l),Al(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=fn(),l=fr(a);l.tag=2,n!=null&&(l.callback=n),n=dr(t,l,a),n!==null&&(Je(n,t,a),Al(n,t,a))}};function Cg(t,n,a,l,c,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!sl(a,l)||!sl(c,f):!0}function Dg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Rh.enqueueReplaceState(n,n.state,null)}function ha(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=D({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var su=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ig(t){su(t)}function Vg(t){console.error(t)}function Og(t){su(t)}function lu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ng(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function wh(t,n,a){return a=fr(a),a.tag=3,a.payload={element:null},a.callback=function(){lu(t,n)},a}function Mg(t){return t=fr(t),t.tag=3,t}function xg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Ng(n,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Ng(n,a,l),typeof c!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function qE(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Tl(n,a,c,!0),a=Cn.current,a!==null){switch(a.tag){case 13:return Wn===null?of():a.alternate===null&&ae===0&&(ae=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===nh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),cf(t,l,c)),!1;case 22:return a.flags|=65536,l===nh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),cf(t,l,c)),!1}throw Error(s(435,a.tag))}return cf(t,l,c),of(),!1}if(Bt)return n=Cn.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==eh&&(t=Error(s(422),{cause:l}),cl(bn(t,a)))):(l!==eh&&(n=Error(s(423),{cause:l}),cl(bn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=bn(l,a),c=wh(t.stateNode,l,c),jh(t,c),ae!==4&&(ae=2)),!1;var f=Error(s(520),{cause:l});if(f=bn(f,a),Vl===null?Vl=[f]:Vl.push(f),ae!==4&&(ae=2),n===null)return!0;l=bn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=wh(a.stateNode,l,t),jh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(vr===null||!vr.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Mg(c),xg(c,t,a,l),jh(a,c),!1}a=a.return}while(a!==null);return!1}var Ug=Error(s(461)),Oe=!1;function ze(t,n,a,l){n.child=t===null?Bm(n,null,a,l):sa(n,t.child,a,l)}function Lg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return da(n),l=uh(t,n,a,v,f,c),E=ch(),t!==null&&!Oe?(hh(t,n,c),Ri(t,n,c)):(Bt&&E&&Jc(n),n.flags|=1,ze(t,n,l,c),n.child)}function zg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Xh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Pg(t,n,f,l,c)):(t=fu(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Uh(t,c)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:sl,a(v,l)&&t.ref===n.ref)return Ri(t,n,c)}return n.flags|=1,t=yr(f,l),t.ref=n.ref,t.return=n,n.child=t}function Pg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(sl(f,l)&&t.ref===n.ref)if(Oe=!1,n.pendingProps=l=f,Uh(t,c))t.flags&131072&&(Oe=!0);else return n.lanes=t.lanes,Ri(t,n,c)}return Ch(t,n,a,l,c)}function kg(t,n,a){var l=n.pendingProps,c=l.children,f=(n.stateNode._pendingVisibility&2)!==0,v=t!==null?t.memoizedState:null;if(El(t,n),l.mode==="hidden"||f){if(n.flags&128){if(l=v!==null?v.baseLanes|a:a,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Bg(t,n,l,a)}if(a&536870912)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Zo(n,v!==null?v.cachePool:null),v!==null?jm(n,v):ih(),qm(n);else return n.lanes=n.childLanes=536870912,Bg(t,n,v!==null?v.baseLanes|a:a,a)}else v!==null?(Zo(n,v.cachePool),jm(n,v),lr(),n.memoizedState=null):(t!==null&&Zo(n,null),ih(),lr());return ze(t,n,c,a),n.child}function Bg(t,n,a,l){var c=lh();return c=c===null?null:{parent:Se._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&Zo(n,null),ih(),qm(n),t!==null&&Tl(t,n,l,!0),null}function El(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=2097664)}}function Ch(t,n,a,l,c){return da(n),a=uh(t,n,a,l,void 0,c),l=ch(),t!==null&&!Oe?(hh(t,n,c),Ri(t,n,c)):(Bt&&l&&Jc(n),n.flags|=1,ze(t,n,a,c),n.child)}function jg(t,n,a,l,c,f){return da(n),n.updateQueue=null,a=Km(n,l,a,c),Qm(t),l=ch(),t!==null&&!Oe?(hh(t,n,f),Ri(t,n,f)):(Bt&&l&&Jc(n),n.flags|=1,ze(t,n,a,f),n.child)}function qg(t,n,a,l,c){if(da(n),n.stateNode===null){var f=Ja,v=a.contextType;typeof v=="object"&&v!==null&&(f=He(v)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Rh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},kh(n),v=a.contextType,f.context=typeof v=="object"&&v!==null?He(v):Ja,f.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(bh(n,a,v,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Rh.enqueueReplaceState(f,f.state,null),bl(n,l,f,c),Sl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=ha(a,E);f.props=b;var N=f.context,G=a.contextType;v=Ja,typeof G=="object"&&G!==null&&(v=He(G));var X=a.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||N!==v)&&Dg(n,f,l,v),hr=!1;var B=n.memoizedState;f.state=B,bl(n,l,f,c),Sl(),N=n.memoizedState,E||B!==N||hr?(typeof X=="function"&&(bh(n,a,X,l),N=n.memoizedState),(b=hr||Cg(n,a,b,l,B,N,v))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=N),f.props=l,f.state=N,f.context=v,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Bh(t,n),v=n.memoizedProps,G=ha(a,v),f.props=G,X=n.pendingProps,B=f.context,N=a.contextType,b=Ja,typeof N=="object"&&N!==null&&(b=He(N)),E=a.getDerivedStateFromProps,(N=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==X||B!==b)&&Dg(n,f,l,b),hr=!1,B=n.memoizedState,f.state=B,bl(n,l,f,c),Sl();var q=n.memoizedState;v!==X||B!==q||hr||t!==null&&t.dependencies!==null&&ou(t.dependencies)?(typeof E=="function"&&(bh(n,a,E,l),q=n.memoizedState),(G=hr||Cg(n,a,G,l,B,q,b)||t!==null&&t.dependencies!==null&&ou(t.dependencies))?(N||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=b,l=G):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,El(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=sa(n,t.child,null,c),n.child=sa(n,null,a,c)):ze(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Ri(t,n,c),t}function Hg(t,n,a,l){return ul(),n.flags|=256,ze(t,n,a,l),n.child}var Dh={dehydrated:null,treeContext:null,retryLane:0};function Ih(t){return{baseLanes:t,cachePool:Fm()}}function Vh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=On),t}function Gg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),v&&(c=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?sr(n):lr(),Bt){var E=Le,b;if(b=E){t:{for(b=E,E=Zn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Pn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:ia!==null?{id:Ti,overflow:Ai}:null,retryLane:536870912},b=Vn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,We=n,Le=null,b=!0):b=!1}b||aa(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;Si(n)}return E=l.children,l=l.fallback,c?(lr(),c=n.mode,E=Nh({mode:"hidden",children:E},c),l=ga(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Ih(a),c.childLanes=Vh(t,v,a),n.memoizedState=Dh,l):(sr(n),Oh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(sr(n),n.flags&=-257,n=Mh(t,n,a)):n.memoizedState!==null?(lr(),n.child=t.child,n.flags|=128,n=null):(lr(),c=l.fallback,E=n.mode,l=Nh({mode:"visible",children:l.children},E),c=ga(c,E,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,sa(n,t.child,null,a),l=n.child,l.memoizedState=Ih(a),l.childLanes=Vh(t,v,a),n.memoizedState=Dh,n=c);else if(sr(n),E.data==="$!"){if(v=E.nextSibling&&E.nextSibling.dataset,v)var N=v.dgst;v=N,l=Error(s(419)),l.stack="",l.digest=v,cl({value:l,source:null,stack:null}),n=Mh(t,n,a)}else if(Oe||Tl(t,n,a,!1),v=(a&t.childLanes)!==0,Oe||v){if(v=Xt,v!==null){if(l=a&-a,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(v.suspendedLanes|a)?0:l,l!==0&&l!==b.retryLane)throw b.retryLane=l,ar(t,l),Je(v,t,l),Ug}E.data==="$?"||of(),n=Mh(t,n,a)}else E.data==="$?"?(n.flags|=128,n.child=t.child,n=iT.bind(null,t),E._reactRetry=n,n=null):(t=b.treeContext,Le=Pn(E.nextSibling),We=n,Bt=!0,Ln=null,Zn=!1,t!==null&&(Rn[wn++]=Ti,Rn[wn++]=Ai,Rn[wn++]=ia,Ti=t.id,Ai=t.overflow,ia=n),n=Oh(n,l.children),n.flags|=4096);return n}return c?(lr(),c=l.fallback,E=n.mode,b=t.child,N=b.sibling,l=yr(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&31457280,N!==null?c=yr(N,c):(c=ga(c,E,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Ih(a):(b=E.cachePool,b!==null?(N=Se._currentValue,b=b.parent!==N?{parent:N,pool:N}:b):b=Fm(),E={baseLanes:E.baseLanes|a,cachePool:b}),c.memoizedState=E,c.childLanes=Vh(t,v,a),n.memoizedState=Dh,l):(sr(n),a=t.child,t=a.sibling,a=yr(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=a,n.memoizedState=null,a)}function Oh(t,n){return n=Nh({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Nh(t,n){return pp(t,n,0,null)}function Mh(t,n,a){return sa(n,t.child,null,a),t=Oh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Fg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),zh(t.return,n,a)}function xh(t,n,a,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=c)}function Qg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(ze(t,n,l.children,a),l=Ae.current,l&2)l=l&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fg(t,a,n);else if(t.tag===19)Fg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ft(Ae,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&$o(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),xh(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&$o(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}xh(n,!0,a,null,f);break;case"together":xh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ri(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),_r|=n.lanes,!(a&n.childLanes))if(t!==null){if(Tl(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=yr(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=yr(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Uh(t,n){return t.lanes&n?!0:(t=t.dependencies,!!(t!==null&&ou(t)))}function HE(t,n,a){switch(n.tag){case 3:Hi(n,n.stateNode.containerInfo),cr(n,Se,t.memoizedState.cache),ul();break;case 27:case 5:ks(n);break;case 4:Hi(n,n.stateNode.containerInfo);break;case 10:cr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(sr(n),n.flags|=128,null):a&n.child.childLanes?Gg(t,n,a):(sr(n),t=Ri(t,n,a),t!==null?t.sibling:null);sr(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Tl(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Qg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ft(Ae,Ae.current),l)break;return null;case 22:case 23:return n.lanes=0,kg(t,n,a);case 24:cr(n,Se,t.memoizedState.cache)}return Ri(t,n,a)}function Kg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Oe=!0;else{if(!Uh(t,a)&&!(n.flags&128))return Oe=!1,HE(t,n,a);Oe=!!(t.flags&131072)}else Oe=!1,Bt&&n.flags&1048576&&Om(n,Fo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Xh(l)?(t=ha(l,t),n.tag=1,n=qg(null,n,l,t,a)):(n.tag=0,n=Ch(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===F){n.tag=11,n=Lg(null,n,l,t,a);break t}else if(c===J){n.tag=14,n=zg(null,n,l,t,a);break t}}throw n=w(l)||l,Error(s(306,n,""))}}return n;case 0:return Ch(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=ha(l,n.pendingProps),qg(t,n,l,c,a);case 3:t:{if(Hi(n,n.stateNode.containerInfo),t===null)throw Error(s(387));var f=n.pendingProps;c=n.memoizedState,l=c.element,Bh(t,n),bl(n,f,null,a);var v=n.memoizedState;if(f=v.cache,cr(n,Se,f),f!==c.cache&&Ph(n,[Se],a,!0),Sl(),f=v.element,c.isDehydrated)if(c={element:f,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=Hg(t,n,f,a);break t}else if(f!==l){l=bn(Error(s(424)),n),cl(l),n=Hg(t,n,f,a);break t}else for(Le=Pn(n.stateNode.containerInfo.firstChild),We=n,Bt=!0,Ln=null,Zn=!0,a=Bm(n,null,f,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ul(),f===l){n=Ri(t,n,a);break t}ze(t,n,f,a)}n=n.child}return n;case 26:return El(t,n),t===null?(a=$p(n.type,null,n.pendingProps,null))?n.memoizedState=a:Bt||(a=n.type,t=n.pendingProps,l=bu(pn.current).createElement(a),l[De]=n,l[ve]=t,Pe(l,a,t),Wt(l),n.stateNode=l):n.memoizedState=$p(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ks(n),t===null&&Bt&&(l=n.stateNode=Kp(n.type,n.pendingProps,pn.current),We=n,Zn=!0,Le=Pn(l.firstChild)),l=n.pendingProps.children,t!==null||Bt?ze(t,n,l,a):n.child=sa(n,null,l,a),El(t,n),n.child;case 5:return t===null&&Bt&&((c=l=Le)&&(l=vT(l,n.type,n.pendingProps,Zn),l!==null?(n.stateNode=l,We=n,Le=Pn(l.firstChild),Zn=!1,c=!0):c=!1),c||aa(n)),ks(n),c=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,Af(c,f)?l=null:v!==null&&Af(c,v)&&(n.flags|=32),n.memoizedState!==null&&(c=uh(t,n,LE,null,null,a),kl._currentValue=c),El(t,n),ze(t,n,l,a),n.child;case 6:return t===null&&Bt&&((t=a=Le)&&(a=ET(a,n.pendingProps,Zn),a!==null?(n.stateNode=a,We=n,Le=null,t=!0):t=!1),t||aa(n)),null;case 13:return Gg(t,n,a);case 4:return Hi(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=sa(n,null,l,a):ze(t,n,l,a),n.child;case 11:return Lg(t,n,n.type,n.pendingProps,a);case 7:return ze(t,n,n.pendingProps,a),n.child;case 8:return ze(t,n,n.pendingProps.children,a),n.child;case 12:return ze(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,cr(n,n.type,l.value),ze(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,da(n),c=He(c),l=l(c),n.flags|=1,ze(t,n,l,a),n.child;case 14:return zg(t,n,n.type,n.pendingProps,a);case 15:return Pg(t,n,n.type,n.pendingProps,a);case 19:return Qg(t,n,a);case 22:return kg(t,n,a);case 24:return da(n),l=He(Se),t===null?(c=lh(),c===null&&(c=Xt,f=ah(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},kh(n),cr(n,Se,c)):(t.lanes&a&&(Bh(t,n),bl(n,null,null,a),Sl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),cr(n,Se,l)):(l=f.cache,cr(n,Se,l),l!==c.cache&&Ph(n,[Se],a,!0))),ze(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var Lh=Pt(null),fa=null,wi=null;function cr(t,n,a){Ft(Lh,n._currentValue),n._currentValue=a}function Ci(t){t._currentValue=Lh.current,ne(Lh)}function zh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Ph(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var v=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),zh(f.return,a,t),l||(v=null);break t}f=E.next}}else if(c.tag===18){if(v=c.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),zh(v,a,t),v=null}else v=c.child;if(v!==null)v.return=c;else for(v=c;v!==null;){if(v===t){v=null;break}if(c=v.sibling,c!==null){c.return=v.return,v=c;break}v=v.return}c=v}}function Tl(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if(c.flags&524288)f=!0;else if(c.flags&262144)break}if(c.tag===10){var v=c.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=c.type;on(c.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(c===qi.current){if(v=c.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(kl):t=[kl])}c=c.return}t!==null&&Ph(n,t,a,l),n.flags|=262144}function ou(t){for(t=t.firstContext;t!==null;){if(!on(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function da(t){fa=t,wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return Yg(fa,t)}function uu(t,n){return fa===null&&da(t),Yg(t,n)}function Yg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},wi===null){if(t===null)throw Error(s(308));wi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else wi=wi.next=n;return a}var hr=!1;function kh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function fr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function dr(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,te&2){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Ho(t),Im(t,null,a),n}return qo(t,l,n,a),Ho(t)}function Al(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Xi(t,a)}}function jh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var qh=!1;function Sl(){if(qh){var t=as;if(t!==null)throw t}}function bl(t,n,a,l){qh=!1;var c=t.updateQueue;hr=!1;var f=c.firstBaseUpdate,v=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,N=b.next;b.next=null,v===null?f=N:v.next=N,v=b;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==v&&(E===null?G.firstBaseUpdate=N:E.next=N,G.lastBaseUpdate=b))}if(f!==null){var X=c.baseState;v=0,G=N=b=null,E=f;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(Ut&B)===B:(l&B)===B){B!==0&&B===rs&&(qh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=t,vt=E;B=n;var se=a;switch(vt.tag){case 1:if(ot=vt.payload,typeof ot=="function"){X=ot.call(se,X,B);break t}X=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=vt.payload,B=typeof ot=="function"?ot.call(se,X,B):ot,B==null)break t;X=D({},X,B);break t;case 2:hr=!0}}B=E.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(N=G=q,b=X):G=G.next=q,v|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);G===null&&(b=X),c.baseState=b,c.firstBaseUpdate=N,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),_r|=v,t.lanes=v,t.memoizedState=X}}function Xg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function $g(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Xg(a[t],n)}function Rl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==c)}}catch(E){Yt(n,n.return,E)}}function mr(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,c=n;var b=a;try{E()}catch(N){Yt(c,b,N)}}}l=l.next}while(l!==f)}}catch(N){Yt(n,n.return,N)}}function Zg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{$g(n,a)}catch(l){Yt(t,t.return,l)}}}function Wg(t,n,a){a.props=ha(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(t,n,l)}}function ma(t,n){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof a=="function"?t.refCleanup=a(c):a.current=c}}catch(f){Yt(t,n,f)}}function un(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Yt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Yt(t,n,c)}else a.current=null}function Jg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Yt(t,t.return,c)}}function tp(t,n,a){try{var l=t.stateNode;mT(l,t.type,a,n),l[ve]=n}catch(c){Yt(t,t.return,c)}}function ep(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Hh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||ep(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(t,n):a.insertBefore(t,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(t,a)):(n=a,n.appendChild(t)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Su));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Gh(t,n,a),t=t.sibling;t!==null;)Gh(t,n,a),t=t.sibling}function cu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(cu(t,n,a),t=t.sibling;t!==null;)cu(t,n,a),t=t.sibling}var Di=!1,re=!1,Fh=!1,np=typeof WeakSet=="function"?WeakSet:Set,Ne=null,ip=!1;function GE(t,n){if(t=t.containerInfo,Ef=Vu,t=Em(t),Kc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,E=-1,b=-1,N=0,G=0,X=t,B=null;e:for(;;){for(var q;X!==a||c!==0&&X.nodeType!==3||(E=v+c),X!==f||l!==0&&X.nodeType!==3||(b=v+l),X.nodeType===3&&(v+=X.nodeValue.length),(q=X.firstChild)!==null;)B=X,X=q;for(;;){if(X===t)break e;if(B===a&&++N===c&&(E=v),B===f&&++G===l&&(b=v),(q=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=q}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Tf={focusedElem:t,selectionRange:a},Vu=!1,Ne=n;Ne!==null;)if(n=Ne,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ne=t;else for(;Ne!==null;){switch(n=Ne,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ot=ha(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(ot,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(vt){Yt(a,a.return,vt)}}break;case 3:if(t&1024){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Rf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Rf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ne=t;break}Ne=n.return}return ot=ip,ip=!1,ot}function rp(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Vi(t,a),l&4&&Rl(5,a);break;case 1:if(Vi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(E){Yt(a,a.return,E)}else{var c=ha(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Yt(a,a.return,E)}}l&64&&Zg(a),l&512&&ma(a,a.return);break;case 3:if(Vi(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{$g(l,t)}catch(E){Yt(a,a.return,E)}}break;case 26:Vi(t,a),l&512&&ma(a,a.return);break;case 27:case 5:Vi(t,a),n===null&&l&4&&Jg(a),l&512&&ma(a,a.return);break;case 12:Vi(t,a);break;case 13:Vi(t,a),l&4&&lp(t,a);break;case 22:if(c=a.memoizedState!==null||Di,!c){n=n!==null&&n.memoizedState!==null||re;var f=Di,v=re;Di=c,(re=n)&&!v?gr(t,a,(a.subtreeFlags&8772)!==0):Vi(t,a),Di=f,re=v}l&512&&(a.memoizedProps.mode==="manual"?ma(a,a.return):un(a,a.return));break;default:Vi(t,a)}}function ap(t){var n=t.alternate;n!==null&&(t.alternate=null,ap(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Gr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var me=null,cn=!1;function Ii(t,n,a){for(a=a.child;a!==null;)sp(t,n,a),a=a.sibling}function sp(t,n,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Gi,a)}catch{}switch(a.tag){case 26:re||un(a,n),Ii(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:re||un(a,n);var l=me,c=cn;for(me=a.stateNode,Ii(t,n,a),a=a.stateNode,n=a.attributes;n.length;)a.removeAttributeNode(n[0]);Gr(a),me=l,cn=c;break;case 5:re||un(a,n);case 6:c=me;var f=cn;if(me=null,Ii(t,n,a),me=c,cn=f,me!==null)if(cn)try{t=me,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(v){Yt(a,n,v)}else try{me.removeChild(a.stateNode)}catch(v){Yt(a,n,v)}break;case 18:me!==null&&(cn?(n=me,a=a.stateNode,n.nodeType===8?bf(n.parentNode,a):n.nodeType===1&&bf(n,a),Hl(n)):bf(me,a.stateNode));break;case 4:l=me,c=cn,me=a.stateNode.containerInfo,cn=!0,Ii(t,n,a),me=l,cn=c;break;case 0:case 11:case 14:case 15:re||mr(2,a,n),re||mr(4,a,n),Ii(t,n,a);break;case 1:re||(un(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Wg(a,n,l)),Ii(t,n,a);break;case 21:Ii(t,n,a);break;case 22:re||un(a,n),re=(l=re)||a.memoizedState!==null,Ii(t,n,a),re=l;break;default:Ii(t,n,a)}}function lp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Hl(t)}catch(a){Yt(n,n.return,a)}}function FE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new np),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new np),n;default:throw Error(s(435,t.tag))}}function Qh(t,n){var a=FE(t);n.forEach(function(l){var c=rT.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function Dn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,v=n,E=v;t:for(;E!==null;){switch(E.tag){case 27:case 5:me=E.stateNode,cn=!1;break t;case 3:me=E.stateNode.containerInfo,cn=!0;break t;case 4:me=E.stateNode.containerInfo,cn=!0;break t}E=E.return}if(me===null)throw Error(s(160));sp(f,v,c),me=null,cn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)op(n,t),n=n.sibling}var zn=null;function op(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Dn(n,t),In(t),l&4&&(mr(3,t,t.return),Rl(3,t),mr(5,t,t.return));break;case 1:Dn(n,t),In(t),l&512&&(re||a===null||un(a,a.return)),l&64&&Di&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=zn;if(Dn(n,t),In(t),l&512&&(re||a===null||un(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Zi]||f[De]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Pe(f,l,a),f[De]=t,Wt(f),l=f;break t;case"link":var v=Jp("link","href",c).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(a.href==null?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,a),c.head.appendChild(f);break;case"meta":if(v=Jp("meta","content",c).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,a),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[De]=t,Wt(f),l=f}t.stateNode=l}else ty(c,t.type,t.stateNode);else t.stateNode=Wp(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?ty(c,t.type,t.stateNode):Wp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&tp(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,f=t.memoizedProps;try{for(var b=c.firstChild;b;){var N=b.nextSibling,G=b.nodeName;b[Zi]||G==="HEAD"||G==="BODY"||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=N}for(var X=t.type,B=c.attributes;B.length;)c.removeAttributeNode(B[0]);Pe(c,X,f),c[De]=t,c[ve]=f}catch(ot){Yt(t,t.return,ot)}}case 5:if(Dn(n,t),In(t),l&512&&(re||a===null||un(a,a.return)),t.flags&32){c=t.stateNode;try{vn(c,"")}catch(ot){Yt(t,t.return,ot)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,tp(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Fh=!0);break;case 6:if(Dn(n,t),In(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ot){Yt(t,t.return,ot)}}break;case 3:if(Cu=null,c=zn,zn=Ru(n.containerInfo),Dn(n,t),zn=c,In(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Hl(n.containerInfo)}catch(ot){Yt(t,t.return,ot)}Fh&&(Fh=!1,up(t));break;case 4:l=zn,zn=Ru(t.stateNode.containerInfo),Dn(n,t),In(t),zn=l;break;case 12:Dn(n,t),In(t);break;case 13:Dn(n,t),In(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ef=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qh(t,l)));break;case 22:if(l&512&&(re||a===null||un(a,a.return)),b=t.memoizedState!==null,N=a!==null&&a.memoizedState!==null,G=Di,X=re,Di=G||b,re=X||N,Dn(n,t),re=X,Di=G,In(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=b?n._visibility&-2:n._visibility|1,b&&(n=Di||re,a===null||N||n||us(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(a=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(a===null){N=a=n;try{if(c=N.stateNode,b)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{v=N.stateNode,E=N.memoizedProps.style;var q=E!=null&&E.hasOwnProperty("display")?E.display:null;v.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ot){Yt(N,N.return,ot)}}}else if(n.tag===6){if(a===null){N=n;try{N.stateNode.nodeValue=b?"":N.memoizedProps}catch(ot){Yt(N,N.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Qh(t,a))));break;case 19:Dn(n,t),In(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qh(t,l)));break;case 21:break;default:Dn(n,t),In(t)}}function In(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var a=t.return;a!==null;){if(ep(a)){var l=a;break t}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var c=l.stateNode,f=Hh(t);cu(t,f,c);break;case 5:var v=l.stateNode;l.flags&32&&(vn(v,""),l.flags&=-33);var E=Hh(t);cu(t,E,v);break;case 3:case 4:var b=l.stateNode.containerInfo,N=Hh(t);Gh(t,N,b);break;default:throw Error(s(161))}}}catch(G){Yt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function up(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;up(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Vi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)rp(t,n.alternate,n),n=n.sibling}function us(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:mr(4,n,n.return),us(n);break;case 1:un(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Wg(n,n.return,a),us(n);break;case 26:case 27:case 5:un(n,n.return),us(n);break;case 22:un(n,n.return),n.memoizedState===null&&us(n);break;default:us(n)}t=t.sibling}}function gr(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:gr(c,f,a),Rl(4,f);break;case 1:if(gr(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(N){Yt(l,l.return,N)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Xg(b[c],E)}catch(N){Yt(l,l.return,N)}}a&&v&64&&Zg(f),ma(f,f.return);break;case 26:case 27:case 5:gr(c,f,a),a&&l===null&&v&4&&Jg(f),ma(f,f.return);break;case 12:gr(c,f,a);break;case 13:gr(c,f,a),a&&v&4&&lp(c,f);break;case 22:f.memoizedState===null&&gr(c,f,a),ma(f,f.return);break;default:gr(c,f,a)}n=n.sibling}}function Kh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&gl(a))}function Yh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&gl(t))}function pr(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)cp(t,n,a,l),n=n.sibling}function cp(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:pr(t,n,a,l),c&2048&&Rl(9,n);break;case 3:pr(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&gl(t)));break;case 12:if(c&2048){pr(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Yt(n,n.return,b)}}else pr(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?pr(t,n,a,l):wl(t,n):f._visibility&4?pr(t,n,a,l):(f._visibility|=4,cs(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&Kh(n.alternate,n);break;case 24:pr(t,n,a,l),c&2048&&Yh(n.alternate,n);break;default:pr(t,n,a,l)}}function cs(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,v=n,E=a,b=l,N=v.flags;switch(v.tag){case 0:case 11:case 15:cs(f,v,E,b,c),Rl(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&4?cs(f,v,E,b,c):wl(f,v):(G._visibility|=4,cs(f,v,E,b,c)),c&&N&2048&&Kh(v.alternate,v);break;case 24:cs(f,v,E,b,c),c&&N&2048&&Yh(v.alternate,v);break;default:cs(f,v,E,b,c)}n=n.sibling}}function wl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:wl(a,l),c&2048&&Kh(l.alternate,l);break;case 24:wl(a,l),c&2048&&Yh(l.alternate,l);break;default:wl(a,l)}n=n.sibling}}var Cl=8192;function hs(t){if(t.subtreeFlags&Cl)for(t=t.child;t!==null;)hp(t),t=t.sibling}function hp(t){switch(t.tag){case 26:hs(t),t.flags&Cl&&t.memoizedState!==null&&MT(zn,t.memoizedState,t.memoizedProps);break;case 5:hs(t);break;case 3:case 4:var n=zn;zn=Ru(t.stateNode.containerInfo),hs(t),zn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Cl,Cl=16777216,hs(t),Cl=n):hs(t));break;default:hs(t)}}function fp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Dl(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ne=l,mp(l,t)}fp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)dp(t),t=t.sibling}function dp(t){switch(t.tag){case 0:case 11:case 15:Dl(t),t.flags&2048&&mr(9,t,t.return);break;case 3:Dl(t);break;case 12:Dl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,hu(t)):Dl(t);break;default:Dl(t)}}function hu(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ne=l,mp(l,t)}fp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:mr(8,n,n.return),hu(n);break;case 22:a=n.stateNode,a._visibility&4&&(a._visibility&=-5,hu(n));break;default:hu(n)}t=t.sibling}}function mp(t,n){for(;Ne!==null;){var a=Ne;switch(a.tag){case 0:case 11:case 15:mr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:gl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ne=l;else t:for(a=t;Ne!==null;){l=Ne;var c=l.sibling,f=l.return;if(ap(l),l===a){Ne=null;break t}if(c!==null){c.return=f,Ne=c;break t}Ne=f}}}function QE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,n,a,l){return new QE(t,n,a,l)}function Xh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yr(t,n){var a=t.alternate;return a===null?(a=Vn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function gp(t,n){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function fu(t,n,a,l,c,f){var v=0;if(l=t,typeof t=="function")Xh(t)&&(v=1);else if(typeof t=="string")v=OT(t,a,Ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case p:return ga(a.children,c,f,n);case y:v=8,c|=24;break;case A:return t=Vn(12,a,n,c|2),t.elementType=A,t.lanes=f,t;case Y:return t=Vn(13,a,n,c),t.elementType=Y,t.lanes=f,t;case H:return t=Vn(19,a,n,c),t.elementType=H,t.lanes=f,t;case st:return pp(a,c,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case R:case P:v=10;break t;case O:v=9;break t;case F:v=11;break t;case J:v=14;break t;case at:v=16,l=null;break t}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=Vn(v,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ga(t,n,a,l){return t=Vn(7,t,l,n),t.lanes=a,t}function pp(t,n,a,l){t=Vn(22,t,l,n),t.elementType=st,t.lanes=a;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=c._current;if(f===null)throw Error(s(456));if(!(c._pendingVisibility&2)){var v=ar(f,2);v!==null&&(c._pendingVisibility|=2,Je(v,f,2))}},attach:function(){var f=c._current;if(f===null)throw Error(s(456));if(c._pendingVisibility&2){var v=ar(f,2);v!==null&&(c._pendingVisibility&=-3,Je(v,f,2))}}};return t.stateNode=c,t}function $h(t,n,a){return t=Vn(6,t,null,n),t.lanes=a,t}function Zh(t,n,a){return n=Vn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Oi(t){t.flags|=4}function yp(t,n){if(n.type!=="stylesheet"||n.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!ey(n)){if(n=Cn.current,n!==null&&((Ut&4194176)===Ut?Wn!==null:(Ut&62914560)!==Ut&&!(Ut&536870912)||n!==Wn))throw fl=nh,xm;t.flags|=8192}}function du(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ki():536870912,t.lanes|=n,ds|=n)}function Il(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Jt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function KE(t,n,a){var l=n.pendingProps;switch(th(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(n),null;case 1:return Jt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ci(Se),ci(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ol(n)?Oi(n):t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Ln!==null&&(sf(Ln),Ln=null))),Jt(n),null;case 26:return a=n.memoizedState,t===null?(Oi(n),a!==null?(Jt(n),yp(n,a)):(Jt(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Oi(n),Jt(n),yp(n,a)):(Jt(n),n.flags&=-16777217):(t.memoizedProps!==l&&Oi(n),Jt(n),n.flags&=-16777217),null;case 27:Na(n),a=pn.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Jt(n),null}t=Ye.current,ol(n)?Nm(n):(t=Kp(c,l,a),n.stateNode=t,Oi(n))}return Jt(n),null;case 5:if(Na(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Jt(n),null}if(t=Ye.current,ol(n))Nm(n);else{switch(c=bu(pn.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[De]=n,t[ve]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Pe(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Oi(n)}}return Jt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=pn.current,ol(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=We,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[De]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||jp(t.nodeValue,a)),t||aa(n)}else t=bu(t).createTextNode(l),t[De]=n,n.stateNode=t}return Jt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=ol(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[De]=n}else ul(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Jt(n),c=!1}else Ln!==null&&(sf(Ln),Ln=null),c=!0;if(!c)return n.flags&256?(Si(n),n):(Si(n),null)}if(Si(n),n.flags&128)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),du(n,n.updateQueue),Jt(n),null;case 4:return ci(),t===null&&yf(n.stateNode.containerInfo),Jt(n),null;case 10:return Ci(n.type),Jt(n),null;case 19:if(ne(Ae),c=n.memoizedState,c===null)return Jt(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Il(c,!1);else{if(ae!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(f=$o(t),f!==null){for(n.flags|=128,Il(c,!1),t=f.updateQueue,n.updateQueue=t,du(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)gp(a,t),a=a.sibling;return Ft(Ae,Ae.current&1|2),n.child}t=t.sibling}c.tail!==null&&tn()>mu&&(n.flags|=128,l=!0,Il(c,!1),n.lanes=4194304)}else{if(!l)if(t=$o(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,du(n,t),Il(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return Jt(n),null}else 2*tn()-c.renderingStartTime>mu&&a!==536870912&&(n.flags|=128,l=!0,Il(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=tn(),n.sibling=null,t=Ae.current,Ft(Ae,l?t&1|2:t&1),n):(Jt(n),null);case 22:case 23:return Si(n),rh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?a&536870912&&!(n.flags&128)&&(Jt(n),n.subtreeFlags&6&&(n.flags|=8192)):Jt(n),a=n.updateQueue,a!==null&&du(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&ne(la),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ci(Se),Jt(n),null;case 25:return null}throw Error(s(156,n.tag))}function YE(t,n){switch(th(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ci(Se),ci(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Na(n),null;case 13:if(Si(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ul()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ne(Ae),null;case 4:return ci(),null;case 10:return Ci(n.type),null;case 22:case 23:return Si(n),rh(),t!==null&&ne(la),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ci(Se),null;case 25:return null;default:return null}}function _p(t,n){switch(th(n),n.tag){case 3:Ci(Se),ci();break;case 26:case 27:case 5:Na(n);break;case 4:ci();break;case 13:Si(n);break;case 19:ne(Ae);break;case 10:Ci(n.type);break;case 22:case 23:Si(n),rh(),t!==null&&ne(la);break;case 24:Ci(Se)}}var XE={getCacheForType:function(t){var n=He(Se),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},$E=typeof WeakMap=="function"?WeakMap:Map,te=0,Xt=null,Dt=null,Ut=0,$t=0,hn=null,Ni=!1,fs=!1,Wh=!1,Mi=0,ae=0,_r=0,pa=0,Jh=0,On=0,ds=0,Vl=null,ti=null,tf=!1,ef=0,mu=1/0,gu=null,vr=null,pu=!1,ya=null,Ol=0,nf=0,rf=null,Nl=0,af=null;function fn(){if(te&2&&Ut!==0)return Ut&-Ut;if(S.T!==null){var t=rs;return t!==0?t:df()}return Ao()}function vp(){On===0&&(On=!(Ut&536870912)||Bt?Gs():536870912);var t=Cn.current;return t!==null&&(t.flags|=32),On}function Je(t,n,a){(t===Xt&&$t===2||t.cancelPendingCommit!==null)&&(ms(t,0),xi(t,Ut,On,!1)),le(t,a),(!(te&2)||t!==Xt)&&(t===Xt&&(!(te&2)&&(pa|=a),ae===4&&xi(t,Ut,On,!1)),ei(t))}function Ep(t,n,a){if(te&6)throw Error(s(327));var l=!a&&(n&60)===0&&(n&t.expiredLanes)===0||Qi(t,n),c=l?JE(t,n):uf(t,n,!0),f=l;do{if(c===0){fs&&!l&&xi(t,n,0,!1);break}else if(c===6)xi(t,n,0,!Ni);else{if(a=t.current.alternate,f&&!ZE(a)){c=uf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var E=t;c=Vl;var b=E.current.memoizedState.isDehydrated;if(b&&(ms(E,v).flags|=256),v=uf(E,v,!1),v!==2){if(Wh&&!b){E.errorRecoveryDisabledLanes|=f,pa|=f,c=4;break t}f=ti,ti=c,f!==null&&sf(f)}c=v}if(f=!1,c!==2)continue}}if(c===1){ms(t,0),xi(t,n,0,!0);break}t:{switch(l=t,c){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){xi(l,n,On,!Ni);break t}break;case 2:ti=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=n,(n&62914560)===n&&(f=ef+300-tn(),10<f)){if(xi(l,n,On,!Ni),yn(l,0)!==0)break t;l.timeoutHandle=Gp(Tp.bind(null,l,a,ti,gu,tf,n,On,pa,ds,Ni,2,-0,0),f);break t}Tp(l,a,ti,gu,tf,n,On,pa,ds,Ni,0,-0,0)}}break}while(!0);ei(t)}function sf(t){ti===null?ti=t:ti.push.apply(ti,t)}function Tp(t,n,a,l,c,f,v,E,b,N,G,X,B){var q=n.subtreeFlags;if((q&8192||(q&16785408)===16785408)&&(Pl={stylesheets:null,count:0,unsuspend:NT},hp(n),n=xT(),n!==null)){t.cancelPendingCommit=n(Dp.bind(null,t,a,l,c,v,E,b,1,X,B)),xi(t,f,v,!N);return}Dp(t,a,l,c,v,E,b,G,X,B)}function ZE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!on(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function xi(t,n,a,l){n&=~Jh,n&=~pa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Xe(c),v=1<<f;l[f]=-1,c&=~v}a!==0&&Yi(t,a,n)}function yu(){return te&6?!0:(Ml(0),!1)}function lf(){if(Dt!==null){if($t===0)var t=Dt.return;else t=Dt,wi=fa=null,fh(t),ns=null,dl=0,t=Dt;for(;t!==null;)_p(t.alternate,t),t=t.return;Dt=null}}function ms(t,n){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,pT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),lf(),Xt=t,Dt=a=yr(t.current,null),Ut=n,$t=0,hn=null,Ni=!1,fs=Qi(t,n),Wh=!1,ds=On=Jh=pa=_r=ae=0,ti=Vl=null,tf=!1,n&8&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Xe(l),f=1<<c;n|=t[c],l&=~f}return Mi=n,jo(),a}function Ap(t,n){wt=null,S.H=Jn,n===hl?(n=zm(),$t=3):n===xm?(n=zm(),$t=4):$t=n===Ug?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,Dt===null&&(ae=1,lu(t,bn(n,t.current)))}function Sp(){var t=S.H;return S.H=Jn,t===null?Jn:t}function bp(){var t=S.A;return S.A=XE,t}function of(){ae=4,Ni||(Ut&4194176)!==Ut&&Cn.current!==null||(fs=!0),!(_r&134217727)&&!(pa&134217727)||Xt===null||xi(Xt,Ut,On,!1)}function uf(t,n,a){var l=te;te|=2;var c=Sp(),f=bp();(Xt!==t||Ut!==n)&&(gu=null,ms(t,n)),n=!1;var v=ae;t:do try{if($t!==0&&Dt!==null){var E=Dt,b=hn;switch($t){case 8:lf(),v=6;break t;case 3:case 2:case 6:Cn.current===null&&(n=!0);var N=$t;if($t=0,hn=null,gs(t,E,b,N),a&&fs){v=0;break t}break;default:N=$t,$t=0,hn=null,gs(t,E,b,N)}}WE(),v=ae;break}catch(G){Ap(t,G)}while(!0);return n&&t.shellSuspendCounter++,wi=fa=null,te=l,S.H=c,S.A=f,Dt===null&&(Xt=null,Ut=0,jo()),v}function WE(){for(;Dt!==null;)Rp(Dt)}function JE(t,n){var a=te;te|=2;var l=Sp(),c=bp();Xt!==t||Ut!==n?(gu=null,mu=tn()+500,ms(t,n)):fs=Qi(t,n);t:do try{if($t!==0&&Dt!==null){n=Dt;var f=hn;e:switch($t){case 1:$t=0,hn=null,gs(t,n,f,1);break;case 2:if(Um(f)){$t=0,hn=null,wp(n);break}n=function(){$t===2&&Xt===t&&($t=7),ei(t)},f.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:Um(f)?($t=0,hn=null,wp(n)):($t=0,hn=null,gs(t,n,f,7));break;case 5:var v=null;switch(Dt.tag){case 26:v=Dt.memoizedState;case 5:case 27:var E=Dt;if(!v||ey(v)){$t=0,hn=null;var b=E.sibling;if(b!==null)Dt=b;else{var N=E.return;N!==null?(Dt=N,_u(N)):Dt=null}break e}}$t=0,hn=null,gs(t,n,f,5);break;case 6:$t=0,hn=null,gs(t,n,f,6);break;case 8:lf(),ae=6;break t;default:throw Error(s(462))}}tT();break}catch(G){Ap(t,G)}while(!0);return wi=fa=null,S.H=l,S.A=c,te=a,Dt!==null?0:(Xt=null,Ut=0,jo(),ae)}function tT(){for(;Dt!==null&&!Lc();)Rp(Dt)}function Rp(t){var n=Kg(t.alternate,t,Mi);t.memoizedProps=t.pendingProps,n===null?_u(t):Dt=n}function wp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=jg(a,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=jg(a,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:fh(n);default:_p(a,n),n=Dt=gp(n,Mi),n=Kg(a,n,Mi)}t.memoizedProps=t.pendingProps,n===null?_u(t):Dt=n}function gs(t,n,a,l){wi=fa=null,fh(n),ns=null,dl=0;var c=n.return;try{if(qE(t,c,n,a,Ut)){ae=1,lu(t,bn(a,t.current)),Dt=null;return}}catch(f){if(c!==null)throw Dt=c,f;ae=1,lu(t,bn(a,t.current)),Dt=null;return}n.flags&32768?(Bt||l===1?t=!0:fs||Ut&536870912?t=!1:(Ni=t=!0,(l===2||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Cp(n,t)):_u(n)}function _u(t){var n=t;do{if(n.flags&32768){Cp(n,Ni);return}t=n.return;var a=KE(n.alternate,n,Mi);if(a!==null){Dt=a;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);ae===0&&(ae=5)}function Cp(t,n){do{var a=YE(t.alternate,t);if(a!==null){a.flags&=32767,Dt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=a}while(t!==null);ae=6,Dt=null}function Dp(t,n,a,l,c,f,v,E,b,N){var G=S.T,X=it.p;try{it.p=2,S.T=null,eT(t,n,a,l,X,c,f,v,E,b,N)}finally{S.T=G,it.p=X}}function eT(t,n,a,l,c,f,v,E){do ps();while(ya!==null);if(te&6)throw Error(s(327));var b=t.finishedWork;if(l=t.finishedLanes,b===null)return null;if(t.finishedWork=null,t.finishedLanes=0,b===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var N=b.lanes|b.childLanes;if(N|=Zc,Eo(t,l,N,f,v,E),t===Xt&&(Dt=Xt=null,Ut=0),!(b.subtreeFlags&10256)&&!(b.flags&10256)||pu||(pu=!0,nf=N,rf=a,aT(hi,function(){return ps(),null})),a=(b.flags&15990)!==0,b.subtreeFlags&15990||a?(a=S.T,S.T=null,f=it.p,it.p=2,v=te,te|=4,GE(t,b),op(b,t),RE(Tf,t.containerInfo),Vu=!!Ef,Tf=Ef=null,t.current=b,rp(t,b.alternate,b),Bs(),te=v,it.p=f,S.T=a):t.current=b,pu?(pu=!1,ya=t,Ol=l):Ip(t,N),N=t.pendingLanes,N===0&&(vr=null),qs(b.stateNode),ei(t),n!==null)for(c=t.onRecoverableError,b=0;b<n.length;b++)N=n[b],c(N.value,{componentStack:N.stack});return Ol&3&&ps(),N=t.pendingLanes,l&4194218&&N&42?t===af?Nl++:(Nl=0,af=t):Nl=0,Ml(0),null}function Ip(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,gl(n)))}function ps(){if(ya!==null){var t=ya,n=nf;nf=0;var a=To(Ol),l=S.T,c=it.p;try{if(it.p=32>a?32:a,S.T=null,ya===null)var f=!1;else{a=rf,rf=null;var v=ya,E=Ol;if(ya=null,Ol=0,te&6)throw Error(s(331));var b=te;if(te|=4,dp(v.current),cp(v,v.current,E,a),te=b,Ml(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Gi,v)}catch{}f=!0}return f}finally{it.p=c,S.T=l,Ip(t,n)}}return!1}function Vp(t,n,a){n=bn(a,n),n=wh(t.stateNode,n,2),t=dr(t,n,2),t!==null&&(le(t,2),ei(t))}function Yt(t,n,a){if(t.tag===3)Vp(t,t,a);else for(;n!==null;){if(n.tag===3){Vp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(vr===null||!vr.has(l))){t=bn(a,t),a=Mg(2),l=dr(n,a,2),l!==null&&(xg(a,l,n,t),le(l,2),ei(l));break}}n=n.return}}function cf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new $E;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Wh=!0,c.add(a),t=nT.bind(null,t,n,a),n.then(t,t))}function nT(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Xt===t&&(Ut&a)===a&&(ae===4||ae===3&&(Ut&62914560)===Ut&&300>tn()-ef?!(te&2)&&ms(t,0):Jh|=a,ds===Ut&&(ds=0)),ei(t)}function Op(t,n){n===0&&(n=Ki()),t=ar(t,n),t!==null&&(le(t,n),ei(t))}function iT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Op(t,a)}function rT(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Op(t,a)}function aT(t,n){return jr(t,n)}var vu=null,ys=null,hf=!1,Eu=!1,ff=!1,_a=0;function ei(t){t!==ys&&t.next===null&&(ys===null?vu=ys=t:ys=ys.next=t),Eu=!0,hf||(hf=!0,lT(sT))}function Ml(t,n){if(!ff&&Eu){ff=!0;do for(var a=!1,l=vu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var v=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Xe(42|t)+1)-1,f&=c&~(v&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(a=!0,xp(l,f))}else f=Ut,f=yn(l,l===Xt?f:0),!(f&3)||Qi(l,f)||(a=!0,xp(l,f));l=l.next}while(a);ff=!1}}function sT(){Eu=hf=!1;var t=0;_a!==0&&(gT()&&(t=_a),_a=0);for(var n=tn(),a=null,l=vu;l!==null;){var c=l.next,f=Np(l,n);f===0?(l.next=null,a===null?vu=c:a.next=c,c===null&&(ys=a)):(a=l,(t!==0||f&3)&&(Eu=!0)),l=c}Ml(t)}function Np(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-Xe(f),E=1<<v,b=c[v];b===-1?(!(E&a)||E&l)&&(c[v]=Ua(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=Xt,a=Ut,a=yn(t,t===n?a:0),l=t.callbackNode,a===0||t===n&&$t===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&xa(l),t.callbackNode=null,t.callbackPriority=0;if(!(a&3)||Qi(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&xa(l),To(a)){case 2:case 8:a=Ce;break;case 32:a=hi;break;case 268435456:a=js;break;default:a=hi}return l=Mp.bind(null,t),a=jr(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&xa(l),t.callbackPriority=2,t.callbackNode=null,2}function Mp(t,n){var a=t.callbackNode;if(ps()&&t.callbackNode!==a)return null;var l=Ut;return l=yn(t,t===Xt?l:0),l===0?null:(Ep(t,l,n),Np(t,tn()),t.callbackNode!=null&&t.callbackNode===a?Mp.bind(null,t):null)}function xp(t,n){if(ps())return null;Ep(t,n,!0)}function lT(t){yT(function(){te&6?jr(_e,t):t()})}function df(){return _a===0&&(_a=Gs()),_a}function Up(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Gn(""+t)}function Lp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function oT(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Up((c[ve]||null).action),v=l.submitter;v&&(n=(n=v[ve]||null)?Up(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var E=new qa("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(_a!==0){var b=v?Lp(c,v):new FormData(c);Th(a,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=v?Lp(c,v):new FormData(c),Th(a,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var mf=0;mf<Dm.length;mf++){var gf=Dm[mf],uT=gf.toLowerCase(),cT=gf[0].toUpperCase()+gf.slice(1);Un(uT,"on"+cT)}Un(Sm,"onAnimationEnd"),Un(bm,"onAnimationIteration"),Un(Rm,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(CE,"onTransitionRun"),Un(DE,"onTransitionStart"),Un(IE,"onTransitionCancel"),Un(wm,"onTransitionEnd"),en("onMouseEnter",["mouseout","mouseover"]),en("onMouseLeave",["mouseout","mouseover"]),en("onPointerEnter",["pointerout","pointerover"]),en("onPointerLeave",["pointerout","pointerover"]),sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function zp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var E=l[v],b=E.instance,N=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=N;try{f(c)}catch(G){su(G)}c.currentTarget=null,f=b}else for(v=0;v<l.length;v++){if(E=l[v],b=E.instance,N=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=N;try{f(c)}catch(G){su(G)}c.currentTarget=null,f=b}}}}function Ot(t,n){var a=n[Hr];a===void 0&&(a=n[Hr]=new Set);var l=t+"__bubble";a.has(l)||(Pp(n,t,2,!1),a.add(l))}function pf(t,n,a){var l=0;n&&(l|=4),Pp(a,t,l,n)}var Tu="_reactListening"+Math.random().toString(36).slice(2);function yf(t){if(!t[Tu]){t[Tu]=!0,Qs.forEach(function(a){a!=="selectionchange"&&(hT.has(a)||pf(a,!1,t),pf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Tu]||(n[Tu]=!0,pf("selectionchange",!1,n))}}function Pp(t,n,a,l){switch(ly(n)){case 2:var c=zT;break;case 8:c=PT;break;default:c=Vf}a=c.bind(null,n,a,t),c=void 0,!Tn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function _f(t,n,a,l,c){var f=l;if(!(n&1)&&!(n&2)&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===c||E.nodeType===8&&E.parentNode===c)break;if(v===4)for(v=l.return;v!==null;){var b=v.tag;if((b===3||b===4)&&(b=v.stateNode.containerInfo,b===c||b.nodeType===8&&b.parentNode===c))return;v=v.return}for(;E!==null;){if(v=xn(E),v===null)return;if(b=v.tag,b===5||b===6||b===26||b===27){l=f=v;continue t}E=E.parentNode}}l=l.return}wo(function(){var N=f,G=ja(a),X=[];t:{var B=Cm.get(t);if(B!==void 0){var q=qa,ot=t;switch(t){case"keypress":if(Qn(a)===0)break t;case"keydown":case"keyup":q=Ya;break;case"focusin":ot="focus",q=Fa;break;case"focusout":ot="blur",q=Fa;break;case"beforeblur":case"afterblur":q=Fa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Hc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=xo;break;case Sm:case bm:case Rm:q=Qa;break;case wm:q=Lo;break;case"scroll":case"scrollend":q=Co;break;case"wheel":q=Xa;break;case"copy":case"cut":case"paste":q=Ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=rl;break;case"toggle":case"beforetoggle":q=Po}var vt=(n&4)!==0,se=!vt&&(t==="scroll"||t==="scrollend"),U=vt?B!==null?B+"Capture":null:B;vt=[];for(var V=N,k;V!==null;){var Q=V;if(k=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||k===null||U===null||(Q=Yr(V,U),Q!=null&&vt.push(Ul(V,Q,k))),se)break;V=V.return}0<vt.length&&(B=new q(B,ot,null,a,G),X.push({event:B,listeners:vt}))}}if(!(n&7)){t:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&a!==En&&(ot=a.relatedTarget||a.fromElement)&&(xn(ot)||ot[fi]))break t;if((q||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,q?(ot=a.relatedTarget||a.toElement,q=N,ot=ot?xn(ot):null,ot!==null&&(se=ft(ot),vt=ot.tag,ot!==se||vt!==5&&vt!==27&&vt!==6)&&(ot=null)):(q=null,ot=N),q!==ot)){if(vt=An,Q="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(vt=rl,Q="onPointerLeave",U="onPointerEnter",V="pointer"),se=q==null?B:Wi(q),k=ot==null?B:Wi(ot),B=new vt(Q,V+"leave",q,a,G),B.target=se,B.relatedTarget=k,Q=null,xn(G)===N&&(vt=new vt(U,V+"enter",ot,a,G),vt.target=k,vt.relatedTarget=se,Q=vt),se=Q,q&&ot)e:{for(vt=q,U=ot,V=0,k=vt;k;k=_s(k))V++;for(k=0,Q=U;Q;Q=_s(Q))k++;for(;0<V-k;)vt=_s(vt),V--;for(;0<k-V;)U=_s(U),k--;for(;V--;){if(vt===U||U!==null&&vt===U.alternate)break e;vt=_s(vt),U=_s(U)}vt=null}else vt=null;q!==null&&kp(X,B,q,vt,!1),ot!==null&&se!==null&&kp(X,se,ot,vt,!0)}}t:{if(B=N?Wi(N):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var lt=fm;else if(Te(B))if(dm)lt=SE;else{lt=TE;var Ct=EE}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?N&&Zs(N.elementType)&&(lt=fm):lt=AE;if(lt&&(lt=lt(t,N))){Ei(X,lt,a,G);break t}Ct&&Ct(t,B,N),t==="focusout"&&N&&B.type==="number"&&N.memoizedProps.value!=null&&Ba(B,"number",B.value)}switch(Ct=N?Wi(N):window,t){case"focusin":(Te(Ct)||Ct.contentEditable==="true")&&($a=Ct,Yc=N,ll=null);break;case"focusout":ll=Yc=$a=null;break;case"mousedown":Xc=!0;break;case"contextmenu":case"mouseup":case"dragend":Xc=!1,Tm(X,a,G);break;case"selectionchange":if(wE)break;case"keydown":case"keyup":Tm(X,a,G)}var ct;if(Xn)t:{switch(t){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else Mt?j(t,a)&&(gt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(gt="onCompositionStart");gt&&(_&&a.locale!=="ko"&&(Mt||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Mt&&(ct=Js()):(Fn=G,rr="value"in Fn?Fn.value:Fn.textContent,Mt=!0)),Ct=Au(N,gt),0<Ct.length&&(gt=new nl(gt,t,null,a,G),X.push({event:gt,listeners:Ct}),ct?gt.data=ct:(ct=W(a),ct!==null&&(gt.data=ct)))),(ct=m?Ee(t,a):xt(t,a))&&(gt=Au(N,"onBeforeInput"),0<gt.length&&(Ct=new nl("onBeforeInput","beforeinput",null,a,G),X.push({event:Ct,listeners:gt}),Ct.data=ct)),oT(X,t,N,a,G)}zp(X,n)})}function Ul(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Au(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Yr(t,a),c!=null&&l.unshift(Ul(t,c,f)),c=Yr(t,n),c!=null&&l.push(Ul(t,c,f))),t=t.return}return l}function _s(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function kp(t,n,a,l,c){for(var f=n._reactName,v=[];a!==null&&a!==l;){var E=a,b=E.alternate,N=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||N===null||(b=N,c?(N=Yr(a,f),N!=null&&v.unshift(Ul(a,N,b))):c||(N=Yr(a,f),N!=null&&v.push(Ul(a,N,b)))),a=a.return}v.length!==0&&t.push({event:n,listeners:v})}var fT=/\r\n?/g,dT=/\u0000|\uFFFD/g;function Bp(t){return(typeof t=="string"?t:""+t).replace(fT,`
`).replace(dT,"")}function jp(t,n){return n=Bp(n),Bp(t)===n}function Su(){}function Kt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||vn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&vn(t,""+l);break;case"className":er(t,"class",l);break;case"tabIndex":er(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":er(t,a,l);break;case"style":Ro(t,l,f);break;case"data":if(n!=="object"){er(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Gn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Kt(t,n,"name",c.name,c,null),Kt(t,n,"formEncType",c.formEncType,c,null),Kt(t,n,"formMethod",c.formMethod,c,null),Kt(t,n,"formTarget",c.formTarget,c,null)):(Kt(t,n,"encType",c.encType,c,null),Kt(t,n,"method",c.method,c,null),Kt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Gn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Su);break;case"onScroll":l!=null&&Ot("scroll",t);break;case"onScrollEnd":l!=null&&Ot("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Gn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ot("beforetoggle",t),Ot("toggle",t),tr(t,"popover",l);break;case"xlinkActuate":_n(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":_n(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":_n(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":_n(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":_n(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":_n(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":_n(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":_n(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":_n(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":tr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=jc.get(a)||a,tr(t,a,l))}}function vf(t,n,a,l,c,f){switch(a){case"style":Ro(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?vn(t,l):(typeof l=="number"||typeof l=="bigint")&&vn(t,""+l);break;case"onScroll":l!=null&&Ot("scroll",t);break;case"onScrollEnd":l!=null&&Ot("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Su);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pa.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[ve]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):tr(t,a,l)}}}function Pe(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",t),Ot("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,f,v,a,null)}}c&&Kt(t,n,"srcSet",a.srcSet,a,null),l&&Kt(t,n,"src",a.src,a,null);return;case"input":Ot("invalid",t);var E=f=v=c=null,b=null,N=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":c=G;break;case"type":v=G;break;case"checked":b=G;break;case"defaultChecked":N=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Kt(t,n,l,G,a,null)}}Qr(t,f,E,b,N,v,c,!1),Fr(t);return;case"select":Ot("invalid",t),l=v=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Kt(t,n,c,E,a,null)}n=f,a=v,t.multiple=!!l,n!=null?kt(t,!!l,n,!1):a!=null&&kt(t,!!l,a,!0);return;case"textarea":Ot("invalid",t),f=c=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Kt(t,n,v,E,a,null)}ir(t,l,c,f),Fr(t);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(l=a[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(t,n,b,l,a,null)}return;case"dialog":Ot("cancel",t),Ot("close",t);break;case"iframe":case"object":Ot("load",t);break;case"video":case"audio":for(l=0;l<xl.length;l++)Ot(xl[l],t);break;case"image":Ot("error",t),Ot("load",t);break;case"details":Ot("toggle",t);break;case"embed":case"source":case"link":Ot("error",t),Ot("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,N,l,a,null)}return;default:if(Zs(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&vf(t,n,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Kt(t,n,E,l,a,null))}function mT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,v=null,E=null,b=null,N=null,G=null;for(q in a){var X=a[q];if(a.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":b=X;default:l.hasOwnProperty(q)||Kt(t,n,q,null,l,X)}}for(var B in l){var q=l[B];if(X=a[B],l.hasOwnProperty(B)&&(q!=null||X!=null))switch(B){case"type":f=q;break;case"name":c=q;break;case"checked":N=q;break;case"defaultChecked":G=q;break;case"value":v=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==X&&Kt(t,n,B,q,l,X)}}nr(t,v,E,b,N,G,f,c);return;case"select":q=v=E=B=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":q=b;default:l.hasOwnProperty(f)||Kt(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=a[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==b&&Kt(t,n,c,f,l,b)}n=E,a=v,l=q,B!=null?kt(t,!!a,B,!1):!!l!=!!a&&(n!=null?kt(t,!!a,n,!0):kt(t,!!a,a?[]:"",!1));return;case"textarea":q=B=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(t,n,E,null,l,c)}for(v in l)if(c=l[v],f=a[v],l.hasOwnProperty(v)&&(c!=null||f!=null))switch(v){case"value":B=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Kt(t,n,v,c,l,f)}Kr(t,B,q);return;case"option":for(var ot in a)if(B=a[ot],a.hasOwnProperty(ot)&&B!=null&&!l.hasOwnProperty(ot))switch(ot){case"selected":t.selected=!1;break;default:Kt(t,n,ot,null,l,B)}for(b in l)if(B=l[b],q=a[b],l.hasOwnProperty(b)&&B!==q&&(B!=null||q!=null))switch(b){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Kt(t,n,b,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in a)B=a[vt],a.hasOwnProperty(vt)&&B!=null&&!l.hasOwnProperty(vt)&&Kt(t,n,vt,null,l,B);for(N in l)if(B=l[N],q=a[N],l.hasOwnProperty(N)&&B!==q&&(B!=null||q!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:Kt(t,n,N,B,l,q)}return;default:if(Zs(n)){for(var se in a)B=a[se],a.hasOwnProperty(se)&&B!==void 0&&!l.hasOwnProperty(se)&&vf(t,n,se,void 0,l,B);for(G in l)B=l[G],q=a[G],!l.hasOwnProperty(G)||B===q||B===void 0&&q===void 0||vf(t,n,G,B,l,q);return}}for(var U in a)B=a[U],a.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&Kt(t,n,U,null,l,B);for(X in l)B=l[X],q=a[X],!l.hasOwnProperty(X)||B===q||B==null&&q==null||Kt(t,n,X,B,l,q)}var Ef=null,Tf=null;function bu(t){return t.nodeType===9?t:t.ownerDocument}function qp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Af(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Sf=null;function gT(){var t=window.event;return t&&t.type==="popstate"?t===Sf?!1:(Sf=t,!0):(Sf=null,!1)}var Gp=typeof setTimeout=="function"?setTimeout:void 0,pT=typeof clearTimeout=="function"?clearTimeout:void 0,Fp=typeof Promise=="function"?Promise:void 0,yT=typeof queueMicrotask=="function"?queueMicrotask:typeof Fp<"u"?function(t){return Fp.resolve(null).then(t).catch(_T)}:Gp;function _T(t){setTimeout(function(){throw t})}function bf(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(l===0){t.removeChild(c),Hl(n);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=c}while(a);Hl(n)}function Rf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Rf(a),Gr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function vT(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Zi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function ET(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Pn(t.nextSibling),t===null))return null;return t}function Pn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function Qp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function Kp(t,n,a){switch(n=bu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Nn=new Map,Yp=new Set;function Ru(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Ui=it.d;it.d={f:TT,r:AT,D:ST,C:bT,L:RT,m:wT,X:DT,S:CT,M:IT};function TT(){var t=Ui.f(),n=yu();return t||n}function AT(t){var n=di(t);n!==null&&n.tag===5&&n.type==="form"?Tg(n):Ui.r(t)}var vs=typeof document>"u"?null:document;function Xp(t,n,a){var l=vs;if(l&&typeof n=="string"&&n){var c=ie(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Yp.has(c)||(Yp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pe(n,"link",t),Wt(n),l.head.appendChild(n)))}}function ST(t){Ui.D(t),Xp("dns-prefetch",t,null)}function bT(t,n){Ui.C(t,n),Xp("preconnect",t,n)}function RT(t,n,a){Ui.L(t,n,a);var l=vs;if(l&&t&&n){var c='link[rel="preload"][as="'+ie(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+ie(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+ie(a.imageSizes)+'"]')):c+='[href="'+ie(t)+'"]';var f=c;switch(n){case"style":f=Es(t);break;case"script":f=Ts(t)}Nn.has(f)||(t=D({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Nn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Ll(f))||n==="script"&&l.querySelector(zl(f))||(n=l.createElement("link"),Pe(n,"link",t),Wt(n),l.head.appendChild(n)))}}function wT(t,n){Ui.m(t,n);var a=vs;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ie(l)+'"][href="'+ie(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ts(t)}if(!Nn.has(f)&&(t=D({rel:"modulepreload",href:t},n),Nn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(zl(f)))return}l=a.createElement("link"),Pe(l,"link",t),Wt(l),a.head.appendChild(l)}}}function CT(t,n,a){Ui.S(t,n,a);var l=vs;if(l&&t){var c=Ji(l).hoistableStyles,f=Es(t);n=n||"default";var v=c.get(f);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(Ll(f)))E.loading=5;else{t=D({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Nn.get(f))&&wf(t,a);var b=v=l.createElement("link");Wt(b),Pe(b,"link",t),b._p=new Promise(function(N,G){b.onload=N,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,wu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:E},c.set(f,v)}}}function DT(t,n){Ui.X(t,n);var a=vs;if(a&&t){var l=Ji(a).hoistableScripts,c=Ts(t),f=l.get(c);f||(f=a.querySelector(zl(c)),f||(t=D({src:t,async:!0},n),(n=Nn.get(c))&&Cf(t,n),f=a.createElement("script"),Wt(f),Pe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function IT(t,n){Ui.M(t,n);var a=vs;if(a&&t){var l=Ji(a).hoistableScripts,c=Ts(t),f=l.get(c);f||(f=a.querySelector(zl(c)),f||(t=D({src:t,async:!0,type:"module"},n),(n=Nn.get(c))&&Cf(t,n),f=a.createElement("script"),Wt(f),Pe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function $p(t,n,a,l){var c=(c=pn.current)?Ru(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Es(a.href),a=Ji(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Es(a.href);var f=Ji(c).hoistableStyles,v=f.get(t);if(v||(c=c.ownerDocument||c,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=c.querySelector(Ll(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Nn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Nn.set(t,a),f||VT(c,t,a,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ts(a),a=Ji(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Es(t){return'href="'+ie(t)+'"'}function Ll(t){return'link[rel="stylesheet"]['+t+"]"}function Zp(t){return D({},t,{"data-precedence":t.precedence,precedence:null})}function VT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",a),Wt(n),t.head.appendChild(n))}function Ts(t){return'[src="'+ie(t)+'"]'}function zl(t){return"script[async]"+t}function Wp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ie(a.href)+'"]');if(l)return n.instance=l,Wt(l),l;var c=D({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Wt(l),Pe(l,"style",c),wu(l,a.precedence,t),n.instance=l;case"stylesheet":c=Es(a.href);var f=t.querySelector(Ll(c));if(f)return n.state.loading|=4,n.instance=f,Wt(f),f;l=Zp(a),(c=Nn.get(c))&&wf(l,c),f=(t.ownerDocument||t).createElement("link"),Wt(f);var v=f;return v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),Pe(f,"link",l),n.state.loading|=4,wu(f,a.precedence,t),n.instance=f;case"script":return f=Ts(a.src),(c=t.querySelector(zl(f)))?(n.instance=c,Wt(c),c):(l=a,(c=Nn.get(f))&&(l=D({},a),Cf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Wt(c),Pe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(l=n.instance,n.state.loading|=4,wu(l,a.precedence,t));return n.instance}function wu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function wf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Cf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Cu=null;function Jp(t,n,a){if(Cu===null){var l=new Map,c=Cu=new Map;c.set(a,l)}else c=Cu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[Zi]||f[De]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var E=l.get(v);E?E.push(f):l.set(v,[f])}}return l}function ty(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function OT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ey(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Pl=null;function NT(){}function MT(t,n,a){if(Pl===null)throw Error(s(475));var l=Pl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var c=Es(a.href),f=t.querySelector(Ll(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Du.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,Wt(f);return}f=t.ownerDocument||t,a=Zp(a),(c=Nn.get(c))&&wf(a,c),f=f.createElement("link"),Wt(f);var v=f;v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),Pe(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(l.count++,n=Du.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function xT(){if(Pl===null)throw Error(s(475));var t=Pl;return t.stylesheets&&t.count===0&&Df(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Df(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Du(){if(this.count--,this.count===0){if(this.stylesheets)Df(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Iu=null;function Df(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Iu=new Map,n.forEach(UT,t),Iu=null,Du.call(t))}function UT(t,n){if(!(n.state.loading&4)){var a=Iu.get(t);if(a)var l=a.get(null);else{a=new Map,Iu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var v=c[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}c=n.instance,v=c.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,c),a.set(v,c),this.count++,l=Du.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var kl={$$typeof:P,Provider:null,Consumer:null,_currentValue:Rt,_currentValue2:Rt,_threadCount:0};function LT(t,n,a,l,c,f,v,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=La(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=La(0),this.hiddenUpdates=La(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function ny(t,n,a,l,c,f,v,E,b,N,G,X){return t=new LT(t,n,a,v,E,b,N,X),n=1,f===!0&&(n|=24),f=Vn(3,null,null,n),t.current=f,f.stateNode=t,n=ah(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},kh(f),t}function iy(t){return t?(t=Ja,t):Ja}function ry(t,n,a,l,c,f){c=iy(c),l.context===null?l.context=c:l.pendingContext=c,l=fr(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=dr(t,l,n),a!==null&&(Je(a,t,n),Al(a,t,n))}function ay(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function If(t,n){ay(t,n),(t=t.alternate)&&ay(t,n)}function sy(t){if(t.tag===13){var n=ar(t,67108864);n!==null&&Je(n,t,67108864),If(t,67108864)}}var Vu=!0;function zT(t,n,a,l){var c=S.T;S.T=null;var f=it.p;try{it.p=2,Vf(t,n,a,l)}finally{it.p=f,S.T=c}}function PT(t,n,a,l){var c=S.T;S.T=null;var f=it.p;try{it.p=8,Vf(t,n,a,l)}finally{it.p=f,S.T=c}}function Vf(t,n,a,l){if(Vu){var c=Of(l);if(c===null)_f(t,n,l,Ou,a),oy(t,l);else if(BT(c,t,n,a,l))l.stopPropagation();else if(oy(t,l),n&4&&-1<kT.indexOf(t)){for(;c!==null;){var f=di(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Mn(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var b=1<<31-Xe(v);E.entanglements[1]|=b,v&=~b}ei(f),!(te&6)&&(mu=tn()+500,Ml(0))}}break;case 13:E=ar(f,2),E!==null&&Je(E,f,2),yu(),If(f,2)}if(f=Of(l),f===null&&_f(t,n,l,Ou,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else _f(t,n,l,null,a)}}function Of(t){return t=ja(t),Nf(t)}var Ou=null;function Nf(t){if(Ou=null,t=xn(t),t!==null){var n=ft(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=qt(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ou=t,null}function ly(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(po()){case _e:return 2;case Ce:return 8;case hi:case yo:return 32;case js:return 268435456;default:return 32}default:return 32}}var Mf=!1,Er=null,Tr=null,Ar=null,Bl=new Map,jl=new Map,Sr=[],kT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function oy(t,n){switch(t){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":Bl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(n.pointerId)}}function ql(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=di(n),n!==null&&sy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function BT(t,n,a,l,c){switch(n){case"focusin":return Er=ql(Er,t,n,a,l,c),!0;case"dragenter":return Tr=ql(Tr,t,n,a,l,c),!0;case"mouseover":return Ar=ql(Ar,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Bl.set(f,ql(Bl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,jl.set(f,ql(jl.get(f)||null,t,n,a,l,c)),!0}return!1}function uy(t){var n=xn(t.target);if(n!==null){var a=ft(n);if(a!==null){if(n=a.tag,n===13){if(n=qt(a),n!==null){t.blockedOn=n,$i(t.priority,function(){if(a.tag===13){var l=fn(),c=ar(a,l);c!==null&&Je(c,a,l),If(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Of(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);En=l,a.target.dispatchEvent(l),En=null}else return n=di(a),n!==null&&sy(n),t.blockedOn=a,!1;n.shift()}return!0}function cy(t,n,a){Nu(t)&&a.delete(n)}function jT(){Mf=!1,Er!==null&&Nu(Er)&&(Er=null),Tr!==null&&Nu(Tr)&&(Tr=null),Ar!==null&&Nu(Ar)&&(Ar=null),Bl.forEach(cy),jl.forEach(cy)}function Mu(t,n){t.blockedOn===n&&(t.blockedOn=null,Mf||(Mf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,jT)))}var xu=null;function hy(t){xu!==t&&(xu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){xu===t&&(xu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Nf(l||a)===null)continue;break}var f=di(a);f!==null&&(t.splice(n,3),n-=3,Th(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Hl(t){function n(b){return Mu(b,t)}Er!==null&&Mu(Er,t),Tr!==null&&Mu(Tr,t),Ar!==null&&Mu(Ar,t),Bl.forEach(n),jl.forEach(n);for(var a=0;a<Sr.length;a++){var l=Sr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Sr.length&&(a=Sr[0],a.blockedOn===null);)uy(a),a.blockedOn===null&&Sr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],v=c[ve]||null;if(typeof f=="function")v||hy(a);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,v=f[ve]||null)E=v.formAction;else if(Nf(c)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),hy(a)}}}function xf(t){this._internalRoot=t}Uu.prototype.render=xf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=fn();ry(a,l,t,n,null,null)},Uu.prototype.unmount=xf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&ps(),ry(t.current,2,null,t,null,null),yu(),n[fi]=null}};function Uu(t){this._internalRoot=t}Uu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ao();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Sr.length&&n!==0&&n<Sr[a].priority;a++);Sr.splice(a,0,t),a===0&&uy(t)}};var fy=e.version;if(fy!=="19.0.0")throw Error(s(527,fy,"19.0.0"));it.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=Z(n),t=t!==null?ut(t):null,t=t===null?null:t.stateNode,t};var qT={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:xn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lu.isDisabled&&Lu.supportsFiber)try{Gi=Lu.inject(qT),qe=Lu}catch{}}return Fl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",c=Ig,f=Vg,v=Og,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=ny(t,1,!1,null,null,a,l,c,f,v,E,null),t[fi]=n.current,yf(t.nodeType===8?t.parentNode:t),new xf(n)},Fl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,c="",f=Ig,v=Vg,E=Og,b=null,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(N=a.formState)),n=ny(t,1,!0,n,a??null,l,c,f,v,E,b,N),n.context=iy(null),a=n.current,l=fn(),c=fr(l),c.callback=null,dr(a,c,l),n.current.lanes=l,le(n,l),ei(n),t[fi]=n.current,yf(t),new Uu(n)},Fl.version="19.0.0",Fl}var Ay;function eA(){if(Ay)return zf.exports;Ay=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),zf.exports=tA(),zf.exports}var nA=eA();K_();/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eo(){return eo=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])}return r},eo.apply(this,arguments)}var Rr;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Rr||(Rr={}));const Sy="popstate";function iA(r){r===void 0&&(r={});function e(s,o){let{pathname:h,search:d,hash:g}=s.location;return Jf("",{pathname:h,search:d,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:Yu(o)}return aA(e,i,null,r)}function pe(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Y_(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rA(){return Math.random().toString(36).substr(2,8)}function by(r,e){return{usr:r.state,key:r.key,idx:e}}function Jf(r,e,i,s){return i===void 0&&(i=null),eo({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?xs(e):e,{state:i,key:e&&e.key||s||rA()})}function Yu(r){let{pathname:e="/",search:i="",hash:s=""}=r;return i&&i!=="?"&&(e+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function xs(r){let e={};if(r){let i=r.indexOf("#");i>=0&&(e.hash=r.substr(i),r=r.substr(0,i));let s=r.indexOf("?");s>=0&&(e.search=r.substr(s),r=r.substr(0,s)),r&&(e.pathname=r)}return e}function aA(r,e,i,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:h=!1}=s,d=o.history,g=Rr.Pop,p=null,y=A();y==null&&(y=0,d.replaceState(eo({},d.state,{idx:y}),""));function A(){return(d.state||{idx:null}).idx}function R(){g=Rr.Pop;let H=A(),J=H==null?null:H-y;y=H,p&&p({action:g,location:Y.location,delta:J})}function O(H,J){g=Rr.Push;let at=Jf(Y.location,H,J);y=A()+1;let st=by(at,y),Tt=Y.createHref(at);try{d.pushState(st,"",Tt)}catch(mt){if(mt instanceof DOMException&&mt.name==="DataCloneError")throw mt;o.location.assign(Tt)}h&&p&&p({action:g,location:Y.location,delta:1})}function P(H,J){g=Rr.Replace;let at=Jf(Y.location,H,J);y=A();let st=by(at,y),Tt=Y.createHref(at);d.replaceState(st,"",Tt),h&&p&&p({action:g,location:Y.location,delta:0})}function F(H){let J=o.location.origin!=="null"?o.location.origin:o.location.href,at=typeof H=="string"?H:Yu(H);return at=at.replace(/ $/,"%20"),pe(J,"No window.location.(origin|href) available to create URL for href: "+at),new URL(at,J)}let Y={get action(){return g},get location(){return r(o,d)},listen(H){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Sy,R),p=H,()=>{o.removeEventListener(Sy,R),p=null}},createHref(H){return e(o,H)},createURL:F,encodeLocation(H){let J=F(H);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:O,replace:P,go(H){return d.go(H)}};return Y}var Ry;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(Ry||(Ry={}));function sA(r,e,i){return i===void 0&&(i="/"),lA(r,e,i)}function lA(r,e,i,s){let o=typeof e=="string"?xs(e):e,h=Rd(o.pathname||"/",i);if(h==null)return null;let d=X_(r);oA(d);let g=null;for(let p=0;g==null&&p<d.length;++p){let y=EA(h);g=yA(d[p],y)}return g}function X_(r,e,i,s){e===void 0&&(e=[]),i===void 0&&(i=[]),s===void 0&&(s="");let o=(h,d,g)=>{let p={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};p.relativePath.startsWith("/")&&(pe(p.relativePath.startsWith(s),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(s.length));let y=Cr([s,p.relativePath]),A=i.concat(p);h.children&&h.children.length>0&&(pe(h.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),X_(h.children,e,A,y)),!(h.path==null&&!h.index)&&e.push({path:y,score:gA(y,h.index),routesMeta:A})};return r.forEach((h,d)=>{var g;if(h.path===""||!((g=h.path)!=null&&g.includes("?")))o(h,d);else for(let p of $_(h.path))o(h,d,p)}),e}function $_(r){let e=r.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),h=i.replace(/\?$/,"");if(s.length===0)return o?[h,""]:[h];let d=$_(s.join("/")),g=[];return g.push(...d.map(p=>p===""?h:[h,p].join("/"))),o&&g.push(...d),g.map(p=>r.startsWith("/")&&p===""?"/":p)}function oA(r){r.sort((e,i)=>e.score!==i.score?i.score-e.score:pA(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}const uA=/^:[\w-]+$/,cA=3,hA=2,fA=1,dA=10,mA=-2,wy=r=>r==="*";function gA(r,e){let i=r.split("/"),s=i.length;return i.some(wy)&&(s+=mA),e&&(s+=hA),i.filter(o=>!wy(o)).reduce((o,h)=>o+(uA.test(h)?cA:h===""?fA:dA),s)}function pA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function yA(r,e,i){let{routesMeta:s}=r,o={},h="/",d=[];for(let g=0;g<s.length;++g){let p=s[g],y=g===s.length-1,A=h==="/"?e:e.slice(h.length)||"/",R=_A({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},A),O=p.route;if(!R)return null;Object.assign(o,R.params),d.push({params:o,pathname:Cr([h,R.pathname]),pathnameBase:bA(Cr([h,R.pathnameBase])),route:O}),R.pathnameBase!=="/"&&(h=Cr([h,R.pathnameBase]))}return d}function _A(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=vA(r.path,r.caseSensitive,r.end),o=e.match(i);if(!o)return null;let h=o[0],d=h.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((y,A,R)=>{let{paramName:O,isOptional:P}=A;if(O==="*"){let Y=g[R]||"";d=h.slice(0,h.length-Y.length).replace(/(.)\/+$/,"$1")}const F=g[R];return P&&!F?y[O]=void 0:y[O]=(F||"").replace(/%2F/g,"/"),y},{}),pathname:h,pathnameBase:d,pattern:r}}function vA(r,e,i){e===void 0&&(e=!1),i===void 0&&(i=!0),Y_(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,p)=>(s.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function EA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Y_(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function Rd(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}function TA(r,e){e===void 0&&(e="/");let{pathname:i,search:s="",hash:o=""}=typeof r=="string"?xs(r):r;return{pathname:i?i.startsWith("/")?i:AA(i,e):e,search:RA(s),hash:wA(o)}}function AA(r,e){let i=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function jf(r,e,i,s){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function SA(r){return r.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Z_(r,e){let i=SA(r);return e?i.map((s,o)=>o===i.length-1?s.pathname:s.pathnameBase):i.map(s=>s.pathnameBase)}function W_(r,e,i,s){s===void 0&&(s=!1);let o;typeof r=="string"?o=xs(r):(o=eo({},r),pe(!o.pathname||!o.pathname.includes("?"),jf("?","pathname","search",o)),pe(!o.pathname||!o.pathname.includes("#"),jf("#","pathname","hash",o)),pe(!o.search||!o.search.includes("#"),jf("#","search","hash",o)));let h=r===""||o.pathname==="",d=h?"/":o.pathname,g;if(d==null)g=i;else{let R=e.length-1;if(!s&&d.startsWith("..")){let O=d.split("/");for(;O[0]==="..";)O.shift(),R-=1;o.pathname=O.join("/")}g=R>=0?e[R]:"/"}let p=TA(o,g),y=d&&d!=="/"&&d.endsWith("/"),A=(h||d===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(y||A)&&(p.pathname+="/"),p}const Cr=r=>r.join("/").replace(/\/\/+/g,"/"),bA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),RA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,wA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function CA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const J_=["post","put","patch","delete"];new Set(J_);const DA=["get",...J_];new Set(DA);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function no(){return no=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])}return r},no.apply(this,arguments)}const wd=et.createContext(null),IA=et.createContext(null),Ca=et.createContext(null),fc=et.createContext(null),Da=et.createContext({outlet:null,matches:[],isDataRoute:!1}),tv=et.createContext(null);function VA(r,e){let{relative:i}=e===void 0?{}:e;co()||pe(!1);let{basename:s,navigator:o}=et.useContext(Ca),{hash:h,pathname:d,search:g}=nv(r,{relative:i}),p=d;return s!=="/"&&(p=d==="/"?s:Cr([s,d])),o.createHref({pathname:p,search:g,hash:h})}function co(){return et.useContext(fc)!=null}function dc(){return co()||pe(!1),et.useContext(fc).location}function ev(r){et.useContext(Ca).static||et.useLayoutEffect(r)}function OA(){let{isDataRoute:r}=et.useContext(Da);return r?GA():NA()}function NA(){co()||pe(!1);let r=et.useContext(wd),{basename:e,future:i,navigator:s}=et.useContext(Ca),{matches:o}=et.useContext(Da),{pathname:h}=dc(),d=JSON.stringify(Z_(o,i.v7_relativeSplatPath)),g=et.useRef(!1);return ev(()=>{g.current=!0}),et.useCallback(function(y,A){if(A===void 0&&(A={}),!g.current)return;if(typeof y=="number"){s.go(y);return}let R=W_(y,JSON.parse(d),h,A.relative==="path");r==null&&e!=="/"&&(R.pathname=R.pathname==="/"?e:Cr([e,R.pathname])),(A.replace?s.replace:s.push)(R,A.state,A)},[e,s,d,h,r])}function nv(r,e){let{relative:i}=e===void 0?{}:e,{future:s}=et.useContext(Ca),{matches:o}=et.useContext(Da),{pathname:h}=dc(),d=JSON.stringify(Z_(o,s.v7_relativeSplatPath));return et.useMemo(()=>W_(r,JSON.parse(d),h,i==="path"),[r,d,h,i])}function MA(r,e){return xA(r,e)}function xA(r,e,i,s){co()||pe(!1);let{navigator:o,static:h}=et.useContext(Ca),{matches:d}=et.useContext(Da),g=d[d.length-1],p=g?g.params:{};g&&g.pathname;let y=g?g.pathnameBase:"/";g&&g.route;let A=dc(),R;if(e){var O;let J=typeof e=="string"?xs(e):e;y==="/"||(O=J.pathname)!=null&&O.startsWith(y)||pe(!1),R=J}else R=A;let P=R.pathname||"/",F=P;if(y!=="/"){let J=y.replace(/^\//,"").split("/");F="/"+P.replace(/^\//,"").split("/").slice(J.length).join("/")}let Y=sA(r,{pathname:F}),H=kA(Y&&Y.map(J=>Object.assign({},J,{params:Object.assign({},p,J.params),pathname:Cr([y,o.encodeLocation?o.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?y:Cr([y,o.encodeLocation?o.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),d,i,s);return e&&H?et.createElement(fc.Provider,{value:{location:no({pathname:"/",search:"",hash:"",state:null,key:"default"},R),navigationType:Rr.Pop}},H):H}function UA(){let r=HA(),e=CA(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return et.createElement(et.Fragment,null,et.createElement("h2",null,"Unexpected Application Error!"),et.createElement("h3",{style:{fontStyle:"italic"}},e),i?et.createElement("pre",{style:o},i):null,null)}const LA=et.createElement(UA,null);class zA extends et.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,i){return i.location!==e.location||i.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:i.error,location:i.location,revalidation:e.revalidation||i.revalidation}}componentDidCatch(e,i){console.error("React Router caught the following error during render",e,i)}render(){return this.state.error!==void 0?et.createElement(Da.Provider,{value:this.props.routeContext},et.createElement(tv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PA(r){let{routeContext:e,match:i,children:s}=r,o=et.useContext(wd);return o&&o.static&&o.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=i.route.id),et.createElement(Da.Provider,{value:e},s)}function kA(r,e,i,s){var o;if(e===void 0&&(e=[]),i===void 0&&(i=null),s===void 0&&(s=null),r==null){var h;if(!i)return null;if(i.errors)r=i.matches;else if((h=s)!=null&&h.v7_partialHydration&&e.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let d=r,g=(o=i)==null?void 0:o.errors;if(g!=null){let A=d.findIndex(R=>R.route.id&&(g==null?void 0:g[R.route.id])!==void 0);A>=0||pe(!1),d=d.slice(0,Math.min(d.length,A+1))}let p=!1,y=-1;if(i&&s&&s.v7_partialHydration)for(let A=0;A<d.length;A++){let R=d[A];if((R.route.HydrateFallback||R.route.hydrateFallbackElement)&&(y=A),R.route.id){let{loaderData:O,errors:P}=i,F=R.route.loader&&O[R.route.id]===void 0&&(!P||P[R.route.id]===void 0);if(R.route.lazy||F){p=!0,y>=0?d=d.slice(0,y+1):d=[d[0]];break}}}return d.reduceRight((A,R,O)=>{let P,F=!1,Y=null,H=null;i&&(P=g&&R.route.id?g[R.route.id]:void 0,Y=R.route.errorElement||LA,p&&(y<0&&O===0?(FA("route-fallback"),F=!0,H=null):y===O&&(F=!0,H=R.route.hydrateFallbackElement||null)));let J=e.concat(d.slice(0,O+1)),at=()=>{let st;return P?st=Y:F?st=H:R.route.Component?st=et.createElement(R.route.Component,null):R.route.element?st=R.route.element:st=A,et.createElement(PA,{match:R,routeContext:{outlet:A,matches:J,isDataRoute:i!=null},children:st})};return i&&(R.route.ErrorBoundary||R.route.errorElement||O===0)?et.createElement(zA,{location:i.location,revalidation:i.revalidation,component:Y,error:P,children:at(),routeContext:{outlet:null,matches:J,isDataRoute:!0}}):at()},null)}var iv=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(iv||{}),rv=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(rv||{});function BA(r){let e=et.useContext(wd);return e||pe(!1),e}function jA(r){let e=et.useContext(IA);return e||pe(!1),e}function qA(r){let e=et.useContext(Da);return e||pe(!1),e}function av(r){let e=qA(),i=e.matches[e.matches.length-1];return i.route.id||pe(!1),i.route.id}function HA(){var r;let e=et.useContext(tv),i=jA(),s=av();return e!==void 0?e:(r=i.errors)==null?void 0:r[s]}function GA(){let{router:r}=BA(iv.UseNavigateStable),e=av(rv.UseNavigateStable),i=et.useRef(!1);return ev(()=>{i.current=!0}),et.useCallback(function(o,h){h===void 0&&(h={}),i.current&&(typeof o=="number"?r.navigate(o):r.navigate(o,no({fromRouteId:e},h)))},[r,e])}const Cy={};function FA(r,e,i){Cy[r]||(Cy[r]=!0)}function QA(r,e){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function td(r){pe(!1)}function KA(r){let{basename:e="/",children:i=null,location:s,navigationType:o=Rr.Pop,navigator:h,static:d=!1,future:g}=r;co()&&pe(!1);let p=e.replace(/^\/*/,"/"),y=et.useMemo(()=>({basename:p,navigator:h,static:d,future:no({v7_relativeSplatPath:!1},g)}),[p,g,h,d]);typeof s=="string"&&(s=xs(s));let{pathname:A="/",search:R="",hash:O="",state:P=null,key:F="default"}=s,Y=et.useMemo(()=>{let H=Rd(A,p);return H==null?null:{location:{pathname:H,search:R,hash:O,state:P,key:F},navigationType:o}},[p,A,R,O,P,F,o]);return Y==null?null:et.createElement(Ca.Provider,{value:y},et.createElement(fc.Provider,{children:i,value:Y}))}function YA(r){let{children:e,location:i}=r;return MA(ed(e),i)}new Promise(()=>{});function ed(r,e){e===void 0&&(e=[]);let i=[];return et.Children.forEach(r,(s,o)=>{if(!et.isValidElement(s))return;let h=[...e,o];if(s.type===et.Fragment){i.push.apply(i,ed(s.props.children,h));return}s.type!==td&&pe(!1),!s.props.index||!s.props.children||pe(!1);let d={id:s.props.id||h.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=ed(s.props.children,h)),i.push(d)}),i}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nd(){return nd=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])}return r},nd.apply(this,arguments)}function XA(r,e){if(r==null)return{};var i={},s=Object.keys(r),o,h;for(h=0;h<s.length;h++)o=s[h],!(e.indexOf(o)>=0)&&(i[o]=r[o]);return i}function $A(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function ZA(r,e){return r.button===0&&(!e||e==="_self")&&!$A(r)}const WA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],JA="6";try{window.__reactRouterVersion=JA}catch{}const tS="startTransition",Dy=$T[tS];function eS(r){let{basename:e,children:i,future:s,window:o}=r,h=et.useRef();h.current==null&&(h.current=iA({window:o,v5Compat:!0}));let d=h.current,[g,p]=et.useState({action:d.action,location:d.location}),{v7_startTransition:y}=s||{},A=et.useCallback(R=>{y&&Dy?Dy(()=>p(R)):p(R)},[p,y]);return et.useLayoutEffect(()=>d.listen(A),[d,A]),et.useEffect(()=>QA(s),[s]),et.createElement(KA,{basename:e,children:i,location:g.location,navigationType:g.action,navigator:d,future:s})}const nS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sv=et.forwardRef(function(e,i){let{onClick:s,relative:o,reloadDocument:h,replace:d,state:g,target:p,to:y,preventScrollReset:A,viewTransition:R}=e,O=XA(e,WA),{basename:P}=et.useContext(Ca),F,Y=!1;if(typeof y=="string"&&iS.test(y)&&(F=y,nS))try{let st=new URL(window.location.href),Tt=y.startsWith("//")?new URL(st.protocol+y):new URL(y),mt=Rd(Tt.pathname,P);Tt.origin===st.origin&&mt!=null?y=mt+Tt.search+Tt.hash:Y=!0}catch{}let H=VA(y,{relative:o}),J=rS(y,{replace:d,state:g,target:p,preventScrollReset:A,relative:o,viewTransition:R});function at(st){s&&s(st),st.defaultPrevented||J(st)}return et.createElement("a",nd({},O,{href:F||H,onClick:Y||h?s:at,ref:i,target:p}))});var Iy;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(Iy||(Iy={}));var Vy;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(Vy||(Vy={}));function rS(r,e){let{target:i,replace:s,state:o,preventScrollReset:h,relative:d,viewTransition:g}=e===void 0?{}:e,p=OA(),y=dc(),A=nv(r,{relative:d});return et.useCallback(R=>{if(ZA(R,i)){R.preventDefault();let O=s!==void 0?s:Yu(y)===Yu(A);p(r,{replace:O,state:o,preventScrollReset:h,relative:d,viewTransition:g})}},[y,p,A,s,o,i,r,h,d,g])}var Oy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},aS=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],g=r[i++],p=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const h=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},ov={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,g=d?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,A=h>>2,R=(h&3)<<4|g>>4;let O=(g&15)<<2|y>>6,P=y&63;p||(P=64,d||(O=64)),s.push(i[A],i[R],i[O],i[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(lv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):aS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const R=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||g==null||y==null||R==null)throw new sS;const O=h<<2|g>>4;if(s.push(O),y!==64){const P=g<<4&240|y>>2;if(s.push(P),R!==64){const F=y<<6&192|R;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class sS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lS=function(r){const e=lv(r);return ov.encodeByteArray(e,!0)},Xu=function(r){return lS(r).replace(/\./g,"")},oS=function(r){try{return ov.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=()=>uS().__FIREBASE_DEFAULTS__,hS=()=>{if(typeof process>"u"||typeof Oy>"u")return;const r=Oy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},fS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&oS(r[1]);return e&&JSON.parse(e)},Cd=()=>{try{return cS()||hS()||fS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},dS=r=>{var e,i;return(i=(e=Cd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},mS=r=>{const e=dS(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},uv=()=>{var r;return(r=Cd())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Xu(JSON.stringify(i)),Xu(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _S(){var r;const e=(r=Cd())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function ES(){return!_S()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cv(){try{return typeof indexedDB=="object"}catch{return!1}}function hv(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}function TS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="FirebaseError";class kr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=AS,Object.setPrototypeOf(this,kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mc.prototype.create)}}class mc{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?SS(h,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new kr(o,g,s)}}function SS(r,e){return r.replace(bS,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const bS=/\{\$([^}]+)}/g;function $u(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=r[o],d=e[o];if(Ny(h)&&Ny(d)){if(!$u(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Ny(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS=1e3,wS=2,CS=4*60*60*1e3,DS=.5;function My(r,e=RS,i=wS){const s=e*Math.pow(i,r),o=Math.round(DS*s*(Math.random()-.5)*2);return Math.min(CS,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(r){return r&&r._delegate?r._delegate:r}class Pi{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new gS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OS(e))try{this.getOrInitializeService({instanceIdentifier:va})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=va){return this.instances.has(e)}getOptions(e=va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:VS(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=va){return this.component?this.component.multipleInstances?e:va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VS(r){return r===va?void 0:r}function OS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new IS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(zt||(zt={}));const MS={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},xS=zt.INFO,US={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},LS=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=US[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dd{constructor(e){this.name=e,this._logLevel=xS,this._logHandler=LS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...e),this._logHandler(this,zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...e),this._logHandler(this,zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...e),this._logHandler(this,zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...e),this._logHandler(this,zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...e),this._logHandler(this,zt.ERROR,...e)}}const zS=(r,e)=>e.some(i=>r instanceof i);let xy,Uy;function PS(){return xy||(xy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kS(){return Uy||(Uy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fv=new WeakMap,id=new WeakMap,dv=new WeakMap,qf=new WeakMap,Id=new WeakMap;function BS(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Dr(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&fv.set(i,r)}).catch(()=>{}),Id.set(e,r),e}function jS(r){if(id.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});id.set(r,e)}let rd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return id.get(r);if(e==="objectStoreNames")return r.objectStoreNames||dv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Dr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function qS(r){rd=r(rd)}function HS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Hf(this),e,...i);return dv.set(s,e.sort?e.sort():[e]),Dr(s)}:kS().includes(r)?function(...e){return r.apply(Hf(this),e),Dr(fv.get(this))}:function(...e){return Dr(r.apply(Hf(this),e))}}function GS(r){return typeof r=="function"?HS(r):(r instanceof IDBTransaction&&jS(r),zS(r,PS())?new Proxy(r,rd):r)}function Dr(r){if(r instanceof IDBRequest)return BS(r);if(qf.has(r))return qf.get(r);const e=GS(r);return e!==r&&(qf.set(r,e),Id.set(e,r)),e}const Hf=r=>Id.get(r);function mv(r,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(r,e),g=Dr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Dr(d.result),p.oldVersion,p.newVersion,Dr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{h&&p.addEventListener("close",()=>h()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const FS=["get","getKey","getAll","getAllKeys","count"],QS=["put","add","delete","clear"],Gf=new Map;function Ly(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Gf.get(e))return Gf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=QS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||FS.includes(i)))return;const h=async function(d,...g){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&p.done]))[0]};return Gf.set(e,h),h}qS(r=>({...r,get:(e,i,s)=>Ly(e,i)||r.get(e,i,s),has:(e,i)=>!!Ly(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(YS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function YS(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ad="@firebase/app",zy="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new Dd("@firebase/app"),XS="@firebase/app-compat",$S="@firebase/analytics-compat",ZS="@firebase/analytics",WS="@firebase/app-check-compat",JS="@firebase/app-check",tb="@firebase/auth",eb="@firebase/auth-compat",nb="@firebase/database",ib="@firebase/data-connect",rb="@firebase/database-compat",ab="@firebase/functions",sb="@firebase/functions-compat",lb="@firebase/installations",ob="@firebase/installations-compat",ub="@firebase/messaging",cb="@firebase/messaging-compat",hb="@firebase/performance",fb="@firebase/performance-compat",db="@firebase/remote-config",mb="@firebase/remote-config-compat",gb="@firebase/storage",pb="@firebase/storage-compat",yb="@firebase/firestore",_b="@firebase/vertexai",vb="@firebase/firestore-compat",Eb="firebase",Tb="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd="[DEFAULT]",Ab={[ad]:"fire-core",[XS]:"fire-core-compat",[ZS]:"fire-analytics",[$S]:"fire-analytics-compat",[JS]:"fire-app-check",[WS]:"fire-app-check-compat",[tb]:"fire-auth",[eb]:"fire-auth-compat",[nb]:"fire-rtdb",[ib]:"fire-data-connect",[rb]:"fire-rtdb-compat",[ab]:"fire-fn",[sb]:"fire-fn-compat",[lb]:"fire-iid",[ob]:"fire-iid-compat",[ub]:"fire-fcm",[cb]:"fire-fcm-compat",[hb]:"fire-perf",[fb]:"fire-perf-compat",[db]:"fire-rc",[mb]:"fire-rc-compat",[gb]:"fire-gcs",[pb]:"fire-gcs-compat",[yb]:"fire-fst",[vb]:"fire-fst-compat",[_b]:"fire-vertex","fire-js":"fire-js",[Eb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=new Map,Sb=new Map,ld=new Map;function Py(r,e){try{r.container.addComponent(e)}catch(i){ki.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Nr(r){const e=r.name;if(ld.has(e))return ki.debug(`There were multiple attempts to register component ${e}.`),!1;ld.set(e,r);for(const i of Zu.values())Py(i,r);for(const i of Sb.values())Py(i,r);return!0}function ho(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function bb(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ir=new mc("app","Firebase",Rb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Pi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=Tb;function gv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:sd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Ir.create("bad-app-name",{appName:String(o)});if(i||(i=uv()),!i)throw Ir.create("no-options");const h=Zu.get(o);if(h){if($u(i,h.options)&&$u(s,h.config))return h;throw Ir.create("duplicate-app",{appName:o})}const d=new NS(o);for(const p of ld.values())d.addComponent(p);const g=new wb(i,s,d);return Zu.set(o,g),g}function pv(r=sd){const e=Zu.get(r);if(!e&&r===sd&&uv())return gv();if(!e)throw Ir.create("no-app",{appName:r});return e}function ii(r,e,i){var s;let o=(s=Ab[r])!==null&&s!==void 0?s:r;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${o}" with version "${e}":`];h&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ki.warn(g.join(" "));return}Nr(new Pi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="firebase-heartbeat-database",Ib=1,io="firebase-heartbeat-store";let Ff=null;function yv(){return Ff||(Ff=mv(Db,Ib,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(io)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ir.create("idb-open",{originalErrorMessage:r.message})})),Ff}async function Vb(r){try{const i=(await yv()).transaction(io),s=await i.objectStore(io).get(_v(r));return await i.done,s}catch(e){if(e instanceof kr)ki.warn(e.message);else{const i=Ir.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ki.warn(i.message)}}}async function ky(r,e){try{const s=(await yv()).transaction(io,"readwrite");await s.objectStore(io).put(e,_v(r)),await s.done}catch(i){if(i instanceof kr)ki.warn(i.message);else{const s=Ir.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});ki.warn(s.message)}}}function _v(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=1024,Nb=30;class Mb{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Ub(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=By();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>Nb){const d=Lb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ki.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=By(),{heartbeatsToSend:s,unsentEntries:o}=xb(this._heartbeatsCache.heartbeats),h=Xu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return ki.warn(i),""}}}function By(){return new Date().toISOString().substring(0,10)}function xb(r,e=Ob){const i=[];let s=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),jy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),jy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class Ub{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cv()?hv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Vb(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return ky(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return ky(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function jy(r){return Xu(JSON.stringify({version:2,heartbeats:r})).length}function Lb(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(r){Nr(new Pi("platform-logger",e=>new KS(e),"PRIVATE")),Nr(new Pi("heartbeat",e=>new Mb(e),"PRIVATE")),ii(ad,zy,r),ii(ad,zy,"esm2017"),ii("fire-js","")}zb("");var qy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vr,vv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,w){function S(){}S.prototype=w.prototype,x.D=w.prototype,x.prototype=new S,x.prototype.constructor=x,x.C=function(D,M,z){for(var C=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)C[ye-2]=arguments[ye];return w.prototype[M].apply(D,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,w,S){S||(S=0);var D=Array(16);if(typeof w=="string")for(var M=0;16>M;++M)D[M]=w.charCodeAt(S++)|w.charCodeAt(S++)<<8|w.charCodeAt(S++)<<16|w.charCodeAt(S++)<<24;else for(M=0;16>M;++M)D[M]=w[S++]|w[S++]<<8|w[S++]<<16|w[S++]<<24;w=x.g[0],S=x.g[1],M=x.g[2];var z=x.g[3],C=w+(z^S&(M^z))+D[0]+3614090360&4294967295;w=S+(C<<7&4294967295|C>>>25),C=z+(M^w&(S^M))+D[1]+3905402710&4294967295,z=w+(C<<12&4294967295|C>>>20),C=M+(S^z&(w^S))+D[2]+606105819&4294967295,M=z+(C<<17&4294967295|C>>>15),C=S+(w^M&(z^w))+D[3]+3250441966&4294967295,S=M+(C<<22&4294967295|C>>>10),C=w+(z^S&(M^z))+D[4]+4118548399&4294967295,w=S+(C<<7&4294967295|C>>>25),C=z+(M^w&(S^M))+D[5]+1200080426&4294967295,z=w+(C<<12&4294967295|C>>>20),C=M+(S^z&(w^S))+D[6]+2821735955&4294967295,M=z+(C<<17&4294967295|C>>>15),C=S+(w^M&(z^w))+D[7]+4249261313&4294967295,S=M+(C<<22&4294967295|C>>>10),C=w+(z^S&(M^z))+D[8]+1770035416&4294967295,w=S+(C<<7&4294967295|C>>>25),C=z+(M^w&(S^M))+D[9]+2336552879&4294967295,z=w+(C<<12&4294967295|C>>>20),C=M+(S^z&(w^S))+D[10]+4294925233&4294967295,M=z+(C<<17&4294967295|C>>>15),C=S+(w^M&(z^w))+D[11]+2304563134&4294967295,S=M+(C<<22&4294967295|C>>>10),C=w+(z^S&(M^z))+D[12]+1804603682&4294967295,w=S+(C<<7&4294967295|C>>>25),C=z+(M^w&(S^M))+D[13]+4254626195&4294967295,z=w+(C<<12&4294967295|C>>>20),C=M+(S^z&(w^S))+D[14]+2792965006&4294967295,M=z+(C<<17&4294967295|C>>>15),C=S+(w^M&(z^w))+D[15]+1236535329&4294967295,S=M+(C<<22&4294967295|C>>>10),C=w+(M^z&(S^M))+D[1]+4129170786&4294967295,w=S+(C<<5&4294967295|C>>>27),C=z+(S^M&(w^S))+D[6]+3225465664&4294967295,z=w+(C<<9&4294967295|C>>>23),C=M+(w^S&(z^w))+D[11]+643717713&4294967295,M=z+(C<<14&4294967295|C>>>18),C=S+(z^w&(M^z))+D[0]+3921069994&4294967295,S=M+(C<<20&4294967295|C>>>12),C=w+(M^z&(S^M))+D[5]+3593408605&4294967295,w=S+(C<<5&4294967295|C>>>27),C=z+(S^M&(w^S))+D[10]+38016083&4294967295,z=w+(C<<9&4294967295|C>>>23),C=M+(w^S&(z^w))+D[15]+3634488961&4294967295,M=z+(C<<14&4294967295|C>>>18),C=S+(z^w&(M^z))+D[4]+3889429448&4294967295,S=M+(C<<20&4294967295|C>>>12),C=w+(M^z&(S^M))+D[9]+568446438&4294967295,w=S+(C<<5&4294967295|C>>>27),C=z+(S^M&(w^S))+D[14]+3275163606&4294967295,z=w+(C<<9&4294967295|C>>>23),C=M+(w^S&(z^w))+D[3]+4107603335&4294967295,M=z+(C<<14&4294967295|C>>>18),C=S+(z^w&(M^z))+D[8]+1163531501&4294967295,S=M+(C<<20&4294967295|C>>>12),C=w+(M^z&(S^M))+D[13]+2850285829&4294967295,w=S+(C<<5&4294967295|C>>>27),C=z+(S^M&(w^S))+D[2]+4243563512&4294967295,z=w+(C<<9&4294967295|C>>>23),C=M+(w^S&(z^w))+D[7]+1735328473&4294967295,M=z+(C<<14&4294967295|C>>>18),C=S+(z^w&(M^z))+D[12]+2368359562&4294967295,S=M+(C<<20&4294967295|C>>>12),C=w+(S^M^z)+D[5]+4294588738&4294967295,w=S+(C<<4&4294967295|C>>>28),C=z+(w^S^M)+D[8]+2272392833&4294967295,z=w+(C<<11&4294967295|C>>>21),C=M+(z^w^S)+D[11]+1839030562&4294967295,M=z+(C<<16&4294967295|C>>>16),C=S+(M^z^w)+D[14]+4259657740&4294967295,S=M+(C<<23&4294967295|C>>>9),C=w+(S^M^z)+D[1]+2763975236&4294967295,w=S+(C<<4&4294967295|C>>>28),C=z+(w^S^M)+D[4]+1272893353&4294967295,z=w+(C<<11&4294967295|C>>>21),C=M+(z^w^S)+D[7]+4139469664&4294967295,M=z+(C<<16&4294967295|C>>>16),C=S+(M^z^w)+D[10]+3200236656&4294967295,S=M+(C<<23&4294967295|C>>>9),C=w+(S^M^z)+D[13]+681279174&4294967295,w=S+(C<<4&4294967295|C>>>28),C=z+(w^S^M)+D[0]+3936430074&4294967295,z=w+(C<<11&4294967295|C>>>21),C=M+(z^w^S)+D[3]+3572445317&4294967295,M=z+(C<<16&4294967295|C>>>16),C=S+(M^z^w)+D[6]+76029189&4294967295,S=M+(C<<23&4294967295|C>>>9),C=w+(S^M^z)+D[9]+3654602809&4294967295,w=S+(C<<4&4294967295|C>>>28),C=z+(w^S^M)+D[12]+3873151461&4294967295,z=w+(C<<11&4294967295|C>>>21),C=M+(z^w^S)+D[15]+530742520&4294967295,M=z+(C<<16&4294967295|C>>>16),C=S+(M^z^w)+D[2]+3299628645&4294967295,S=M+(C<<23&4294967295|C>>>9),C=w+(M^(S|~z))+D[0]+4096336452&4294967295,w=S+(C<<6&4294967295|C>>>26),C=z+(S^(w|~M))+D[7]+1126891415&4294967295,z=w+(C<<10&4294967295|C>>>22),C=M+(w^(z|~S))+D[14]+2878612391&4294967295,M=z+(C<<15&4294967295|C>>>17),C=S+(z^(M|~w))+D[5]+4237533241&4294967295,S=M+(C<<21&4294967295|C>>>11),C=w+(M^(S|~z))+D[12]+1700485571&4294967295,w=S+(C<<6&4294967295|C>>>26),C=z+(S^(w|~M))+D[3]+2399980690&4294967295,z=w+(C<<10&4294967295|C>>>22),C=M+(w^(z|~S))+D[10]+4293915773&4294967295,M=z+(C<<15&4294967295|C>>>17),C=S+(z^(M|~w))+D[1]+2240044497&4294967295,S=M+(C<<21&4294967295|C>>>11),C=w+(M^(S|~z))+D[8]+1873313359&4294967295,w=S+(C<<6&4294967295|C>>>26),C=z+(S^(w|~M))+D[15]+4264355552&4294967295,z=w+(C<<10&4294967295|C>>>22),C=M+(w^(z|~S))+D[6]+2734768916&4294967295,M=z+(C<<15&4294967295|C>>>17),C=S+(z^(M|~w))+D[13]+1309151649&4294967295,S=M+(C<<21&4294967295|C>>>11),C=w+(M^(S|~z))+D[4]+4149444226&4294967295,w=S+(C<<6&4294967295|C>>>26),C=z+(S^(w|~M))+D[11]+3174756917&4294967295,z=w+(C<<10&4294967295|C>>>22),C=M+(w^(z|~S))+D[2]+718787259&4294967295,M=z+(C<<15&4294967295|C>>>17),C=S+(z^(M|~w))+D[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+M&4294967295,x.g[3]=x.g[3]+z&4294967295}s.prototype.u=function(x,w){w===void 0&&(w=x.length);for(var S=w-this.blockSize,D=this.B,M=this.h,z=0;z<w;){if(M==0)for(;z<=S;)o(this,x,z),z+=this.blockSize;if(typeof x=="string"){for(;z<w;)if(D[M++]=x.charCodeAt(z++),M==this.blockSize){o(this,D),M=0;break}}else for(;z<w;)if(D[M++]=x[z++],M==this.blockSize){o(this,D),M=0;break}}this.h=M,this.o+=w},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;var S=8*this.o;for(w=x.length-8;w<x.length;++w)x[w]=S&255,S/=256;for(this.u(x),x=Array(16),w=S=0;4>w;++w)for(var D=0;32>D;D+=8)x[S++]=this.g[w]>>>D&255;return x};function h(x,w){var S=g;return Object.prototype.hasOwnProperty.call(S,x)?S[x]:S[x]=w(x)}function d(x,w){this.h=w;for(var S=[],D=!0,M=x.length-1;0<=M;M--){var z=x[M]|0;D&&z==w||(S[M]=z,D=!1)}this.g=S}var g={};function p(x){return-128<=x&&128>x?h(x,function(w){return new d([w|0],0>w?-1:0)}):new d([x|0],0>x?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return R;if(0>x)return H(y(-x));for(var w=[],S=1,D=0;x>=S;D++)w[D]=x/S|0,S*=4294967296;return new d(w,0)}function A(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return H(A(x.substring(1),w));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=y(Math.pow(w,8)),D=R,M=0;M<x.length;M+=8){var z=Math.min(8,x.length-M),C=parseInt(x.substring(M,M+z),w);8>z?(z=y(Math.pow(w,z)),D=D.j(z).add(y(C))):(D=D.j(S),D=D.add(y(C)))}return D}var R=p(0),O=p(1),P=p(16777216);r=d.prototype,r.m=function(){if(Y(this))return-H(this).m();for(var x=0,w=1,S=0;S<this.g.length;S++){var D=this.i(S);x+=(0<=D?D:4294967296+D)*w,w*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(F(this))return"0";if(Y(this))return"-"+H(this).toString(x);for(var w=y(Math.pow(x,6)),S=this,D="";;){var M=Tt(S,w).g;S=J(S,M.j(w));var z=((0<S.g.length?S.g[0]:S.h)>>>0).toString(x);if(S=M,F(S))return z+D;for(;6>z.length;)z="0"+z;D=z+D}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function F(x){if(x.h!=0)return!1;for(var w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function Y(x){return x.h==-1}r.l=function(x){return x=J(this,x),Y(x)?-1:F(x)?0:1};function H(x){for(var w=x.g.length,S=[],D=0;D<w;D++)S[D]=~x.g[D];return new d(S,~x.h).add(O)}r.abs=function(){return Y(this)?H(this):this},r.add=function(x){for(var w=Math.max(this.g.length,x.g.length),S=[],D=0,M=0;M<=w;M++){var z=D+(this.i(M)&65535)+(x.i(M)&65535),C=(z>>>16)+(this.i(M)>>>16)+(x.i(M)>>>16);D=C>>>16,z&=65535,C&=65535,S[M]=C<<16|z}return new d(S,S[S.length-1]&-2147483648?-1:0)};function J(x,w){return x.add(H(w))}r.j=function(x){if(F(this)||F(x))return R;if(Y(this))return Y(x)?H(this).j(H(x)):H(H(this).j(x));if(Y(x))return H(this.j(H(x)));if(0>this.l(P)&&0>x.l(P))return y(this.m()*x.m());for(var w=this.g.length+x.g.length,S=[],D=0;D<2*w;D++)S[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<x.g.length;M++){var z=this.i(D)>>>16,C=this.i(D)&65535,ye=x.i(M)>>>16,ce=x.i(M)&65535;S[2*D+2*M]+=C*ce,at(S,2*D+2*M),S[2*D+2*M+1]+=z*ce,at(S,2*D+2*M+1),S[2*D+2*M+1]+=C*ye,at(S,2*D+2*M+1),S[2*D+2*M+2]+=z*ye,at(S,2*D+2*M+2)}for(D=0;D<w;D++)S[D]=S[2*D+1]<<16|S[2*D];for(D=w;D<2*w;D++)S[D]=0;return new d(S,0)};function at(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function st(x,w){this.g=x,this.h=w}function Tt(x,w){if(F(w))throw Error("division by zero");if(F(x))return new st(R,R);if(Y(x))return w=Tt(H(x),w),new st(H(w.g),H(w.h));if(Y(w))return w=Tt(x,H(w)),new st(H(w.g),w.h);if(30<x.g.length){if(Y(x)||Y(w))throw Error("slowDivide_ only works with positive integers.");for(var S=O,D=w;0>=D.l(x);)S=mt(S),D=mt(D);var M=It(S,1),z=It(D,1);for(D=It(D,2),S=It(S,2);!F(D);){var C=z.add(D);0>=C.l(x)&&(M=M.add(S),z=C),D=It(D,1),S=It(S,1)}return w=J(x,M.j(w)),new st(M,w)}for(M=R;0<=x.l(w);){for(S=Math.max(1,Math.floor(x.m()/w.m())),D=Math.ceil(Math.log(S)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),z=y(S),C=z.j(w);Y(C)||0<C.l(x);)S-=D,z=y(S),C=z.j(w);F(z)&&(z=O),M=M.add(z),x=J(x,C)}return new st(M,x)}r.A=function(x){return Tt(this,x).h},r.and=function(x){for(var w=Math.max(this.g.length,x.g.length),S=[],D=0;D<w;D++)S[D]=this.i(D)&x.i(D);return new d(S,this.h&x.h)},r.or=function(x){for(var w=Math.max(this.g.length,x.g.length),S=[],D=0;D<w;D++)S[D]=this.i(D)|x.i(D);return new d(S,this.h|x.h)},r.xor=function(x){for(var w=Math.max(this.g.length,x.g.length),S=[],D=0;D<w;D++)S[D]=this.i(D)^x.i(D);return new d(S,this.h^x.h)};function mt(x){for(var w=x.g.length+1,S=[],D=0;D<w;D++)S[D]=x.i(D)<<1|x.i(D-1)>>>31;return new d(S,x.h)}function It(x,w){var S=w>>5;w%=32;for(var D=x.g.length-S,M=[],z=0;z<D;z++)M[z]=0<w?x.i(z+S)>>>w|x.i(z+S+1)<<32-w:x.i(z+S);return new d(M,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,vv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Vr=d}).apply(typeof qy<"u"?qy:typeof self<"u"?self:typeof window<"u"?window:{});var zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ev,Ql,Tv,qu,od,Av,Sv,bv;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof zu=="object"&&zu];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var _=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in _))break t;_=_[L]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var _=0,T=!1,L={next:function(){if(!T&&_<u.length){var j=_++;return{value:m(j,u[j]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,_){return u.call.apply(u.bind,arguments)}function R(u,m,_){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function O(u,m,_){return O=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:R,O.apply(null,arguments)}function P(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function F(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(T,L,j){for(var W=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)W[Mt-2]=arguments[Mt];return m.prototype[L].apply(T,W)}}function Y(u){const m=u.length;if(0<m){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function H(u,m){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(p(T)){const L=u.length||0,j=T.length||0;u.length=L+j;for(let W=0;W<j;W++)u[L+W]=T[W]}else u.push(T)}}class J{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function at(u){return/^[\s\xa0]*$/.test(u)}function st(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Tt(u){return Tt[" "](u),u}Tt[" "]=function(){};var mt=st().indexOf("Gecko")!=-1&&!(st().toLowerCase().indexOf("webkit")!=-1&&st().indexOf("Edge")==-1)&&!(st().indexOf("Trident")!=-1||st().indexOf("MSIE")!=-1)&&st().indexOf("Edge")==-1;function It(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function x(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function w(u){const m={};for(const _ in u)m[_]=u[_];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,m){let _,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(_ in T)u[_]=T[_];for(let j=0;j<S.length;j++)_=S[j],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function M(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function z(u){g.setTimeout(()=>{throw u},0)}function C(){var u=qt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ye{constructor(){this.h=this.g=null}add(m,_){const T=ce.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var ce=new J(()=>new tt,u=>u.reset());class tt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let pt,ft=!1,qt=new ye,I=()=>{const u=g.Promise.resolve(void 0);pt=()=>{u.then(Z)}};var Z=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(_){z(_)}var m=ce;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ft=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function nt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var it=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u}();function Rt(u,m){if(nt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(mt){t:{try{Tt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:St[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}F(Rt,nt);var St={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),Pt=0;function ne(u,m,_,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=L,this.key=++Pt,this.da=this.fa=!1}function Ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ye(u){this.src=u,this.g={},this.h=0}Ye.prototype.add=function(u,m,_,T,L){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var W=pn(u,m,T,L);return-1<W?(m=u[W],_||(m.fa=!1)):(m=new ne(m,this.src,j,!!T,L),m.fa=_,u.push(m)),m};function ui(u,m){var _=m.type;if(_ in u.g){var T=u.g[_],L=Array.prototype.indexOf.call(T,m,void 0),j;(j=0<=L)&&Array.prototype.splice.call(T,L,1),j&&(Ft(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function pn(u,m,_,T){for(var L=0;L<u.length;++L){var j=u[L];if(!j.da&&j.listener==m&&j.capture==!!_&&j.ha==T)return L}return-1}var qi="closure_lm_"+(1e6*Math.random()|0),Hi={};function ci(u,m,_,T,L){if(Array.isArray(m)){for(var j=0;j<m.length;j++)ci(u,m[j],_,T,L);return null}return _=po(_),u&&u[he]?u.K(m,_,y(T)?!!T.capture:!1,L):ks(u,m,_,!1,T,L)}function ks(u,m,_,T,L,j){if(!m)throw Error("Invalid event type");var W=y(L)?!!L.capture:!!L,Mt=Bs(u);if(Mt||(u[qi]=Mt=new Ye(u)),_=Mt.add(m,_,T,W,j),_.proxy)return _;if(T=Na(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)it||(L=W),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(xa(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Na(){function u(_){return m.call(u.src,u.listener,_)}const m=Lc;return u}function Ma(u,m,_,T,L){if(Array.isArray(m))for(var j=0;j<m.length;j++)Ma(u,m[j],_,T,L);else T=y(T)?!!T.capture:!!T,_=po(_),u&&u[he]?(u=u.i,m=String(m).toString(),m in u.g&&(j=u.g[m],_=pn(j,_,T,L),-1<_&&(Ft(j[_]),Array.prototype.splice.call(j,_,1),j.length==0&&(delete u.g[m],u.h--)))):u&&(u=Bs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=pn(m,_,T,L)),(_=-1<u?m[u]:null)&&jr(_))}function jr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[he])ui(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(xa(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=Bs(m))?(ui(_,u),_.h==0&&(_.src=null,m[qi]=null)):Ft(u)}}}function xa(u){return u in Hi?Hi[u]:Hi[u]="on"+u}function Lc(u,m){if(u.da)u=!0;else{m=new Rt(m,this);var _=u.listener,T=u.ha||u.src;u.fa&&jr(u),u=_.call(T,m)}return u}function Bs(u){return u=u[qi],u instanceof Ye?u:null}var tn="__closure_events_fn_"+(1e9*Math.random()>>>0);function po(u){return typeof u=="function"?u:(u[tn]||(u[tn]=function(m){return u.handleEvent(m)}),u[tn])}function _e(){ut.call(this),this.i=new Ye(this),this.M=this,this.F=null}F(_e,ut),_e.prototype[he]=!0,_e.prototype.removeEventListener=function(u,m,_,T){Ma(this,u,m,_,T)};function Ce(u,m){var _,T=u.F;if(T)for(_=[];T;T=T.F)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new nt(m,u);else if(m instanceof nt)m.target=m.target||u;else{var L=m;m=new nt(T,u),D(m,L)}if(L=!0,_)for(var j=_.length-1;0<=j;j--){var W=m.g=_[j];L=hi(W,T,!0,m)&&L}if(W=m.g=u,L=hi(W,T,!0,m)&&L,L=hi(W,T,!1,m)&&L,_)for(j=0;j<_.length;j++)W=m.g=_[j],L=hi(W,T,!1,m)&&L}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],T=0;T<_.length;T++)Ft(_[T]);delete u.g[m],u.h--}}this.F=null},_e.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},_e.prototype.L=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function hi(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,j=0;j<m.length;++j){var W=m[j];if(W&&!W.da&&W.capture==_){var Mt=W.listener,Ee=W.ha||W.src;W.fa&&ui(u.i,W),L=Mt.call(Ee,T)!==!1&&L}}return L&&!T.defaultPrevented}function yo(u,m,_){if(typeof u=="function")_&&(u=O(u,_));else if(u&&typeof u.handleEvent=="function")u=O(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function js(u){u.g=yo(()=>{u.g=null,u.i&&(u.i=!1,js(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class zc extends ut{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:js(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qr(u){ut.call(this),this.h=u,this.g={}}F(qr,ut);var Gi=[];function qe(u){It(u.g,function(m,_){this.g.hasOwnProperty(_)&&jr(m)},u),u.g={}}qr.prototype.N=function(){qr.aa.N.call(this),qe(this)},qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qs=g.JSON.stringify,Bn=g.JSON.parse,Xe=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Hs(){}Hs.prototype.h=null;function _o(u){return u.h||(u.h=u.i())}function vo(){}var jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fi(){nt.call(this,"d")}F(Fi,nt);function Mn(){nt.call(this,"c")}F(Mn,nt);var yn={},Qi=null;function Ua(){return Qi=Qi||new _e}yn.La="serverreachability";function Gs(u){nt.call(this,yn.La,u)}F(Gs,nt);function Ki(u){const m=Ua();Ce(m,new Gs(m))}yn.STAT_EVENT="statevent";function La(u,m){nt.call(this,yn.STAT_EVENT,u),this.stat=m}F(La,nt);function le(u){const m=Ua();Ce(m,new La(m,u))}yn.Ma="timingevent";function Eo(u,m){nt.call(this,yn.Ma,u),this.size=m}F(Eo,nt);function Yi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function Xi(){this.g=!0}Xi.prototype.xa=function(){this.g=!1};function To(u,m,_,T,L,j){u.info(function(){if(u.g)if(j)for(var W="",Mt=j.split("&"),Ee=0;Ee<Mt.length;Ee++){var xt=Mt[Ee].split("=");if(1<xt.length){var Ve=xt[0];xt=xt[1];var Te=Ve.split("_");W=2<=Te.length&&Te[1]=="type"?W+(Ve+"="+xt+"&"):W+(Ve+"=redacted&")}}else W=null;else W=j;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+_+`
`+W})}function Ao(u,m,_,T,L,j,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+_+`
`+j+" "+W})}function $i(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+De(u,_)+(T?" "+T:"")})}function qn(u,m){u.info(function(){return"TIMEOUT: "+m})}Xi.prototype.info=function(){};function De(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var T=_[u];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var W=1;W<L.length;W++)L[W]=""}}}}return qs(_)}catch{return m}}var ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hr;function za(){}F(za,Hs),za.prototype.g=function(){return new XMLHttpRequest},za.prototype.i=function(){return{}},Hr=new za;function Hn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.R=T||1,this.U=new qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fs}function Fs(){this.i=null,this.g="",this.h=!1}var Zi={},Gr={};function xn(u,m,_){u.L=1,u.v=Kr(ie(m)),u.m=_,u.P=!0,di(u,null)}function di(u,m){u.F=Date.now(),Wt(u),u.A=ie(u.v);var _=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),pi(_.i,"t",T),u.C=0,_=u.j.J,u.h=new Fs,u.g=Lo(u.j,_?m:null,!u.m),0<u.O&&(u.M=new zc(O(u.Y,u,u.g),u.O)),m=u.U,_=u.g,T=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Gi[0]=L.toString()),L=Gi);for(var j=0;j<L.length;j++){var W=ci(_,L[j],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Ki(),To(u.i,u.u,u.A,u.l,u.R,u.m)}Hn.prototype.ca=function(u){u=u.target;const m=this.M;m&&An(u)==3?m.j():this.Y(u)},Hn.prototype.Y=function(u){try{if(u==this.g)t:{const Te=An(this.g);var m=this.g.Ba();const Ei=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||Do(this.g)))){this.J||Te!=4||m==7||(m==8||0>=Ei?Ki(3):Ki(2)),Pa(this);var _=this.g.Z();this.X=_;e:if(Wi(this)){var T=Do(this.g);u="";var L=T.length,j=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),sn(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(j&&m==L-1)});T.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=_==200,Ao(this.i,this.u,this.A,this.l,this.R,Te,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,Ee=this.g;if((Mt=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!at(Mt)){var xt=Mt;break e}}xt=null}if(_=xt)$i(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ln(this,_);else{this.o=!1,this.s=3,le(12),en(this),sn(this);break t}}if(this.P){_=!0;let Ue;for(;!this.J&&this.C<W.length;)if(Ue=Ji(this,W),Ue==Gr){Te==4&&(this.s=4,le(14),_=!1),$i(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==Zi){this.s=4,le(15),$i(this.i,this.l,W,"[Invalid Chunk]"),_=!1;break}else $i(this.i,this.l,Ue,null),ln(this,Ue);if(Wi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||W.length!=0||this.h.h||(this.s=1,le(16),_=!1),this.o=this.o&&_,!_)$i(this.i,this.l,W,"[Invalid Chunked Response]"),en(this),sn(this);else if(0<W.length&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.ba&&!Ve.M&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),ta(Ve),Ve.M=!0,le(11))}}else $i(this.i,this.l,W,null),ln(this,W);Te==4&&en(this),this.o&&!this.J&&(Te==4?Mo(this.j,this):(this.o=!1,Wt(this)))}else Hc(this.g),_==400&&0<W.indexOf("Unknown SID")?(this.s=3,le(12)):(this.s=0,le(13)),en(this),sn(this)}}}catch{}finally{}};function Wi(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Ji(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?Gr:(_=Number(m.substring(_,T)),isNaN(_)?Zi:(T+=1,T+_>m.length?Gr:(m=m.slice(T,T+_),u.C=T+_,m)))}Hn.prototype.cancel=function(){this.J=!0,en(this)};function Wt(u){u.S=Date.now()+u.I,Qs(u,u.I)}function Qs(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Yi(O(u.ba,u),m)}function Pa(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Hn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(qn(this.i,this.A),this.L!=2&&(Ki(),le(17)),en(this),this.s=2,sn(this)):Qs(this,this.S-u)};function sn(u){u.j.G==0||u.J||Mo(u.j,u)}function en(u){Pa(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,qe(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ln(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||tr(_.h,u))){if(!u.K&&tr(_.h,u)&&_.G==3){try{var T=_.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Ya(_),Qa(_);else break t;il(_),le(18)}}else _.za=L[1],0<_.za-_.T&&37500>L[2]&&_.F&&_.v==0&&!_.C&&(_.C=Yi(O(_.Za,_),6e3));if(1>=So(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else vi(_,11)}else if((u.K||_.g==u)&&Ya(_),!at(m))for(L=_.Da.g.parse(m),m=0;m<L.length;m++){let xt=L[m];if(_.T=xt[0],xt=xt[1],_.G==2)if(xt[0]=="c"){_.K=xt[1],_.ia=xt[2];const Ve=xt[3];Ve!=null&&(_.la=Ve,_.j.info("VER="+_.la));const Te=xt[4];Te!=null&&(_.Aa=Te,_.j.info("SVER="+_.Aa));const Ei=xt[5];Ei!=null&&typeof Ei=="number"&&0<Ei&&(T=1.5*Ei,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Ue=u.g;if(Ue){const $n=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($n){var j=T.h;j.g||$n.indexOf("spdy")==-1&&$n.indexOf("quic")==-1&&$n.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(er(j,j.h),j.h=null))}if(T.D){const al=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;al&&(T.ya=al,kt(T.I,T.D,al))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var W=u;if(T.qa=Uo(T,T.J?T.ia:null,T.W),W.K){_n(T.h,W);var Mt=W,Ee=T.L;Ee&&(Mt.I=Ee),Mt.B&&(Pa(Mt),Wt(Mt)),T.g=W}else Oo(T);0<_.i.length&&Ka(_)}else xt[0]!="stop"&&xt[0]!="close"||vi(_,7);else _.G==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?vi(_,7):el(_):xt[0]!="noop"&&_.l&&_.l.ta(xt),_.v=0)}}Ki(4)}catch{}}var Pc=class{constructor(u,m){this.g=u,this.map=m}};function Ks(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ys(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function So(u){return u.h?1:u.g?u.g.size:0}function tr(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function er(u,m){u.g?u.g.add(m):u.h=m}function _n(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ks.prototype.cancel=function(){if(this.i=$e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function $e(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return Y(u.i)}function bo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,T=0;T<_;T++)m.push(u[T]);return m}m=[],_=0;for(T in u)m[_++]=u[T];return m}function kc(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const T in u)m[_++]=T;return m}}}function Fr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=kc(u),T=bo(u),L=T.length,j=0;j<L;j++)m.call(void 0,T[j],_&&_[j],u)}var Xs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ka(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var T=u[_].indexOf("="),L=null;if(0<=T){var j=u[_].substring(0,T);L=u[_].substring(T+1)}else j=u[_];m(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function mi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof mi){this.h=u.h,nr(this,u.j),this.o=u.o,this.g=u.g,Qr(this,u.s),this.l=u.l;var m=u.i,_=new Gn;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Ba(this,_),this.m=u.m}else u&&(m=String(u).match(Xs))?(this.h=!1,nr(this,m[1]||"",!0),this.o=ir(m[2]||""),this.g=ir(m[3]||"",!0),Qr(this,m[4]),this.l=ir(m[5]||"",!0),Ba(this,m[6]||"",!0),this.m=ir(m[7]||"")):(this.h=!1,this.i=new Gn(null,this.h))}mi.prototype.toString=function(){var u=[],m=this.j;m&&u.push(vn(m,$s,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(vn(m,$s,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(vn(_,_.charAt(0)=="/"?Zs:Ro,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",vn(_,qc)),u.join("")};function ie(u){return new mi(u)}function nr(u,m,_){u.j=_?ir(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Qr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ba(u,m,_){m instanceof Gn?(u.i=m,Ws(u.i,u.h)):(_||(m=vn(m,jc)),u.i=new Gn(m,u.h))}function kt(u,m,_){u.i.set(m,_)}function Kr(u){return kt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ir(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function vn(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Bc),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Bc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var $s=/[#\/\?@]/g,Ro=/[#\?:]/g,Zs=/[#\?]/g,jc=/[#\?@]/g,qc=/#/g;function Gn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function En(u){u.g||(u.g=new Map,u.h=0,u.i&&ka(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=Gn.prototype,r.add=function(u,m){En(this),this.i=null,u=yi(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function ja(u,m){En(u),m=yi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function gi(u,m){return En(u),m=yi(u,m),u.g.has(m)}r.forEach=function(u,m){En(this),this.g.forEach(function(_,T){_.forEach(function(L){u.call(m,L,T,this)},this)},this)},r.na=function(){En(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let T=0;T<m.length;T++){const L=u[T];for(let j=0;j<L.length;j++)_.push(m[T])}return _},r.V=function(u){En(this);let m=[];if(typeof u=="string")gi(this,u)&&(m=m.concat(this.g.get(yi(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},r.set=function(u,m){return En(this),this.i=null,u=yi(this,u),gi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function pi(u,m,_){ja(u,m),0<_.length&&(u.i=null,u.g.set(yi(u,m),Y(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var T=m[_];const j=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var L=j;W[T]!==""&&(L+="="+encodeURIComponent(String(W[T]))),u.push(L)}}return this.i=u.join("&")};function yi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ws(u,m){m&&!u.j&&(En(u),u.i=null,u.g.forEach(function(_,T){var L=T.toLowerCase();T!=L&&(ja(this,T),pi(this,L,_))},u)),u.j=m}function wo(u,m){const _=new Xi;if(g.Image){const T=new Image;T.onload=P(Tn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=P(Tn,_,"TestLoadImage: error",!1,m,T),T.onabort=P(Tn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=P(Tn,_,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Yr(u,m){const _=new Xi,T=new AbortController,L=setTimeout(()=>{T.abort(),Tn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(L),j.ok?Tn(_,"TestPingServer: ok",!0,m):Tn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Tn(_,"TestPingServer: error",!1,m)})}function Tn(u,m,_,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(_)}catch{}}function Xr(){this.g=new Xe}function Fn(u,m,_){const T=_||"";try{Fr(u,function(L,j){let W=L;y(L)&&(W=qs(L)),m.push(T+j+"="+encodeURIComponent(W))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function rr(u){this.l=u.Ub||null,this.j=u.eb||!1}F(rr,Hs),rr.prototype.g=function(){return new _i(this.l,this.j)},rr.prototype.i=function(u){return function(){return u}}({});function _i(u,m){_e.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(_i,_e),r=_i.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Kn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Js(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Js(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Qn(this):Kn(this),this.readyState==3&&Js(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Qn(this))},r.Qa=function(u){this.g&&(this.response=u,Qn(this))},r.ga=function(){this.g&&Qn(this)};function Qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Kn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(_i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function tl(u){let m="";return It(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function Ie(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=tl(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):kt(u,m,_))}function Ht(u){_e.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(Ht,_e);var qa=/^https?$/i,$r=["POST","PUT"];r=Ht.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hr.g(),this.v=this.o?_o(this.o):_o(Hr),this.g.onreadystatechange=O(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){Co(this,j);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)_.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())_.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(j=>j.toLowerCase()=="content-type"),L=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call($r,m,void 0))||T||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,W]of _)this.g.setRequestHeader(j,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zr(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){Co(this,j)}};function Co(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ha(u),Yn(u)}function Ha(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ce(this,"complete"),Ce(this,"abort"),Yn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yn(this,!0)),Ht.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ga(this):this.bb())},r.bb=function(){Ga(this)};function Ga(u){if(u.h&&typeof d<"u"&&(!u.v[1]||An(u)!=4||u.Z()!=2)){if(u.u&&An(u)==4)yo(u.Ea,0,u);else if(Ce(u,"readystatechange"),An(u)==4){u.h=!1;try{const W=u.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=W===0){var L=String(u.D).match(Xs)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!qa.test(L?L.toLowerCase():"")}_=T}if(_)Ce(u,"complete"),Ce(u,"success");else{u.m=6;try{var j=2<An(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",Ha(u)}}finally{Yn(u)}}}}function Yn(u,m){if(u.g){Zr(u);const _=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ce(u,"ready");try{_.onreadystatechange=T}catch{}}}function Zr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function An(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Bn(m)}};function Do(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Hc(u){const m={};u=(u.g&&2<=An(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(at(u[T]))continue;var _=M(u[T]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const j=m[L]||[];m[L]=j,j.push(_)}x(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wr(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Fa(u){this.Aa=0,this.i=[],this.j=new Xi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wr("baseRetryDelayMs",5e3,u),this.cb=Wr("retryDelaySeedMs",1e4,u),this.Wa=Wr("forwardChannelMaxRetries",2,u),this.wa=Wr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ks(u&&u.concurrentRequestLimit),this.Da=new Xr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Fa.prototype,r.la=8,r.G=1,r.connect=function(u,m,_,T){le(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=Uo(this,null,this.W),Ka(this)};function el(u){if(Io(u),u.G==3){var m=u.U++,_=ie(u.I);if(kt(_,"SID",u.K),kt(_,"RID",m),kt(_,"TYPE","terminate"),Jr(u,_),m=new Hn(u,u.j,m),m.L=2,m.v=Kr(ie(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=Lo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Wt(m)}xo(u)}function Qa(u){u.g&&(ta(u),u.g.cancel(),u.g=null)}function Io(u){Qa(u),u.u&&(g.clearTimeout(u.u),u.u=null),Ya(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ka(u){if(!Ys(u.h)&&!u.s){u.s=!0;var m=u.Ga;pt||I(),ft||(pt(),ft=!0),qt.add(m,u),u.B=0}}function Gc(u,m){return So(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Yi(O(u.Ga,u,m),rl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Hn(this,this.j,u);let j=this.o;if(this.S&&(j?(j=w(j),D(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Vo(this,L,m),_=ie(this.I),kt(_,"RID",u),kt(_,"CVER",22),this.D&&kt(_,"X-HTTP-Session-Id",this.D),Jr(this,_),j&&(this.O?m="headers="+encodeURIComponent(String(tl(j)))+"&"+m:this.m&&Ie(_,this.m,j)),er(this.h,L),this.Ua&&kt(_,"TYPE","init"),this.P?(kt(_,"$req",m),kt(_,"SID","null"),L.T=!0,xn(L,_,null)):xn(L,_,m),this.G=2}}else this.G==3&&(u?nl(this,u):this.i.length==0||Ys(this.h)||nl(this))};function nl(u,m){var _;m?_=m.l:_=u.U++;const T=ie(u.I);kt(T,"SID",u.K),kt(T,"RID",_),kt(T,"AID",u.T),Jr(u,T),u.m&&u.o&&Ie(T,u.m,u.o),_=new Hn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Vo(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),er(u.h,_),xn(_,T,m)}function Jr(u,m){u.H&&It(u.H,function(_,T){kt(m,T,_)}),u.l&&Fr({},function(_,T){kt(m,T,_)})}function Vo(u,m,_){_=Math.min(u.i.length,_);var T=u.l?O(u.l.Na,u.l,u):null;t:{var L=u.i;let j=-1;for(;;){const W=["count="+_];j==-1?0<_?(j=L[0].g,W.push("ofs="+j)):j=0:W.push("ofs="+j);let Mt=!0;for(let Ee=0;Ee<_;Ee++){let xt=L[Ee].g;const Ve=L[Ee].map;if(xt-=j,0>xt)j=Math.max(0,L[Ee].g-100),Mt=!1;else try{Fn(Ve,W,"req"+xt+"_")}catch{T&&T(Ve)}}if(Mt){T=W.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,T}function Oo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;pt||I(),ft||(pt(),ft=!0),qt.add(m,u),u.v=0}}function il(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Yi(O(u.Fa,u),rl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,No(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Yi(O(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,le(10),Qa(this),No(this))};function ta(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function No(u){u.g=new Hn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ie(u.qa);kt(m,"RID","rpc"),kt(m,"SID",u.K),kt(m,"AID",u.T),kt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&kt(m,"TO",u.ja),kt(m,"TYPE","xmlhttp"),Jr(u,m),u.m&&u.o&&Ie(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Kr(ie(m)),_.m=null,_.P=!0,di(_,u)}r.Za=function(){this.C!=null&&(this.C=null,Qa(this),il(this),le(19))};function Ya(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Mo(u,m){var _=null;if(u.g==m){Ya(u),ta(u),u.g=null;var T=2}else if(tr(u.h,m))_=m.D,_n(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;T=Ua(),Ce(T,new Eo(T,_)),Ka(u)}else Oo(u);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&Gc(u,m)||T==2&&il(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),L){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function rl(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function vi(u,m){if(u.j.info("Error code "+m),m==2){var _=O(u.fb,u),T=u.Xa;const L=!T;T=new mi(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||nr(T,"https"),Kr(T),L?wo(T.toString(),_):Yr(T.toString(),_)}else le(2);u.G=0,u.l&&u.l.sa(m),xo(u),Io(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),le(2)):(this.j.info("Failed to ping google.com"),le(1))};function xo(u){if(u.G=0,u.ka=[],u.l){const m=$e(u.h);(m.length!=0||u.i.length!=0)&&(H(u.ka,m),H(u.ka,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.ra()}}function Uo(u,m,_){var T=_ instanceof mi?ie(_):new mi(_);if(T.g!="")m&&(T.g=m+"."+T.g),Qr(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var j=new mi(null);T&&nr(j,T),m&&(j.g=m),L&&Qr(j,L),_&&(j.l=_),T=j}return _=u.D,m=u.ya,_&&m&&kt(T,_,m),kt(T,"VER",u.la),Jr(u,T),T}function Lo(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ht(new rr({eb:_})):new Ht(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function zo(){}r=zo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Xa(){}Xa.prototype.g=function(u,m){return new Ze(u,m)};function Ze(u,m){_e.call(this),this.g=new Fa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!at(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!at(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Xn(this)}F(Ze,_e),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){el(this.g)},Ze.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=qs(u),u=_);m.i.push(new Pc(m.Ya++,u)),m.G==3&&Ka(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,el(this.g),delete this.g,Ze.aa.N.call(this)};function Po(u){Fi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}F(Po,Fi);function ko(){Mn.call(this),this.status=1}F(ko,Mn);function Xn(u){this.g=u}F(Xn,zo),Xn.prototype.ua=function(){Ce(this.g,"a")},Xn.prototype.ta=function(u){Ce(this.g,new Po(u))},Xn.prototype.sa=function(u){Ce(this.g,new ko)},Xn.prototype.ra=function(){Ce(this.g,"b")},Xa.prototype.createWebChannel=Xa.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,bv=function(){return new Xa},Sv=function(){return Ua()},Av=yn,od={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,qu=ve,fi.COMPLETE="complete",Tv=fi,vo.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",_e.prototype.listen=_e.prototype.K,Ql=vo,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,Ev=Ht}).apply(typeof zu<"u"?zu:typeof self<"u"?self:typeof window<"u"?window:{});const Hy="@firebase/firestore",Gy="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Us="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=new Dd("@firebase/firestore");function As(){return Aa.logLevel}function rt(r,...e){if(Aa.logLevel<=zt.DEBUG){const i=e.map(Vd);Aa.debug(`Firestore (${Us}): ${r}`,...i)}}function Bi(r,...e){if(Aa.logLevel<=zt.ERROR){const i=e.map(Vd);Aa.error(`Firestore (${Us}): ${r}`,...i)}}function Cs(r,...e){if(Aa.logLevel<=zt.WARN){const i=e.map(Vd);Aa.warn(`Firestore (${Us}): ${r}`,...i)}}function Vd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(r="Unexpected state"){const e=`FIRESTORE (${Us}) INTERNAL ASSERTION FAILED: `+r;throw Bi(e),new Error(e)}function Gt(r,e){r||yt()}function Et(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends kr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Pb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Qe.UNAUTHENTICATED))}shutdown(){}}class kb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Bb{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Gt(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let h=new Li;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Li,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=h;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},g=p=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Li)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string"),new Rv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gt(e===null||typeof e=="string"),new Qe(e)}}class jb{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class qb{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new jb(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hb{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,bb(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){Gt(this.o===void 0);const s=h=>{h.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const o=h=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?o(h):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Fy(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Gt(typeof i.token=="string"),this.R=i.token,new Fy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Gb(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function Nt(r,e){return r<e?-1:r>e?1:0}function Ds(r,e,i){return r.length===e.length&&r.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=-62135596800,Ky=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(e){return Re.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Ky);return new Re(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ht($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ht($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Qy)throw new ht($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ht($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ky}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Qy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(e){return new _t(e)}static min(){return new _t(new Re(0,0))}static max(){return new _t(new Re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="__name__";class ni{constructor(e,i,s){i===void 0?i=0:i>e.length&&yt(),s===void 0?s=e.length-i:s>e.length-i&&yt(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ni.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ni?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=ni.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Math.sign(e.length-i.length)}static compareSegments(e,i){const s=ni.isNumericId(e),o=ni.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ni.extractNumericId(e).compare(ni.extractNumericId(i)):e<i?-1:e>i?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vr.fromString(e.substring(4,e.length-2))}}class Zt extends ni{construct(e,i,s){return new Zt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ht($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new Zt(i)}static emptyPath(){return new Zt([])}}const Fb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ni{construct(e,i,s){return new Be(e,i,s)}static isValidIdentifier(e){return Fb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Yy}static keyField(){return new Be([Yy])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new ht($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ht($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ht($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(h(),o++)}if(h(),d)throw new ht($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.path=e}static fromPath(e){return new dt(Zt.fromString(e))}static fromName(e){return new dt(Zt.fromString(e).popFirst(5))}static empty(){return new dt(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Zt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new Zt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=-1;function Qb(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=_t.fromTimestamp(s===1e9?new Re(i+1,0):new Re(i,s));return new Mr(o,dt.empty(),e)}function Kb(r){return new Mr(r.readTime,r.key,ro)}class Mr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Mr(_t.min(),dt.empty(),ro)}static max(){return new Mr(_t.max(),dt.empty(),ro)}}function Yb(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=dt.comparator(r.documentKey,e.documentKey),i!==0?i:Nt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $b{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ls(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==Xb)throw r;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new K((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):K.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):K.reject(i)}static resolve(e){return new K((i,s)=>{i(e)})}static reject(e){return new K((i,s)=>{s(e)})}static waitFor(e){return new K((i,s)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},p=>s(p))}),d=!0,h===o&&i()})}static or(e){let i=K.resolve(!1);for(const s of e)i=i.next(o=>o?K.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,h)=>{s.push(i.call(this,o,h))}),this.waitFor(s)}static mapArray(e,i){return new K((s,o)=>{const h=e.length,d=new Array(h);let g=0;for(let p=0;p<h;p++){const y=p;i(e[y]).next(A=>{d[y]=A,++g,g===h&&s(d)},A=>o(A))}})}static doWhile(e,i){return new K((s,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):s()};h()})}}function Zb(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function zs(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}gc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od=-1;function pc(r){return r==null}function Wu(r){return r===0&&1/r==-1/0}function Wb(r){return typeof r=="number"&&Number.isInteger(r)&&!Wu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="";function Jb(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Xy(e)),e=t1(r.get(i),e);return Xy(e)}function t1(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case Cv:i+="";break;default:i+=h}}return i}function Xy(r){return r+Cv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Br(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function Dv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e,i){this.comparator=e,this.root=i||ke.EMPTY}insert(e,i){return new ee(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ke.BLACK,null,null))}remove(e){return new ee(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ke.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pu(this.root,e,this.comparator,!0)}}class Pu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ke{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??ke.RED,this.left=o??ke.EMPTY,this.right=h??ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new ke(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ke.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ke.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const e=this.left.check();if(e!==this.right.check())throw yt();return e+(this.isRed()?0:1)}}ke.EMPTY=null,ke.RED=!0,ke.BLACK=!1;ke.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(e,i,s,o,h){return this}insert(e,i,s){return new ke(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.comparator=e,this.data=new ee(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Zy(this.data.getIterator())}getIteratorFrom(e){return new Zy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new we(this.comparator);return i.data=e,i}}class Zy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new kn([])}unionWith(e){let i=new we(Be.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new kn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ds(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Iv("Invalid base64 string: "+h):h}}(e);return new je(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new je(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}je.EMPTY_BYTE_STRING=new je("");const e1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xr(r){if(Gt(!!r),typeof r=="string"){let e=0;const i=e1.exec(r);if(Gt(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ue(r.seconds),nanos:ue(r.nanos)}}function ue(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ur(r){return typeof r=="string"?je.fromBase64String(r):je.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="server_timestamp",Ov="__type__",Nv="__previous_value__",Mv="__local_write_time__";function Nd(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ov])===null||i===void 0?void 0:i.stringValue)===Vv}function yc(r){const e=r.mapValue.fields[Nv];return Nd(e)?yc(e):e}function ao(r){const e=xr(r.mapValue.fields[Mv].timestampValue);return new Re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,i,s,o,h,d,g,p,y){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y}}const Ju="(default)";class so{constructor(e,i){this.projectId=e,this.database=i||Ju}static empty(){return new so("","")}get isDefaultDatabase(){return this.database===Ju}isEqual(e){return e instanceof so&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="__type__",i1="__max__",ku={mapValue:{}},Uv="__vector__",tc="value";function Lr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Nd(r)?4:a1(r)?9007199254740991:r1(r)?10:11:yt()}function li(r,e){if(r===e)return!0;const i=Lr(r);if(i!==Lr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ao(r).isEqual(ao(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=xr(o.timestampValue),g=xr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,h){return Ur(o.bytesValue).isEqual(Ur(h.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,h){return ue(o.geoPointValue.latitude)===ue(h.geoPointValue.latitude)&&ue(o.geoPointValue.longitude)===ue(h.geoPointValue.longitude)}(r,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return ue(o.integerValue)===ue(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=ue(o.doubleValue),g=ue(h.doubleValue);return d===g?Wu(d)===Wu(g):isNaN(d)&&isNaN(g)}return!1}(r,e);case 9:return Ds(r.arrayValue.values||[],e.arrayValue.values||[],li);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if($y(d)!==$y(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!li(d[p],g[p])))return!1;return!0}(r,e);default:return yt()}}function lo(r,e){return(r.values||[]).find(i=>li(i,e))!==void 0}function Is(r,e){if(r===e)return 0;const i=Lr(r),s=Lr(e);if(i!==s)return Nt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(r.booleanValue,e.booleanValue);case 2:return function(h,d){const g=ue(h.integerValue||h.doubleValue),p=ue(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,e);case 3:return Wy(r.timestampValue,e.timestampValue);case 4:return Wy(ao(r),ao(e));case 5:return Nt(r.stringValue,e.stringValue);case 6:return function(h,d){const g=Ur(h),p=Ur(d);return g.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),p=d.split("/");for(let y=0;y<g.length&&y<p.length;y++){const A=Nt(g[y],p[y]);if(A!==0)return A}return Nt(g.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Nt(ue(h.latitude),ue(d.latitude));return g!==0?g:Nt(ue(h.longitude),ue(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Jy(r.arrayValue,e.arrayValue);case 10:return function(h,d){var g,p,y,A;const R=h.fields||{},O=d.fields||{},P=(g=R[tc])===null||g===void 0?void 0:g.arrayValue,F=(p=O[tc])===null||p===void 0?void 0:p.arrayValue,Y=Nt(((y=P==null?void 0:P.values)===null||y===void 0?void 0:y.length)||0,((A=F==null?void 0:F.values)===null||A===void 0?void 0:A.length)||0);return Y!==0?Y:Jy(P,F)}(r.mapValue,e.mapValue);case 11:return function(h,d){if(h===ku.mapValue&&d===ku.mapValue)return 0;if(h===ku.mapValue)return 1;if(d===ku.mapValue)return-1;const g=h.fields||{},p=Object.keys(g),y=d.fields||{},A=Object.keys(y);p.sort(),A.sort();for(let R=0;R<p.length&&R<A.length;++R){const O=Nt(p[R],A[R]);if(O!==0)return O;const P=Is(g[p[R]],y[A[R]]);if(P!==0)return P}return Nt(p.length,A.length)}(r.mapValue,e.mapValue);default:throw yt()}}function Wy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Nt(r,e);const i=xr(r),s=xr(e),o=Nt(i.seconds,s.seconds);return o!==0?o:Nt(i.nanos,s.nanos)}function Jy(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=Is(i[o],s[o]);if(h)return h}return Nt(i.length,s.length)}function Vs(r){return ud(r)}function ud(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=xr(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Ur(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return dt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=ud(h);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${ud(i.fields[d])}`;return o+"}"}(r.mapValue):yt()}function Hu(r){switch(Lr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yc(r);return e?16+Hu(e):16;case 5:return 2*r.stringValue.length;case 6:return Ur(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,h)=>o+Hu(h),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Br(s.fields,(h,d)=>{o+=h.length+Hu(d)}),o}(r.mapValue);default:throw yt()}}function cd(r){return!!r&&"integerValue"in r}function Md(r){return!!r&&"arrayValue"in r}function t_(r){return!!r&&"nullValue"in r}function e_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Gu(r){return!!r&&"mapValue"in r}function r1(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[xv])===null||i===void 0?void 0:i.stringValue)===Uv}function $l(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Br(r.mapValue.fields,(i,s)=>e.mapValue.fields[i]=$l(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=$l(r.arrayValue.values[i]);return e}return Object.assign({},r)}function a1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===i1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Gu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(i)}setAll(e){let i=Be.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=$l(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());Gu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Gu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Br(i,(o,h)=>e[o]=h);for(const o of s)delete e[o]}clone(){return new dn($l(this.value))}}function Lv(r){const e=[];return Br(r.fields,(i,s)=>{const o=new Be([i]);if(Gu(s)){const h=Lv(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,i,s,o,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ke(e,0,_t.min(),_t.min(),_t.min(),dn.empty(),0)}static newFoundDocument(e,i,s,o){return new Ke(e,1,i,_t.min(),s,o,0)}static newNoDocument(e,i){return new Ke(e,2,i,_t.min(),_t.min(),dn.empty(),0)}static newUnknownDocument(e,i){return new Ke(e,3,i,_t.min(),_t.min(),dn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,i){this.position=e,this.inclusive=i}}function n_(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const h=e[o],d=r.position[o];if(h.field.isKeyField()?s=dt.comparator(dt.fromName(d.referenceValue),i.key):s=Is(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function i_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!li(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,i="asc"){this.field=e,this.dir=i}}function s1(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{}class be extends zv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new o1(e,i,s):i==="array-contains"?new h1(e,s):i==="in"?new f1(e,s):i==="not-in"?new d1(e,s):i==="array-contains-any"?new m1(e,s):new be(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new u1(e,s):new c1(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Is(i,this.value)):i!==null&&Lr(this.value)===Lr(i)&&this.matchesComparison(Is(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oi extends zv{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new oi(e,i)}matches(e){return Pv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Pv(r){return r.op==="and"}function kv(r){return l1(r)&&Pv(r)}function l1(r){for(const e of r.filters)if(e instanceof oi)return!1;return!0}function hd(r){if(r instanceof be)return r.field.canonicalString()+r.op.toString()+Vs(r.value);if(kv(r))return r.filters.map(e=>hd(e)).join(",");{const e=r.filters.map(i=>hd(i)).join(",");return`${r.op}(${e})`}}function Bv(r,e){return r instanceof be?function(s,o){return o instanceof be&&s.op===o.op&&s.field.isEqual(o.field)&&li(s.value,o.value)}(r,e):r instanceof oi?function(s,o){return o instanceof oi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((h,d,g)=>h&&Bv(d,o.filters[g]),!0):!1}(r,e):void yt()}function jv(r){return r instanceof be?function(i){return`${i.field.canonicalString()} ${i.op} ${Vs(i.value)}`}(r):r instanceof oi?function(i){return i.op.toString()+" {"+i.getFilters().map(jv).join(" ,")+"}"}(r):"Filter"}class o1 extends be{constructor(e,i,s){super(e,i,s),this.key=dt.fromName(s.referenceValue)}matches(e){const i=dt.comparator(e.key,this.key);return this.matchesComparison(i)}}class u1 extends be{constructor(e,i){super(e,"in",i),this.keys=qv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class c1 extends be{constructor(e,i){super(e,"not-in",i),this.keys=qv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function qv(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>dt.fromName(s.referenceValue))}class h1 extends be{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Md(i)&&lo(i.arrayValue,this.value)}}class f1 extends be{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&lo(this.value.arrayValue,i)}}class d1 extends be{constructor(e,i){super(e,"not-in",i)}matches(e){if(lo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!lo(this.value.arrayValue,i)}}class m1 extends be{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Md(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>lo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,i=null,s=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.le=null}}function r_(r,e=null,i=[],s=[],o=null,h=null,d=null){return new g1(r,e,i,s,o,h,d)}function xd(r){const e=Et(r);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>hd(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),pc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Vs(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Vs(s)).join(",")),e.le=i}return e.le}function Ud(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!s1(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Bv(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!i_(r.startAt,e.startAt)&&i_(r.endAt,e.endAt)}function fd(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,i=null,s=[],o=[],h=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function p1(r,e,i,s,o,h,d,g){return new _c(r,e,i,s,o,h,d,g)}function Ld(r){return new _c(r)}function a_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function y1(r){return r.collectionGroup!==null}function Zl(r){const e=Et(r);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new we(Be.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(g=g.add(y.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new nc(h,s))}),i.has(Be.keyField().canonicalString())||e.he.push(new nc(Be.keyField(),s))}return e.he}function ri(r){const e=Et(r);return e.Pe||(e.Pe=_1(e,Zl(r))),e.Pe}function _1(r,e){if(r.limitType==="F")return r_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new nc(o.field,h)});const i=r.endAt?new ec(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ec(r.startAt.position,r.startAt.inclusive):null;return r_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function dd(r,e,i){return new _c(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function vc(r,e){return Ud(ri(r),ri(e))&&r.limitType===e.limitType}function Hv(r){return`${xd(ri(r))}|lt:${r.limitType}`}function Ss(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>jv(o)).join(", ")}]`),pc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Vs(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Vs(o)).join(",")),`Target(${s})`}(ri(r))}; limitType=${r.limitType})`}function Ec(r,e){return e.isFoundDocument()&&function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):dt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(r,e)&&function(s,o){for(const h of Zl(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(d,g,p){const y=n_(d,g,p);return d.inclusive?y<=0:y<0}(s.startAt,Zl(s),o)||s.endAt&&!function(d,g,p){const y=n_(d,g,p);return d.inclusive?y>=0:y>0}(s.endAt,Zl(s),o))}(r,e)}function v1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Gv(r){return(e,i)=>{let s=!1;for(const o of Zl(r)){const h=E1(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function E1(r,e,i){const s=r.field.isKeyField()?dt.comparator(e.key,i.key):function(h,d,g){const p=d.data.field(h),y=g.data.field(h);return p!==null&&y!==null?Is(p,y):yt()}(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return yt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Br(this.inner,(i,s)=>{for(const[o,h]of s)e(o,h)})}isEmpty(){return Dv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=new ee(dt.comparator);function ji(){return T1}const Fv=new ee(dt.comparator);function Kl(...r){let e=Fv;for(const i of r)e=e.insert(i.key,i);return e}function Qv(r){let e=Fv;return r.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function Ea(){return Wl()}function Kv(){return Wl()}function Wl(){return new Ia(r=>r.toString(),(r,e)=>r.isEqual(e))}const A1=new ee(dt.comparator),S1=new we(dt.comparator);function Vt(...r){let e=S1;for(const i of r)e=e.add(i);return e}const b1=new we(Nt);function R1(){return b1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wu(e)?"-0":e}}function Yv(r){return{integerValue:""+r}}function w1(r,e){return Wb(e)?Yv(e):zd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(){this._=void 0}}function C1(r,e,i){return r instanceof ic?function(o,h){const d={fields:{[Ov]:{stringValue:Vv},[Mv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Nd(h)&&(h=yc(h)),h&&(d.fields[Nv]=h),{mapValue:d}}(i,e):r instanceof oo?$v(r,e):r instanceof uo?Zv(r,e):function(o,h){const d=Xv(o,h),g=s_(d)+s_(o.Ie);return cd(d)&&cd(o.Ie)?Yv(g):zd(o.serializer,g)}(r,e)}function D1(r,e,i){return r instanceof oo?$v(r,e):r instanceof uo?Zv(r,e):i}function Xv(r,e){return r instanceof rc?function(s){return cd(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class ic extends Tc{}class oo extends Tc{constructor(e){super(),this.elements=e}}function $v(r,e){const i=Wv(e);for(const s of r.elements)i.some(o=>li(o,s))||i.push(s);return{arrayValue:{values:i}}}class uo extends Tc{constructor(e){super(),this.elements=e}}function Zv(r,e){let i=Wv(e);for(const s of r.elements)i=i.filter(o=>!li(o,s));return{arrayValue:{values:i}}}class rc extends Tc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function s_(r){return ue(r.integerValue||r.doubleValue)}function Wv(r){return Md(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function I1(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof oo&&o instanceof oo||s instanceof uo&&o instanceof uo?Ds(s.elements,o.elements,li):s instanceof rc&&o instanceof rc?li(s.Ie,o.Ie):s instanceof ic&&o instanceof ic}(r.transform,e.transform)}class V1{constructor(e,i){this.version=e,this.transformResults=i}}class zi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new zi}static exists(e){return new zi(void 0,e)}static updateTime(e){return new zi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ac{}function Jv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new e0(r.key,zi.none()):new Sc(r.key,r.data,zi.none());{const i=r.data,s=dn.empty();let o=new we(Be.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new Va(r.key,s,new kn(o.toArray()),zi.none())}}function O1(r,e,i){r instanceof Sc?function(o,h,d){const g=o.value.clone(),p=o_(o.fieldTransforms,h,d.transformResults);g.setAll(p),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,e,i):r instanceof Va?function(o,h,d){if(!Fu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=o_(o.fieldTransforms,h,d.transformResults),p=h.data;p.setAll(t0(o)),p.setAll(g),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Jl(r,e,i,s){return r instanceof Sc?function(h,d,g,p){if(!Fu(h.precondition,d))return g;const y=h.value.clone(),A=u_(h.fieldTransforms,p,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(r,e,i,s):r instanceof Va?function(h,d,g,p){if(!Fu(h.precondition,d))return g;const y=u_(h.fieldTransforms,p,d),A=d.data;return A.setAll(t0(h)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(R=>R.field))}(r,e,i,s):function(h,d,g){return Fu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,e,i)}function N1(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),h=Xv(s.transform,o||null);h!=null&&(i===null&&(i=dn.empty()),i.set(s.field,h))}return i||null}function l_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ds(s,o,(h,d)=>I1(h,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Sc extends Ac{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Va extends Ac{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function t0(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}}),e}function o_(r,e,i){const s=new Map;Gt(r.length===i.length);for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,g=e.data.field(h.field);s.set(h.field,D1(d,g,i[o]))}return s}function u_(r,e,i){const s=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);s.set(o.field,C1(h,d,e))}return s}class e0 extends Ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class M1 extends Ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&O1(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Jl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Jl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Kv();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const p=Jv(d,g);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(_t.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Vt())}isEqual(e){return this.batchId===e.batchId&&Ds(this.mutations,e.mutations,(i,s)=>l_(i,s))&&Ds(this.baseMutations,e.baseMutations,(i,s)=>l_(i,s))}}class Pd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Gt(e.mutations.length===s.length);let o=function(){return A1}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new Pd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,Lt;function z1(r){switch(r){case $.OK:return yt();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return yt()}}function n0(r){if(r===void 0)return Bi("GRPC error has no .code"),$.UNKNOWN;switch(r){case ge.OK:return $.OK;case ge.CANCELLED:return $.CANCELLED;case ge.UNKNOWN:return $.UNKNOWN;case ge.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case ge.INTERNAL:return $.INTERNAL;case ge.UNAVAILABLE:return $.UNAVAILABLE;case ge.UNAUTHENTICATED:return $.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case ge.NOT_FOUND:return $.NOT_FOUND;case ge.ALREADY_EXISTS:return $.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return $.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case ge.ABORTED:return $.ABORTED;case ge.OUT_OF_RANGE:return $.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return $.UNIMPLEMENTED;case ge.DATA_LOSS:return $.DATA_LOSS;default:return yt()}}(Lt=ge||(ge={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=new Vr([4294967295,4294967295],0);function c_(r){const e=P1().encode(r),i=new vv;return i.update(e),new Uint8Array(i.digest())}function h_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Vr([i,s],0),new Vr([o,h],0)]}class kd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Yl(`Invalid padding: ${i}`);if(s<0)throw new Yl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Vr.fromNumber(this.Ee)}Ae(e,i,s){let o=e.add(i.multiply(Vr.fromNumber(s)));return o.compare(k1)===1&&(o=new Vr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=c_(e),[s,o]=h_(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(s,o,h);if(!this.Re(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new kd(h,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const i=c_(e),[s,o]=h_(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(s,o,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,fo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new bc(_t.min(),o,new ee(Nt),ji(),Vt())}}class fo{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new fo(s,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,i,s,o){this.me=e,this.removedTargetIds=i,this.key=s,this.fe=o}}class i0{constructor(e,i){this.targetId=e,this.ge=i}}class r0{constructor(e,i,s=je.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class f_{constructor(){this.pe=0,this.ye=d_(),this.we=je.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Vt(),i=Vt(),s=Vt();return this.ye.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:yt()}}),new fo(this.we,this.Se,e,i,s)}Me(){this.be=!1,this.ye=d_()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Gt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class B1{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ji(),this.$e=Bu(),this.Ke=Bu(),this.Ue=new ee(Nt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const s=this.He(i);switch(e.state){case 0:this.Je(i)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(e.resumeToken));break;default:yt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((s,o)=>{this.Je(o)&&i(o)})}Ze(e){const i=e.targetId,s=e.ge.count,o=this.Xe(i);if(o){const h=o.target;if(fd(h))if(s===0){const d=new dt(h.path);this.ze(i,d,Ke.newNoDocument(d,_t.min()))}else Gt(s===1);else{const d=this.et(i);if(d!==s){const g=this.tt(e),p=g?this.nt(g,e,d):1;if(p!==0){this.Ye(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,y)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Ur(s).toUint8Array()}catch(p){if(p instanceof Iv)return Cs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new kd(d,o,h)}catch(p){return Cs(p instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ee===0?null:g}nt(e,i,s){return i.ge.count===s-this.st(e,i.targetId)?0:2}st(e,i){const s=this.ke.getRemoteKeysForTarget(i);let o=0;return s.forEach(h=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.ze(i,h,null),o++)}),o}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const g=this.Xe(d);if(g){if(h.current&&fd(g.target)){const p=new dt(g.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,Ke.newNoDocument(p,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let s=Vt();this.Ke.forEach((h,d)=>{let g=!0;d.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const o=new bc(e,i,this.Ue,this.Qe,s);return this.Qe=ji(),this.$e=Bu(),this.Ke=Bu(),this.Ue=new ee(Nt),o}Ge(e,i){if(!this.Je(e))return;const s=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ke=this.Ke.insert(i.key,this.ct(i.key).add(e))}ze(e,i,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,i)?o.xe(i,1):o.Oe(i),this.Ke=this.Ke.insert(i,this.ct(i).delete(e)),this.Ke=this.Ke.insert(i,this.ct(i).add(e)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new f_,this.qe.set(e,i)),i}ct(e){let i=this.Ke.get(e);return i||(i=new we(Nt),this.Ke=this.Ke.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new we(Nt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new f_),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Bu(){return new ee(dt.comparator)}function d_(){return new ee(dt.comparator)}const j1={asc:"ASCENDING",desc:"DESCENDING"},q1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},H1={and:"AND",or:"OR"};class G1{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function md(r,e){return r.useProto3Json||pc(e)?e:{value:e}}function ac(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function a0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function F1(r,e){return ac(r,e.toTimestamp())}function ai(r){return Gt(!!r),_t.fromTimestamp(function(i){const s=xr(i);return new Re(s.seconds,s.nanos)}(r))}function Bd(r,e){return gd(r,e).canonicalString()}function gd(r,e){const i=function(o){return new Zt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?i:i.child(e)}function s0(r){const e=Zt.fromString(r);return Gt(h0(e)),e}function pd(r,e){return Bd(r.databaseId,e.path)}function Qf(r,e){const i=s0(e);if(i.get(1)!==r.databaseId.projectId)throw new ht($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ht($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new dt(o0(i))}function l0(r,e){return Bd(r.databaseId,e)}function Q1(r){const e=s0(r);return e.length===4?Zt.emptyPath():o0(e)}function yd(r){return new Zt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function o0(r){return Gt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function m_(r,e,i){return{name:pd(r,e),fields:i.value.mapValue.fields}}function K1(r,e){let i;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(y,A){return y.useProto3Json?(Gt(A===void 0||typeof A=="string"),je.fromBase64String(A||"")):(Gt(A===void 0||A instanceof Buffer||A instanceof Uint8Array),je.fromUint8Array(A||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(y){const A=y.code===void 0?$.UNKNOWN:n0(y.code);return new ht(A,y.message||"")}(d);i=new r0(s,o,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Qf(r,s.document.name),h=ai(s.document.updateTime),d=s.document.createTime?ai(s.document.createTime):_t.min(),g=new dn({mapValue:{fields:s.document.fields}}),p=Ke.newFoundDocument(o,h,d,g),y=s.targetIds||[],A=s.removedTargetIds||[];i=new Qu(y,A,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Qf(r,s.document),h=s.readTime?ai(s.readTime):_t.min(),d=Ke.newNoDocument(o,h),g=s.removedTargetIds||[];i=new Qu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Qf(r,s.document),h=s.removedTargetIds||[];i=new Qu([],h,o,null)}else{if(!("filter"in e))return yt();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new L1(o,h),g=s.targetId;i=new i0(g,d)}}return i}function Y1(r,e){let i;if(e instanceof Sc)i={update:m_(r,e.key,e.value)};else if(e instanceof e0)i={delete:pd(r,e.key)};else if(e instanceof Va)i={update:m_(r,e.key,e.data),updateMask:iR(e.fieldMask)};else{if(!(e instanceof M1))return yt();i={verify:pd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const g=d.transform;if(g instanceof ic)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof oo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof uo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof rc)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw yt()}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:F1(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:yt()}(r,e.precondition)),i}function X1(r,e){return r&&r.length>0?(Gt(e!==void 0),r.map(i=>function(o,h){let d=o.updateTime?ai(o.updateTime):ai(h);return d.isEqual(_t.min())&&(d=ai(h)),new V1(d,o.transformResults||[])}(i,e))):[]}function $1(r,e){return{documents:[l0(r,e.path)]}}function Z1(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=l0(r,o);const h=function(y){if(y.length!==0)return c0(oi.create(y,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(y){if(y.length!==0)return y.map(A=>function(O){return{field:bs(O.field),direction:tR(O.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=md(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:i,parent:o}}function W1(r){let e=Q1(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Gt(s===1);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(R){const O=u0(R);return O instanceof oi&&kv(O)?O.getFilters():[O]}(i.where));let d=[];i.orderBy&&(d=function(R){return R.map(O=>function(F){return new nc(Rs(F.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction))}(O))}(i.orderBy));let g=null;i.limit&&(g=function(R){let O;return O=typeof R=="object"?R.value:R,pc(O)?null:O}(i.limit));let p=null;i.startAt&&(p=function(R){const O=!!R.before,P=R.values||[];return new ec(P,O)}(i.startAt));let y=null;return i.endAt&&(y=function(R){const O=!R.before,P=R.values||[];return new ec(P,O)}(i.endAt)),p1(e,o,d,h,g,"F",p,y)}function J1(r,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function u0(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Rs(i.unaryFilter.field);return be.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Rs(i.unaryFilter.field);return be.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Rs(i.unaryFilter.field);return be.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Rs(i.unaryFilter.field);return be.create(d,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}(r):r.fieldFilter!==void 0?function(i){return be.create(Rs(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return oi.create(i.compositeFilter.filters.map(s=>u0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt()}}(i.compositeFilter.op))}(r):yt()}function tR(r){return j1[r]}function eR(r){return q1[r]}function nR(r){return H1[r]}function bs(r){return{fieldPath:r.canonicalString()}}function Rs(r){return Be.fromServerFormat(r.fieldPath)}function c0(r){return r instanceof be?function(i){if(i.op==="=="){if(e_(i.value))return{unaryFilter:{field:bs(i.field),op:"IS_NAN"}};if(t_(i.value))return{unaryFilter:{field:bs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(e_(i.value))return{unaryFilter:{field:bs(i.field),op:"IS_NOT_NAN"}};if(t_(i.value))return{unaryFilter:{field:bs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bs(i.field),op:eR(i.op),value:i.value}}}(r):r instanceof oi?function(i){const s=i.getFilters().map(o=>c0(o));return s.length===1?s[0]:{compositeFilter:{op:nR(i.op),filters:s}}}(r):yt()}function iR(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function h0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,i,s,o,h=_t.min(),d=_t.min(),g=je.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new wr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this.Tt=e}}function aR(r){const e=W1({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?dd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(){this.Tn=new lR}addToCollectionParentIndex(e,i){return this.Tn.add(i),K.resolve()}getCollectionParents(e,i){return K.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return K.resolve()}deleteFieldIndex(e,i){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,i){return K.resolve()}getDocumentsMatchingTarget(e,i){return K.resolve(null)}getIndexType(e,i){return K.resolve(0)}getFieldIndexes(e,i){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,i){return K.resolve(Mr.min())}getMinOffsetFromCollectionGroup(e,i){return K.resolve(Mr.min())}updateCollectionGroup(e,i,s){return K.resolve()}updateIndexEntries(e,i){return K.resolve()}}class lR{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new we(Zt.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new we(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},f0=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(f0,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Os(0)}static Un(){return new Os(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="LruGarbageCollector",oR=1048576;function y_([r,e],[i,s]){const o=Nt(r,i);return o===0?Nt(e,s):o}class uR{constructor(e){this.Hn=e,this.buffer=new we(y_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();y_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class cR{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){rt(p_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){zs(i)?rt(p_,"Ignoring IndexedDB error during garbage collection: ",i):await Ls(i)}await this.er(3e5)})}}class hR{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return K.resolve(gc.ae);const s=new uR(i);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.tr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(g_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),g_):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let s,o,h,d,g,p,y;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,d=Date.now(),this.nthSequenceNumber(e,o))).next(R=>(s=R,g=Date.now(),this.removeTargets(e,s,i))).next(R=>(h=R,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(R=>(y=Date.now(),As()<=zt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(p-g)+`ms
	Removed ${R} documents in `+(y-p)+`ms
Total Duration: ${y-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:R})))}}function fR(r,e){return new hR(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(){this.changes=new Ia(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?K.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&Jl(s.mutation,o,kn.empty(),Re.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Vt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Vt()){const o=Ea();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(h=>{let d=Kl();return h.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=Ea();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Vt()))}populateOverlays(e,i,s){const o=[];return s.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let h=ji();const d=Wl(),g=function(){return Wl()}();return i.forEach((p,y)=>{const A=s.get(y.key);o.has(y.key)&&(A===void 0||A.mutation instanceof Va)?h=h.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Jl(A.mutation,y,A.mutation.getFieldMask(),Re.now())):d.set(y.key,kn.empty())}),this.recalculateAndSaveOverlays(e,h).next(p=>(p.forEach((y,A)=>d.set(y,A)),i.forEach((y,A)=>{var R;return g.set(y,new mR(A,(R=d.get(y))!==null&&R!==void 0?R:null))}),g))}recalculateAndSaveOverlays(e,i){const s=Wl();let o=new ee((d,g)=>d-g),h=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(p=>{const y=i.get(p);if(y===null)return;let A=s.get(p)||kn.empty();A=g.applyToLocalView(y,A),s.set(p,A);const R=(o.get(g.batchId)||Vt()).add(p);o=o.insert(g.batchId,R)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,A=p.value,R=Kv();A.forEach(O=>{if(!h.has(O)){const P=Jv(i.get(O),s.get(O));P!==null&&R.set(O,P),h=h.add(O)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,R))}return K.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):y1(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):K.resolve(Ea());let g=ro,p=h;return d.next(y=>K.forEach(y,(A,R)=>(g<R.largestBatchId&&(g=R.largestBatchId),h.get(A)?K.resolve():this.remoteDocumentCache.getEntry(e,A).next(O=>{p=p.insert(A,O)}))).next(()=>this.populateOverlays(e,y,h)).next(()=>this.computeViews(e,p,y,Vt())).next(A=>({batchId:g,changes:Qv(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new dt(i)).next(s=>{let o=Kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=Kl();return this.indexManager.getCollectionParents(e,h).next(g=>K.forEach(g,p=>{const y=function(R,O){return new _c(O,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(i,p.child(h));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(A=>{A.forEach((R,O)=>{d=d.insert(R,O)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o))).next(d=>{h.forEach((p,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,Ke.newInvalidDocument(A)))});let g=Kl();return d.forEach((p,y)=>{const A=h.get(p);A!==void 0&&Jl(A.mutation,y,kn.empty(),Re.now()),Ec(i,y)&&(g=g.insert(p,y))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return K.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ai(o.createTime)}}(i)),K.resolve()}getNamedQuery(e,i){return K.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:aR(o.bundledQuery),readTime:ai(o.readTime)}}(i)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(){this.overlays=new ee(dt.comparator),this.Rr=new Map}getOverlay(e,i){return K.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Ea();return K.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&s.set(o,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,h)=>{this.Et(e,i,h)}),K.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(s)),K.resolve()}getOverlaysForCollection(e,i,s){const o=Ea(),h=i.length+1,d=new dt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===h&&p.largestBatchId>s&&o.set(p.getKey(),p)}return K.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new ee((y,A)=>y-A);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let A=h.get(y.largestBatchId);A===null&&(A=Ea(),h=h.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const g=Ea(),p=h.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,A)=>g.set(y,A)),!(g.size()>=o)););return K.resolve(g)}Et(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new U1(i,s));let h=this.Rr.get(i);h===void 0&&(h=Vt(),this.Rr.set(i,h)),this.Rr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(){this.sessionToken=je.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(){this.Vr=new we(xe.mr),this.gr=new we(xe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const s=new xe(e,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.wr(new xe(e,i))}Sr(e,i){e.forEach(s=>this.removeReference(s,i))}br(e){const i=new dt(new Zt([])),s=new xe(i,e),o=new xe(i,e+1),h=[];return this.gr.forEachInRange([s,o],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new dt(new Zt([])),s=new xe(i,e),o=new xe(i,e+1);let h=Vt();return this.gr.forEachInRange([s,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new xe(e,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class xe{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return dt.comparator(e.key,i.key)||Nt(e.Cr,i.Cr)}static pr(e,i){return Nt(e.Cr,i.Cr)||dt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new we(xe.mr)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new x1(h,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Mr=this.Mr.add(new xe(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return K.resolve(d)}lookupMutationBatch(e,i){return K.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Nr(s),h=o<0?0:o;return K.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Od:this.Fr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new xe(i,0),o=new xe(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([s,o],d=>{const g=this.Or(d.Cr);h.push(g)}),K.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new we(Nt);return i.forEach(o=>{const h=new xe(o,0),d=new xe(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],g=>{s=s.add(g.Cr)})}),K.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;dt.isDocumentKey(h)||(h=h.child(""));const d=new xe(new dt(h),0);let g=new we(Nt);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(g=g.add(p.Cr)),!0)},d),K.resolve(this.Br(g))}Br(e){const i=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Gt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return K.forEach(i.mutations,o=>{const h=new xe(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,i){const s=new xe(i,0),o=this.Mr.firstAfterOrEqual(s);return K.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.kr=e,this.docs=function(){return new ee(dt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return K.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(e,i){let s=ji();return i.forEach(o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Ke.newInvalidDocument(o))}),K.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=ji();const d=i.path,g=new dt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:A}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Yb(Kb(A),s)<=0||(o.has(A.key)||Ec(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return K.resolve(h)}getAllFromCollectionGroup(e,i,s,o){yt()}qr(e,i){return K.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new TR(this)}getSize(e){return K.resolve(this.size)}}class TR extends dR{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),K.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.persistence=e,this.Qr=new Ia(i=>xd(i),Ud),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.$r=0,this.Kr=new jd,this.targetCount=0,this.Ur=Os.Kn()}forEachTarget(e,i){return this.Qr.forEach((s,o)=>i(o)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),K.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Ur=new Os(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,K.resolve()}updateTargetData(e,i){return this.zn(i),K.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Kr.br(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),K.waitFor(h).next(()=>o)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,i){const s=this.Qr.get(i)||null;return K.resolve(s)}addMatchingKeys(e,i,s){return this.Kr.yr(i,s),K.resolve()}removeMatchingKeys(e,i,s){this.Kr.Sr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),K.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Kr.br(i),K.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Kr.vr(i);return K.resolve(s)}containsKey(e,i){return K.resolve(this.Kr.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new gc(0),this.zr=!1,this.zr=!0,this.jr=new _R,this.referenceDelegate=e(this),this.Hr=new AR(this),this.indexManager=new sR,this.remoteDocumentCache=function(o){return new ER(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new rR(i),this.Yr=new pR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new yR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.Wr[e.toKey()];return s||(s=new vR(i,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,s){rt("MemoryPersistence","Starting transaction:",e);const o=new SR(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(h=>this.referenceDelegate.Xr(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}ei(e,i){return K.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,i)))}}class SR extends $b{constructor(e){super(),this.currentSequenceNumber=e}}class qd{constructor(e){this.persistence=e,this.ti=new jd,this.ni=null}static ri(e){return new qd(e)}get ii(){if(this.ni)return this.ni;throw yt()}addReference(e,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),K.resolve()}removeReference(e,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),K.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.ii.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.ii,s=>{const o=dt.fromPath(s);return this.si(e,o).next(h=>{h||i.removeEntry(o,_t.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return K.or([()=>K.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class sc{constructor(e,i){this.persistence=e,this.oi=new Ia(s=>Jb(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=fR(this,i)}static ri(e,i){return new sc(e,i)}Zr(){}Xr(e){return K.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}sr(e){let i=0;return this.rr(e,s=>{i++}).next(()=>i)}rr(e,i){return K.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(h=>h?K.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.qr(e,d=>this.ar(e,d,i).next(g=>{g||(s++,h.removeEntry(d,_t.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),K.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),K.resolve()}removeReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),K.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Hu(e.data.value)),i}ar(e,i,s){return K.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.oi.get(i);return K.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Hi=s,this.Ji=o}static Yi(e,i){let s=Vt(),o=Vt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Hd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return ES()?8:Zb(yS())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,o,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new bR;return this._s(e,i,d).next(g=>{if(h.result=g,this.Xi)return this.us(e,i,d,g.size)})}).next(()=>h.result)}us(e,i,s,o){return s.documentReadCount<this.es?(As()<=zt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Ss(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),K.resolve()):(As()<=zt.DEBUG&&rt("QueryEngine","Query:",Ss(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(As()<=zt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Ss(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ri(i))):K.resolve())}rs(e,i){if(a_(i))return K.resolve(null);let s=ri(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=dd(i,null,"F"),s=ri(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=Vt(...h);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(i,g);return this.ls(i,y,d,p.readTime)?this.rs(e,dd(i,null,"F")):this.hs(e,y,i,p)}))})))}ss(e,i,s,o){return a_(i)||o.isEqual(_t.min())?K.resolve(null):this.ns.getDocuments(e,s).next(h=>{const d=this.cs(i,h);return this.ls(i,d,s,o)?K.resolve(null):(As()<=zt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ss(i)),this.hs(e,d,i,Qb(o,ro)).next(g=>g))})}cs(e,i){let s=new we(Gv(e));return i.forEach((o,h)=>{Ec(e,h)&&(s=s.add(h))}),s}ls(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}_s(e,i,s){return As()<=zt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Ss(i)),this.ns.getDocumentsMatchingQuery(e,i,Mr.min(),s)}hs(e,i,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="LocalStore",wR=3e8;class CR{constructor(e,i,s,o){this.persistence=e,this.Ps=i,this.serializer=o,this.Ts=new ee(Nt),this.Is=new Ia(h=>xd(h),Ud),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gR(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function DR(r,e,i,s){return new CR(r,e,i,s)}async function m0(r,e){const i=Et(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(h=>(o=h,i.As(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let p=Vt();for(const y of o){d.push(y.batchId);for(const A of y.mutations)p=p.add(A.key)}for(const y of h){g.push(y.batchId);for(const A of y.mutations)p=p.add(A.key)}return i.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:d,addedBatchIds:g}))})})}function IR(r,e){const i=Et(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,p,y,A){const R=y.batch,O=R.keys();let P=K.resolve();return O.forEach(F=>{P=P.next(()=>A.getEntry(p,F)).next(Y=>{const H=y.docVersions.get(F);Gt(H!==null),Y.version.compareTo(H)<0&&(R.applyToRemoteDocument(Y,y),Y.isValidDocument()&&(Y.setReadTime(y.commitVersion),A.addEntry(Y)))})}),P.next(()=>g.mutationQueue.removeMutationBatch(p,R))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Vt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function g0(r){const e=Et(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function VR(r,e){const i=Et(r),s=e.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const g=[];e.targetChanges.forEach((A,R)=>{const O=o.get(R);if(!O)return;g.push(i.Hr.removeMatchingKeys(h,A.removedDocuments,R).next(()=>i.Hr.addMatchingKeys(h,A.addedDocuments,R)));let P=O.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(R)!==null?P=P.withResumeToken(je.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(A.resumeToken,s)),o=o.insert(R,P),function(Y,H,J){return Y.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=wR?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0}(O,P,A)&&g.push(i.Hr.updateTargetData(h,P))});let p=ji(),y=Vt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(OR(h,d,e.documentUpdates).next(A=>{p=A.Vs,y=A.fs})),!s.isEqual(_t.min())){const A=i.Hr.getLastRemoteSnapshotVersion(h).next(R=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(A)}return K.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,p,y)).next(()=>p)}).then(h=>(i.Ts=o,h))}function OR(r,e,i){let s=Vt(),o=Vt();return i.forEach(h=>s=s.add(h)),e.getEntries(r,s).next(h=>{let d=ji();return i.forEach((g,p)=>{const y=h.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(_t.min())?(e.removeEntry(g,p.readTime),d=d.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(g,p)):rt(Gd,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)}),{Vs:d,fs:o}})}function NR(r,e){const i=Et(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Od),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function MR(r,e){const i=Et(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Hr.getTargetData(s,e).next(h=>h?(o=h,K.resolve(o)):i.Hr.allocateTargetId(s).next(d=>(o=new wr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(e,s.targetId)),s})}async function _d(r,e,i){const s=Et(r),o=s.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!zs(d))throw d;rt(Gd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function __(r,e,i){const s=Et(r);let o=_t.min(),h=Vt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,A){const R=Et(p),O=R.Is.get(A);return O!==void 0?K.resolve(R.Ts.get(O)):R.Hr.getTargetData(y,A)}(s,d,ri(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,g.targetId).next(p=>{h=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,e,i?o:_t.min(),i?h:Vt())).next(g=>(xR(s,v1(e),g),{documents:g,gs:h})))}function xR(r,e,i){let s=r.Es.get(e)||_t.min();i.forEach((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),r.Es.set(e,s)}class v_{constructor(){this.activeTargetIds=R1()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UR{constructor(){this.ho=new v_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,s){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new v_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="ConnectivityMonitor";class T_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){rt(E_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){rt(E_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju=null;function vd(){return ju===null?ju=function(){return 268435456+Math.round(2147483648*Math.random())}():ju++,"0x"+ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="RestConnection",zR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PR{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Ju?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,i,s,o,h){const d=vd(),g=this.bo(e,i.toUriEncodedString());rt(Kf,`Sending RPC '${e}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,h),this.vo(e,g,p,s).then(y=>(rt(Kf,`Received RPC '${e}' ${d}: `,y),y),y=>{throw Cs(Kf,`RPC '${e}' ${d} failed with error: `,y,"url: ",g,"request:",s),y})}Co(e,i,s,o,h,d){return this.So(e,i,s,o,h)}Do(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Us}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),s&&s.headers.forEach((o,h)=>e[h]=o)}bo(e,i){const s=zR[e];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class BR extends PR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,s,o){const h=vd();return new Promise((d,g)=>{const p=new Ev;p.setWithCredentials(!0),p.listenOnce(Tv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case qu.NO_ERROR:const A=p.getResponseJson();rt(Fe,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(A)),d(A);break;case qu.TIMEOUT:rt(Fe,`RPC '${e}' ${h} timed out`),g(new ht($.DEADLINE_EXCEEDED,"Request time out"));break;case qu.HTTP_ERROR:const R=p.getStatus();if(rt(Fe,`RPC '${e}' ${h} failed with status:`,R,"response text:",p.getResponseText()),R>0){let O=p.getResponseJson();Array.isArray(O)&&(O=O[0]);const P=O==null?void 0:O.error;if(P&&P.status&&P.message){const F=function(H){const J=H.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(J)>=0?J:$.UNKNOWN}(P.status);g(new ht(F,P.message))}else g(new ht($.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ht($.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{rt(Fe,`RPC '${e}' ${h} completed.`)}});const y=JSON.stringify(o);rt(Fe,`RPC '${e}' ${h} sending request:`,o),p.send(i,"POST",y,s,15)})}Wo(e,i,s){const o=vd(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=bv(),g=Sv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const A=h.join("");rt(Fe,`Creating RPC '${e}' stream ${o}: ${A}`,p);const R=d.createWebChannel(A,p);let O=!1,P=!1;const F=new kR({Fo:H=>{P?rt(Fe,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(O||(rt(Fe,`Opening RPC '${e}' stream ${o} transport.`),R.open(),O=!0),rt(Fe,`RPC '${e}' stream ${o} sending:`,H),R.send(H))},Mo:()=>R.close()}),Y=(H,J,at)=>{H.listen(J,st=>{try{at(st)}catch(Tt){setTimeout(()=>{throw Tt},0)}})};return Y(R,Ql.EventType.OPEN,()=>{P||(rt(Fe,`RPC '${e}' stream ${o} transport opened.`),F.Qo())}),Y(R,Ql.EventType.CLOSE,()=>{P||(P=!0,rt(Fe,`RPC '${e}' stream ${o} transport closed`),F.Ko())}),Y(R,Ql.EventType.ERROR,H=>{P||(P=!0,Cs(Fe,`RPC '${e}' stream ${o} transport errored:`,H),F.Ko(new ht($.UNAVAILABLE,"The operation could not be completed")))}),Y(R,Ql.EventType.MESSAGE,H=>{var J;if(!P){const at=H.data[0];Gt(!!at);const st=at,Tt=(st==null?void 0:st.error)||((J=st[0])===null||J===void 0?void 0:J.error);if(Tt){rt(Fe,`RPC '${e}' stream ${o} received error:`,Tt);const mt=Tt.status;let It=function(S){const D=ge[S];if(D!==void 0)return n0(D)}(mt),x=Tt.message;It===void 0&&(It=$.INTERNAL,x="Unknown error status: "+mt+" with message "+Tt.message),P=!0,F.Ko(new ht(It,x)),R.close()}else rt(Fe,`RPC '${e}' stream ${o} received:`,at),F.Uo(at)}}),Y(g,Av.STAT_EVENT,H=>{H.stat===od.PROXY?rt(Fe,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===od.NOPROXY&&rt(Fe,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{F.$o()},0),F}}function Yf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(r){return new G1(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=s,this.zo=o,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-s);o>0&&rt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="PersistentStream";class y0{constructor(e,i,s,o,h,d,g,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new p0(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(Bi(i.toString()),Bi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===i&&this.V_(s,o)},s=>{e(()=>{const o=new ht($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,i){const s=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return rt(A_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(rt(A_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jR extends y0{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=K1(this.serializer,e),s=function(h){if(!("targetChange"in h))return _t.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?ai(d.readTime):_t.min()}(e);return this.listener.p_(i,s)}y_(e){const i={};i.database=yd(this.serializer),i.addTarget=function(h,d){let g;const p=d.target;if(g=fd(p)?{documents:$1(h,p)}:{query:Z1(h,p).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=a0(h,d.resumeToken);const y=md(h,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(_t.min())>0){g.readTime=ac(h,d.snapshotVersion.toTimestamp());const y=md(h,d.expectedCount);y!==null&&(g.expectedCount=y)}return g}(this.serializer,e);const s=J1(this.serializer,e);s&&(i.labels=s),this.I_(i)}w_(e){const i={};i.database=yd(this.serializer),i.removeTarget=e,this.I_(i)}}class qR extends y0{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=X1(e.writeResults,e.commitTime),s=ai(e.commitTime);return this.listener.v_(s,i)}C_(){const e={};e.database=yd(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>Y1(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{}class GR extends HR{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ht($.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.So(e,gd(i,s),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ht($.UNKNOWN,h.toString())})}Co(e,i,s,o,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,gd(i,s),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ht($.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class FR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Bi(i),this.N_=!1):rt("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="RemoteStore";class QR{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{s.enqueueAndForget(async()=>{Oa(this)&&(rt(Sa,"Restarting streams for network reachability change."),await async function(p){const y=Et(p);y.W_.add(4),await mo(y),y.j_.set("Unknown"),y.W_.delete(4),await wc(y)}(this))})}),this.j_=new FR(s,o)}}async function wc(r){if(Oa(r))for(const e of r.G_)await e(!0)}async function mo(r){for(const e of r.G_)await e(!1)}function _0(r,e){const i=Et(r);i.U_.has(e.targetId)||(i.U_.set(e.targetId,e),Yd(i)?Kd(i):Ps(i).c_()&&Qd(i,e))}function Fd(r,e){const i=Et(r),s=Ps(i);i.U_.delete(e),s.c_()&&v0(i,e),i.U_.size===0&&(s.c_()?s.P_():Oa(i)&&i.j_.set("Unknown"))}function Qd(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ps(r).y_(e)}function v0(r,e){r.H_.Ne(e),Ps(r).w_(e)}function Kd(r){r.H_=new B1({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Ps(r).start(),r.j_.B_()}function Yd(r){return Oa(r)&&!Ps(r).u_()&&r.U_.size>0}function Oa(r){return Et(r).W_.size===0}function E0(r){r.H_=void 0}async function KR(r){r.j_.set("Online")}async function YR(r){r.U_.forEach((e,i)=>{Qd(r,e)})}async function XR(r,e){E0(r),Yd(r)?(r.j_.q_(e),Kd(r)):r.j_.set("Unknown")}async function $R(r,e,i){if(r.j_.set("Online"),e instanceof r0&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.U_.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.U_.delete(g),o.H_.removeTarget(g))}(r,e)}catch(s){rt(Sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await lc(r,s)}else if(e instanceof Qu?r.H_.We(e):e instanceof i0?r.H_.Ze(e):r.H_.je(e),!i.isEqual(_t.min()))try{const s=await g0(r.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.H_.ot(d);return g.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const A=h.U_.get(y);A&&h.U_.set(y,A.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,y)=>{const A=h.U_.get(p);if(!A)return;h.U_.set(p,A.withResumeToken(je.EMPTY_BYTE_STRING,A.snapshotVersion)),v0(h,p);const R=new wr(A.target,p,y,A.sequenceNumber);Qd(h,R)}),h.remoteSyncer.applyRemoteEvent(g)}(r,i)}catch(s){rt(Sa,"Failed to raise snapshot:",s),await lc(r,s)}}async function lc(r,e,i){if(!zs(e))throw e;r.W_.add(1),await mo(r),r.j_.set("Offline"),i||(i=()=>g0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{rt(Sa,"Retrying IndexedDB access"),await i(),r.W_.delete(1),await wc(r)})}function T0(r,e){return e().catch(i=>lc(r,i,e))}async function Cc(r){const e=Et(r),i=zr(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:Od;for(;ZR(e);)try{const o=await NR(e.localStore,s);if(o===null){e.K_.length===0&&i.P_();break}s=o.batchId,WR(e,o)}catch(o){await lc(e,o)}A0(e)&&S0(e)}function ZR(r){return Oa(r)&&r.K_.length<10}function WR(r,e){r.K_.push(e);const i=zr(r);i.c_()&&i.S_&&i.b_(e.mutations)}function A0(r){return Oa(r)&&!zr(r).u_()&&r.K_.length>0}function S0(r){zr(r).start()}async function JR(r){zr(r).C_()}async function tw(r){const e=zr(r);for(const i of r.K_)e.b_(i.mutations)}async function ew(r,e,i){const s=r.K_.shift(),o=Pd.from(s,e,i);await T0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Cc(r)}async function nw(r,e){e&&zr(r).S_&&await async function(s,o){if(function(d){return z1(d)&&d!==$.ABORTED}(o.code)){const h=s.K_.shift();zr(s).h_(),await T0(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o)),await Cc(s)}}(r,e),A0(r)&&S0(r)}async function S_(r,e){const i=Et(r);i.asyncQueue.verifyOperationInProgress(),rt(Sa,"RemoteStore received new credentials");const s=Oa(i);i.W_.add(3),await mo(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await wc(i)}async function iw(r,e){const i=Et(r);e?(i.W_.delete(2),await wc(i)):e||(i.W_.add(2),await mo(i),i.j_.set("Unknown"))}function Ps(r){return r.J_||(r.J_=function(i,s,o){const h=Et(i);return h.M_(),new jR(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(r.datastore,r.asyncQueue,{xo:KR.bind(null,r),No:YR.bind(null,r),Lo:XR.bind(null,r),p_:$R.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Yd(r)?Kd(r):r.j_.set("Unknown")):(await r.J_.stop(),E0(r))})),r.J_}function zr(r){return r.Y_||(r.Y_=function(i,s,o){const h=Et(i);return h.M_(),new qR(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:JR.bind(null,r),Lo:nw.bind(null,r),D_:tw.bind(null,r),v_:ew.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Cc(r)):(await r.Y_.stop(),r.K_.length>0&&(rt(Sa,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new Li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,g=new Xd(e,i,d,o,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $d(r,e){if(Bi("AsyncQueue",`${e}: ${r}`),zs(r))return new ht($.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{static emptySet(e){return new ws(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||dt.comparator(i.key,s.key):(i,s)=>dt.comparator(i.key,s.key),this.keyedMap=Kl(),this.sortedSet=new ee(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ws)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new ws;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(){this.Z_=new ee(dt.comparator)}track(e){const i=e.doc.key,s=this.Z_.get(i);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(i):e.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):yt():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,s)=>{e.push(s)}),e}}class Ns{constructor(e,i,s,o,h,d,g,p,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Ns(e,i,ws.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class aw{constructor(){this.queries=R_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const o=Et(i),h=o.queries;o.queries=R_(),h.forEach((d,g)=>{for(const p of g.ta)p.onError(s)})})(this,new ht($.ABORTED,"Firestore shutting down"))}}function R_(){return new Ia(r=>Hv(r),vc)}async function b0(r,e){const i=Et(r);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.na()&&e.ra()&&(s=2):(h=new rw,s=e.ra()?0:1);try{switch(s){case 0:h.ea=await i.onListen(o,!0);break;case 1:h.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=$d(d,`Initialization of query '${Ss(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&Zd(i)}async function R0(r,e){const i=Et(r),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?o=e.ra()?0:1:!h.na()&&e.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function sw(r,e){const i=Et(r);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.ta)g.oa(o)&&(s=!0);d.ea=o}}s&&Zd(i)}function lw(r,e,i){const s=Et(r),o=s.queries.get(e);if(o)for(const h of o.ta)h.onError(i);s.queries.delete(e)}function Zd(r){r.ia.forEach(e=>{e.next()})}var Ed,w_;(w_=Ed||(Ed={}))._a="default",w_.Cache="cache";class w0{constructor(e,i,s){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ns(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ns.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ed.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e){this.key=e}}class D0{constructor(e){this.key=e}}class ow{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Vt(),this.mutatedKeys=Vt(),this.ya=Gv(e),this.wa=new ws(this.ya)}get Sa(){return this.fa}ba(e,i){const s=i?i.Da:new b_,o=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,R)=>{const O=o.get(A),P=Ec(this.query,R)?R:null,F=!!O&&this.mutatedKeys.has(O.key),Y=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let H=!1;O&&P?O.data.isEqual(P.data)?F!==Y&&(s.track({type:3,doc:P}),H=!0):this.va(O,P)||(s.track({type:2,doc:P}),H=!0,(p&&this.ya(P,p)>0||y&&this.ya(P,y)<0)&&(g=!0)):!O&&P?(s.track({type:0,doc:P}),H=!0):O&&!P&&(s.track({type:1,doc:O}),H=!0,(p||y)&&(g=!0)),H&&(P?(d=d.add(P),h=Y?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{wa:d,Da:s,ls:g,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((A,R)=>function(P,F){const Y=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return Y(P)-Y(F)}(A.type,R.type)||this.ya(A.doc,R.doc)),this.Ca(s),o=o!=null&&o;const g=i&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,d.length!==0||y?{snapshot:new Ns(this.query,e.wa,h,d,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new b_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Vt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return e.forEach(s=>{this.pa.has(s)||i.push(new D0(s))}),this.pa.forEach(s=>{e.has(s)||i.push(new C0(s))}),i}Oa(e){this.fa=e.gs,this.pa=Vt();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return Ns.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Wd="SyncEngine";class uw{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class cw{constructor(e){this.key=e,this.Ba=!1}}class hw{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Ia(g=>Hv(g),vc),this.qa=new Map,this.Qa=new Set,this.$a=new ee(dt.comparator),this.Ka=new Map,this.Ua=new jd,this.Wa={},this.Ga=new Map,this.za=Os.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function fw(r,e,i=!0){const s=x0(r);let o;const h=s.ka.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.Na()):o=await I0(s,e,i,!0),o}async function dw(r,e){const i=x0(r);await I0(i,e,!0,!1)}async function I0(r,e,i,s){const o=await MR(r.localStore,ri(e)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await mw(r,e,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&_0(r.remoteStore,o),g}async function mw(r,e,i,s,o){r.Ha=(R,O,P)=>async function(Y,H,J,at){let st=H.view.ba(J);st.ls&&(st=await __(Y.localStore,H.query,!1).then(({documents:x})=>H.view.ba(x,st)));const Tt=at&&at.targetChanges.get(H.targetId),mt=at&&at.targetMismatches.get(H.targetId)!=null,It=H.view.applyChanges(st,Y.isPrimaryClient,Tt,mt);return D_(Y,H.targetId,It.Ma),It.snapshot}(r,R,O,P);const h=await __(r.localStore,e,!0),d=new ow(e,h.gs),g=d.ba(h.documents),p=fo.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),y=d.applyChanges(g,r.isPrimaryClient,p);D_(r,i,y.Ma);const A=new uw(e,i,d);return r.ka.set(e,A),r.qa.has(i)?r.qa.get(i).push(e):r.qa.set(i,[e]),y.snapshot}async function gw(r,e,i){const s=Et(r),o=s.ka.get(e),h=s.qa.get(o.targetId);if(h.length>1)return s.qa.set(o.targetId,h.filter(d=>!vc(d,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await _d(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Fd(s.remoteStore,o.targetId),Td(s,o.targetId)}).catch(Ls)):(Td(s,o.targetId),await _d(s.localStore,o.targetId,!0))}async function pw(r,e){const i=Et(r),s=i.ka.get(e),o=i.qa.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Fd(i.remoteStore,s.targetId))}async function yw(r,e,i){const s=bw(r);try{const o=await function(d,g){const p=Et(d),y=Re.now(),A=g.reduce((P,F)=>P.add(F.key),Vt());let R,O;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let F=ji(),Y=Vt();return p.ds.getEntries(P,A).next(H=>{F=H,F.forEach((J,at)=>{at.isValidDocument()||(Y=Y.add(J))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,F)).next(H=>{R=H;const J=[];for(const at of g){const st=N1(at,R.get(at.key).overlayedDocument);st!=null&&J.push(new Va(at.key,st,Lv(st.value.mapValue),zi.exists(!0)))}return p.mutationQueue.addMutationBatch(P,y,J,g)}).next(H=>{O=H;const J=H.applyToLocalDocumentSet(R,Y);return p.documentOverlayCache.saveOverlays(P,H.batchId,J)})}).then(()=>({batchId:O.batchId,changes:Qv(R)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,p){let y=d.Wa[d.currentUser.toKey()];y||(y=new ee(Nt)),y=y.insert(g,p),d.Wa[d.currentUser.toKey()]=y}(s,o.batchId,i),await go(s,o.changes),await Cc(s.remoteStore)}catch(o){const h=$d(o,"Failed to persist write");i.reject(h)}}async function V0(r,e){const i=Et(r);try{const s=await VR(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Ka.get(h);d&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?Gt(d.Ba):o.removedDocuments.size>0&&(Gt(d.Ba),d.Ba=!1))}),await go(i,s,e)}catch(s){await Ls(s)}}function C_(r,e,i){const s=Et(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.ka.forEach((h,d)=>{const g=d.view.sa(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const p=Et(d);p.onlineState=g;let y=!1;p.queries.forEach((A,R)=>{for(const O of R.ta)O.sa(g)&&(y=!0)}),y&&Zd(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function _w(r,e,i){const s=Et(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Ka.get(e),h=o&&o.key;if(h){let d=new ee(dt.comparator);d=d.insert(h,Ke.newNoDocument(h,_t.min()));const g=Vt().add(h),p=new bc(_t.min(),new Map,new ee(Nt),d,g);await V0(s,p),s.$a=s.$a.remove(h),s.Ka.delete(e),Jd(s)}else await _d(s.localStore,e,!1).then(()=>Td(s,e,i)).catch(Ls)}async function vw(r,e){const i=Et(r),s=e.batch.batchId;try{const o=await IR(i.localStore,e);N0(i,s,null),O0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await go(i,o)}catch(o){await Ls(o)}}async function Ew(r,e,i){const s=Et(r);try{const o=await function(d,g){const p=Et(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let A;return p.mutationQueue.lookupMutationBatch(y,g).next(R=>(Gt(R!==null),A=R.keys(),p.mutationQueue.removeMutationBatch(y,R))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,A,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A)).next(()=>p.localDocuments.getDocuments(y,A))})}(s.localStore,e);N0(s,e,i),O0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await go(s,o)}catch(o){await Ls(o)}}function O0(r,e){(r.Ga.get(e)||[]).forEach(i=>{i.resolve()}),r.Ga.delete(e)}function N0(r,e,i){const s=Et(r);let o=s.Wa[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Td(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),i&&r.La.Ja(s,i);r.qa.delete(e),r.isPrimaryClient&&r.Ua.br(e).forEach(s=>{r.Ua.containsKey(s)||M0(r,s)})}function M0(r,e){r.Qa.delete(e.path.canonicalString());const i=r.$a.get(e);i!==null&&(Fd(r.remoteStore,i),r.$a=r.$a.remove(e),r.Ka.delete(i),Jd(r))}function D_(r,e,i){for(const s of i)s instanceof C0?(r.Ua.addReference(s.key,e),Tw(r,s)):s instanceof D0?(rt(Wd,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||M0(r,s.key)):yt()}function Tw(r,e){const i=e.key,s=i.path.canonicalString();r.$a.get(i)||r.Qa.has(s)||(rt(Wd,"New document in limbo: "+i),r.Qa.add(s),Jd(r))}function Jd(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const i=new dt(Zt.fromString(e)),s=r.za.next();r.Ka.set(s,new cw(i)),r.$a=r.$a.insert(i,s),_0(r.remoteStore,new wr(ri(Ld(i.path)),s,"TargetPurposeLimboResolution",gc.ae))}}async function go(r,e,i){const s=Et(r),o=[],h=[],d=[];s.ka.isEmpty()||(s.ka.forEach((g,p)=>{d.push(s.Ha(p,e,i).then(y=>{var A;if((y||i)&&s.isPrimaryClient){const R=y?!y.fromCache:(A=i==null?void 0:i.targetChanges.get(p.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(p.targetId,R?"current":"not-current")}if(y){o.push(y);const R=Hd.Yi(p.targetId,y);h.push(R)}}))}),await Promise.all(d),s.La.p_(o),await async function(p,y){const A=Et(p);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>K.forEach(y,O=>K.forEach(O.Hi,P=>A.persistence.referenceDelegate.addReference(R,O.targetId,P)).next(()=>K.forEach(O.Ji,P=>A.persistence.referenceDelegate.removeReference(R,O.targetId,P)))))}catch(R){if(!zs(R))throw R;rt(Gd,"Failed to update sequence numbers: "+R)}for(const R of y){const O=R.targetId;if(!R.fromCache){const P=A.Ts.get(O),F=P.snapshotVersion,Y=P.withLastLimboFreeSnapshotVersion(F);A.Ts=A.Ts.insert(O,Y)}}}(s.localStore,h))}async function Aw(r,e){const i=Et(r);if(!i.currentUser.isEqual(e)){rt(Wd,"User change. New user:",e.toKey());const s=await m0(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(g=>{g.forEach(p=>{p.reject(new ht($.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await go(i,s.Rs)}}function Sw(r,e){const i=Et(r),s=i.Ka.get(e);if(s&&s.Ba)return Vt().add(s.key);{let o=Vt();const h=i.qa.get(e);if(!h)return o;for(const d of h){const g=i.ka.get(d);o=o.unionWith(g.view.Sa)}return o}}function x0(r){const e=Et(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=V0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_w.bind(null,e),e.La.p_=sw.bind(null,e.eventManager),e.La.Ja=lw.bind(null,e.eventManager),e}function bw(r){const e=Et(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ew.bind(null,e),e}class oc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return DR(this.persistence,new RR,e.initialUser,this.serializer)}Xa(e){return new d0(qd.ri,this.serializer)}Za(e){return new UR}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oc.provider={build:()=>new oc};class Rw extends oc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){Gt(this.persistence.referenceDelegate instanceof sc);const s=this.persistence.referenceDelegate.garbageCollector;return new cR(s,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new d0(s=>sc.ri(s,i),this.serializer)}}class Ad{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>C_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Aw.bind(null,this.syncEngine),await iw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new aw}()}createDatastore(e){const i=Rc(e.databaseInfo.databaseId),s=function(h){return new BR(h)}(e.databaseInfo);return function(h,d,g,p){return new GR(h,d,g,p)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,h,d,g){return new QR(s,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>C_(this.syncEngine,i,0),function(){return T_.D()?new T_:new LR}())}createSyncEngine(e,i){return function(o,h,d,g,p,y,A){const R=new hw(o,h,d,g,p,y);return A&&(R.ja=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=Et(o);rt(Sa,"RemoteStore shutting down."),h.W_.add(5),await mo(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Ad.provider={build:()=>new Ad};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Bi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr="FirestoreClient";class ww{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=wv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{rt(Pr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(rt(Pr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=$d(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Xf(r,e){r.asyncQueue.verifyOperationInProgress(),rt(Pr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await m0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function I_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await Cw(r);rt(Pr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(s=>S_(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>S_(e.remoteStore,o)),r._onlineComponents=e}async function Cw(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(Pr,"Using user provided OfflineComponentProvider");try{await Xf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Cs("Error using user provided cache. Falling back to memory cache: "+i),await Xf(r,new oc)}}else rt(Pr,"Using default OfflineComponentProvider"),await Xf(r,new Rw(void 0));return r._offlineComponents}async function L0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(Pr,"Using user provided OnlineComponentProvider"),await I_(r,r._uninitializedComponentsProvider._online)):(rt(Pr,"Using default OnlineComponentProvider"),await I_(r,new Ad))),r._onlineComponents}function Dw(r){return L0(r).then(e=>e.syncEngine)}async function z0(r){const e=await L0(r),i=e.eventManager;return i.onListen=fw.bind(null,e.syncEngine),i.onUnlisten=gw.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=dw.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=pw.bind(null,e.syncEngine),i}function Iw(r,e,i={}){const s=new Li;return r.asyncQueue.enqueueAndForget(async()=>function(h,d,g,p,y){const A=new U0({next:O=>{A.su(),d.enqueueAndForget(()=>R0(h,R));const P=O.docs.has(g);!P&&O.fromCache?y.reject(new ht($.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&O.fromCache&&p&&p.source==="server"?y.reject(new ht($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(O)},error:O=>y.reject(O)}),R=new w0(Ld(g.path),A,{includeMetadataChanges:!0,Ta:!0});return b0(h,R)}(await z0(r),r.asyncQueue,e,i,s)),s.promise}function Vw(r,e,i={}){const s=new Li;return r.asyncQueue.enqueueAndForget(async()=>function(h,d,g,p,y){const A=new U0({next:O=>{A.su(),d.enqueueAndForget(()=>R0(h,R)),O.fromCache&&p.source==="server"?y.reject(new ht($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(O)},error:O=>y.reject(O)}),R=new w0(g,A,{includeMetadataChanges:!0,Ta:!0});return b0(h,R)}(await z0(r),r.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(r,e,i){if(!i)throw new ht($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Ow(r,e,i,s){if(e===!0&&s===!0)throw new ht($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function O_(r){if(!dt.isDocumentKey(r))throw new ht($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function N_(r){if(dt.isDocumentKey(r))throw new ht($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function tm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":yt()}function ba(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ht($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=tm(r);throw new ht($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="firestore.googleapis.com",M_=!0;class x_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ht($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=B0,this.ssl=M_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:M_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=f0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oR)throw new ht($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ow("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=P0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ht($.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ht($.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ht($.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ht($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x_(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Pb;switch(s.type){case"firstParty":return new qb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ht($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=V_.get(i);s&&(rt("ComponentProvider","Removing Datastore"),V_.delete(i),s.terminate())}(this),Promise.resolve()}}function Nw(r,e,i,s={}){var o;const h=(r=ba(r,Dc))._getSettings(),d=`${e}:${i}`;if(h.host!==B0&&h.host!==d&&Cs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},h),{host:d,ssl:!1})),s.mockUserToken){let g,p;if(typeof s.mockUserToken=="string")g=s.mockUserToken,p=Qe.MOCK_USER;else{g=pS(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new ht($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Qe(y)}r._authCredentials=new kb(new Rv(g,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ic(this.firestore,e,this._query)}}class mn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mn(this.firestore,e,this._key)}}class Or extends Ic{constructor(e,i,s){super(e,i,Ld(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mn(this.firestore,null,new dt(e))}withConverter(e){return new Or(this.firestore,e,this._path)}}function Mw(r,e,...i){if(r=si(r),k0("collection","path",e),r instanceof Dc){const s=Zt.fromString(e,...i);return N_(s),new Or(r,null,s)}{if(!(r instanceof mn||r instanceof Or))throw new ht($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zt.fromString(e,...i));return N_(s),new Or(r.firestore,null,s)}}function xw(r,e,...i){if(r=si(r),arguments.length===1&&(e=wv.newId()),k0("doc","path",e),r instanceof Dc){const s=Zt.fromString(e,...i);return O_(s),new mn(r,null,new dt(s))}{if(!(r instanceof mn||r instanceof Or))throw new ht($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zt.fromString(e,...i));return O_(s),new mn(r.firestore,r instanceof Or?r.converter:null,new dt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="AsyncQueue";class L_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new p0(this,"async_queue_retry"),this.Su=()=>{const s=Yf();s&&rt(U_,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const i=Yf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=Yf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Li;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!zs(e))throw e;rt(U_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(s);throw Bi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(e,i,s){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=Xd.createAndSchedule(this,e,i,s,h=>this.Fu(h));return this.fu.push(o),o}Du(){this.gu&&yt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class Vc extends Dc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new L_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new L_(e),this._firestoreClient=void 0,await e}}}function Uw(r,e){const i=typeof r=="object"?r:pv(),s=typeof r=="string"?r:Ju,o=ho(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=mS("firestore");h&&Nw(o,...h)}return o}function em(r){if(r._terminated)throw new ht($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Lw(r),r._firestoreClient}function Lw(r){var e,i,s;const o=r._freezeSettings(),h=function(g,p,y,A){return new n1(g,p,y,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,P0(A.experimentalLongPollingOptions),A.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new ww(r._authCredentials,r._appCheckCredentials,r._queue,h,r._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ms(je.fromBase64String(e))}catch(i){throw new ht($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ms(je.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ht($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ht($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ht($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=/^__.*__$/;class j0{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Va(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function q0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}class am{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new am(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return uc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(q0(this.Lu)&&zw.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Pw{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Rc(e)}ju(e,i,s,o=!1){return new am({Lu:e,methodName:i,zu:s,path:Be.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kw(r){const e=r._freezeSettings(),i=Rc(r._databaseId);return new Pw(r._databaseId,!!e.ignoreUndefinedProperties,i)}class Nc extends nm{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nc}}function Bw(r,e,i,s){const o=r.ju(1,e,i);G0("Data must be an object, but it was:",o,s);const h=[],d=dn.empty();Br(s,(p,y)=>{const A=sm(e,p,i);y=si(y);const R=o.Ku(A);if(y instanceof Nc)h.push(A);else{const O=Mc(y,R);O!=null&&(h.push(A),d.set(A,O))}});const g=new kn(h);return new j0(d,g,o.fieldTransforms)}function jw(r,e,i,s,o,h){const d=r.ju(1,e,i),g=[z_(e,s,i)],p=[o];if(h.length%2!=0)throw new ht($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<h.length;O+=2)g.push(z_(e,h[O])),p.push(h[O+1]);const y=[],A=dn.empty();for(let O=g.length-1;O>=0;--O)if(!Gw(y,g[O])){const P=g[O];let F=p[O];F=si(F);const Y=d.Ku(P);if(F instanceof Nc)y.push(P);else{const H=Mc(F,Y);H!=null&&(y.push(P),A.set(P,H))}}const R=new kn(y);return new j0(A,R,d.fieldTransforms)}function Mc(r,e){if(H0(r=si(r)))return G0("Unsupported field value:",e,r),qw(r,e);if(r instanceof nm)return function(s,o){if(!q0(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const h=[];let d=0;for(const g of s){let p=Mc(g,o.Uu(d));p==null&&(p={nullValue:"NULL_VALUE"}),h.push(p),d++}return{arrayValue:{values:h}}}(r,e)}return function(s,o){if((s=si(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return w1(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=Re.fromDate(s);return{timestampValue:ac(o.serializer,h)}}if(s instanceof Re){const h=new Re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ac(o.serializer,h)}}if(s instanceof im)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ms)return{bytesValue:a0(o.serializer,s._byteString)};if(s instanceof mn){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Bd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof rm)return function(d,g){return{mapValue:{fields:{[xv]:{stringValue:Uv},[tc]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw g.Wu("VectorValues must only contain numeric values.");return zd(g.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${tm(s)}`)}(r,e)}function qw(r,e){const i={};return Dv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Br(r,(s,o)=>{const h=Mc(o,e.qu(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function H0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Re||r instanceof im||r instanceof Ms||r instanceof mn||r instanceof nm||r instanceof rm)}function G0(r,e,i){if(!H0(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=tm(i);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function z_(r,e,i){if((e=si(e))instanceof Oc)return e._internalPath;if(typeof e=="string")return sm(r,e);throw uc("Field path arguments must be of type string or ",r,!1,void 0,i)}const Hw=new RegExp("[~\\*/\\[\\]]");function sm(r,e,i){if(e.search(Hw)>=0)throw uc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Oc(...e.split("."))._internalPath}catch{throw uc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function uc(r,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(h||d)&&(p+=" (found",h&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new ht($.INVALID_ARGUMENT,g+r+p)}function Gw(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Fw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Q0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Fw extends F0{data(){return super.data()}}function Q0(r,e){return typeof e=="string"?sm(r,e):e instanceof Oc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ht($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kw{convertValue(e,i="none"){switch(Lr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw yt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Br(e,(o,h)=>{s[o]=this.convertValue(h,i)}),s}convertVectorValue(e){var i,s,o;const h=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[tc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>ue(d.doubleValue));return new rm(h)}convertGeoPoint(e){return new im(ue(e.latitude),ue(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=yc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(ao(e));default:return null}}convertTimestamp(e){const i=xr(e);return new Re(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Zt.fromString(e);Gt(h0(s));const o=new so(s.get(1),s.get(3)),h=new dt(s.popFirst(5));return o.isEqual(i)||Bi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class K0 extends F0{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Q0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class Ku extends K0{data(e={}){return super.data(e)}}class Yw{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Xl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new Ku(this._firestore,this._userDataWriter,s.key,s,new Xl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ht($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const p=new Ku(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Xl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const p=new Ku(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Xl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,A=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:Xw(g.type),doc:p,oldIndex:y,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Xw(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(r){r=ba(r,mn);const e=ba(r.firestore,Vc);return Iw(em(e),r._key).then(i=>t2(e,r,i))}class Y0 extends Kw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ms(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new mn(this.firestore,null,i)}}function Zw(r){r=ba(r,Ic);const e=ba(r.firestore,Vc),i=em(e),s=new Y0(e);return Qw(r._query),Vw(i,r._query).then(o=>new Yw(e,s,r,o))}function Ww(r,e,i,...s){r=ba(r,mn);const o=ba(r.firestore,Vc),h=kw(o);let d;return d=typeof(e=si(e))=="string"||e instanceof Oc?jw(h,"updateDoc",r._key,e,i,s):Bw(h,"updateDoc",r._key,e),Jw(o,[d.toMutation(r._key,zi.exists(!0))])}function Jw(r,e){return function(s,o){const h=new Li;return s.asyncQueue.enqueueAndForget(async()=>yw(await Dw(s),o,h)),h.promise}(em(r),e)}function t2(r,e,i){const s=i.docs.get(e._key),o=new Y0(r);return new K0(r,o,e._key,s,new Xl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Us=o})(Cb),Nr(new Pi("firestore",(s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new Vc(new Bb(s.getProvider("auth-internal")),new Hb(d,s.getProvider("app-check-internal")),function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ht($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new so(y.options.projectId,A)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),ii(Hy,Gy,e),ii(Hy,Gy,"esm2017")})();var e2="firebase",n2="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ii(e2,n2,"app");const X0="@firebase/installations",lm="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=1e4,Z0=`w:${lm}`,W0="FIS_v2",i2="https://firebaseinstallations.googleapis.com/v1",r2=60*60*1e3,a2="installations",s2="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ra=new mc(a2,s2,l2);function J0(r){return r instanceof kr&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE({projectId:r}){return`${i2}/projects/${r}/installations`}function eE(r){return{token:r.token,requestStatus:2,expiresIn:u2(r.expiresIn),creationTime:Date.now()}}async function nE(r,e){const s=(await e.json()).error;return Ra.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function iE({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function o2(r,{refreshToken:e}){const i=iE(r);return i.append("Authorization",c2(e)),i}async function rE(r){const e=await r();return e.status>=500&&e.status<600?r():e}function u2(r){return Number(r.replace("s","000"))}function c2(r){return`${W0} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h2({appConfig:r,heartbeatServiceProvider:e},{fid:i}){const s=tE(r),o=iE(r),h=e.getImmediate({optional:!0});if(h){const y=await h.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const d={fid:i,authVersion:W0,appId:r.appId,sdkVersion:Z0},g={method:"POST",headers:o,body:JSON.stringify(d)},p=await rE(()=>fetch(s,g));if(p.ok){const y=await p.json();return{fid:y.fid||i,registrationStatus:2,refreshToken:y.refreshToken,authToken:eE(y.authToken)}}else throw await nE("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=/^[cdef][\w-]{21}$/,Sd="";function m2(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const i=g2(r);return d2.test(i)?i:Sd}catch{return Sd}}function g2(r){return f2(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;function lE(r,e){const i=xc(r);oE(i,e),p2(i,e)}function oE(r,e){const i=sE.get(r);if(i)for(const s of i)s(e)}function p2(r,e){const i=y2();i&&i.postMessage({key:r,fid:e}),_2()}let Ta=null;function y2(){return!Ta&&"BroadcastChannel"in self&&(Ta=new BroadcastChannel("[Firebase] FID Change"),Ta.onmessage=r=>{oE(r.data.key,r.data.fid)}),Ta}function _2(){sE.size===0&&Ta&&(Ta.close(),Ta=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="firebase-installations-database",E2=1,wa="firebase-installations-store";let $f=null;function om(){return $f||($f=mv(v2,E2,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(wa)}}})),$f}async function cc(r,e){const i=xc(r),o=(await om()).transaction(wa,"readwrite"),h=o.objectStore(wa),d=await h.get(i);return await h.put(e,i),await o.done,(!d||d.fid!==e.fid)&&lE(r,e.fid),e}async function uE(r){const e=xc(r),s=(await om()).transaction(wa,"readwrite");await s.objectStore(wa).delete(e),await s.done}async function Uc(r,e){const i=xc(r),o=(await om()).transaction(wa,"readwrite"),h=o.objectStore(wa),d=await h.get(i),g=e(d);return g===void 0?await h.delete(i):await h.put(g,i),await o.done,g&&(!d||d.fid!==g.fid)&&lE(r,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function um(r){let e;const i=await Uc(r.appConfig,s=>{const o=T2(s),h=A2(r,o);return e=h.registrationPromise,h.installationEntry});return i.fid===Sd?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function T2(r){const e=r||{fid:m2(),registrationStatus:0};return cE(e)}function A2(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ra.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=S2(r,i);return{installationEntry:i,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:b2(r)}:{installationEntry:e}}async function S2(r,e){try{const i=await h2(r,e);return cc(r.appConfig,i)}catch(i){throw J0(i)&&i.customData.serverCode===409?await uE(r.appConfig):await cc(r.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function b2(r){let e=await P_(r.appConfig);for(;e.registrationStatus===1;)await aE(100),e=await P_(r.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await um(r);return s||i}return e}function P_(r){return Uc(r,e=>{if(!e)throw Ra.create("installation-not-found");return cE(e)})}function cE(r){return R2(r)?{fid:r.fid,registrationStatus:0}:r}function R2(r){return r.registrationStatus===1&&r.registrationTime+$0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2({appConfig:r,heartbeatServiceProvider:e},i){const s=C2(r,i),o=o2(r,i),h=e.getImmediate({optional:!0});if(h){const y=await h.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const d={installation:{sdkVersion:Z0,appId:r.appId}},g={method:"POST",headers:o,body:JSON.stringify(d)},p=await rE(()=>fetch(s,g));if(p.ok){const y=await p.json();return eE(y)}else throw await nE("Generate Auth Token",p)}function C2(r,{fid:e}){return`${tE(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cm(r,e=!1){let i;const s=await Uc(r.appConfig,h=>{if(!hE(h))throw Ra.create("not-registered");const d=h.authToken;if(!e&&V2(d))return h;if(d.requestStatus===1)return i=D2(r,e),h;{if(!navigator.onLine)throw Ra.create("app-offline");const g=N2(h);return i=I2(r,g),g}});return i?await i:s.authToken}async function D2(r,e){let i=await k_(r.appConfig);for(;i.authToken.requestStatus===1;)await aE(100),i=await k_(r.appConfig);const s=i.authToken;return s.requestStatus===0?cm(r,e):s}function k_(r){return Uc(r,e=>{if(!hE(e))throw Ra.create("not-registered");const i=e.authToken;return M2(i)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function I2(r,e){try{const i=await w2(r,e),s=Object.assign(Object.assign({},e),{authToken:i});return await cc(r.appConfig,s),i}catch(i){if(J0(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await uE(r.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await cc(r.appConfig,s)}throw i}}function hE(r){return r!==void 0&&r.registrationStatus===2}function V2(r){return r.requestStatus===2&&!O2(r)}function O2(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+r2}function N2(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function M2(r){return r.requestStatus===1&&r.requestTime+$0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(r){const e=r,{installationEntry:i,registrationPromise:s}=await um(e);return s?s.catch(console.error):cm(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U2(r,e=!1){const i=r;return await L2(i),(await cm(i,e)).token}async function L2(r){const{registrationPromise:e}=await um(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(r){if(!r||!r.options)throw Zf("App Configuration");if(!r.name)throw Zf("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!r.options[i])throw Zf(i);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Zf(r){return Ra.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="installations",P2="installations-internal",k2=r=>{const e=r.getProvider("app").getImmediate(),i=z2(e),s=ho(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},B2=r=>{const e=r.getProvider("app").getImmediate(),i=ho(e,fE).getImmediate();return{getId:()=>x2(i),getToken:o=>U2(i,o)}};function j2(){Nr(new Pi(fE,k2,"PUBLIC")),Nr(new Pi(P2,B2,"PRIVATE"))}j2();ii(X0,lm);ii(X0,lm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc="analytics",q2="firebase_id",H2="origin",G2=60*1e3,F2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",hm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an=new Dd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},gn=new mc("analytics","Analytics",Q2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(r){if(!r.startsWith(hm)){const e=gn.create("invalid-gtag-resource",{gtagURL:r});return an.warn(e.message),""}return r}function dE(r){return Promise.all(r.map(e=>e.catch(i=>i)))}function Y2(r,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(r,e)),i}function X2(r,e){const i=Y2("firebase-js-sdk-policy",{createScriptURL:K2}),s=document.createElement("script"),o=`${hm}?l=${r}&id=${e}`;s.src=i?i==null?void 0:i.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function $2(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function Z2(r,e,i,s,o,h){const d=s[o];try{if(d)await e[d];else{const p=(await dE(i)).find(y=>y.measurementId===o);p&&await e[p.appId]}}catch(g){an.error(g)}r("config",o,h)}async function W2(r,e,i,s,o){try{let h=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const g=await dE(i);for(const p of d){const y=g.find(R=>R.measurementId===p),A=y&&e[y.appId];if(A)h.push(A);else{h=[];break}}}h.length===0&&(h=Object.values(e)),await Promise.all(h),r("event",s,o||{})}catch(h){an.error(h)}}function J2(r,e,i,s){async function o(h,...d){try{if(h==="event"){const[g,p]=d;await W2(r,e,i,g,p)}else if(h==="config"){const[g,p]=d;await Z2(r,e,i,s,g,p)}else if(h==="consent"){const[g,p]=d;r("consent",g,p)}else if(h==="get"){const[g,p,y]=d;r("get",g,p,y)}else if(h==="set"){const[g]=d;r("set",g)}else r(h,...d)}catch(g){an.error(g)}}return o}function tC(r,e,i,s,o){let h=function(...d){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(h=window[o]),window[o]=J2(h,r,e,i),{gtagCore:h,wrappedGtag:window[o]}}function eC(r){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(hm)&&i.src.includes(r))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=30,iC=1e3;class rC{constructor(e={},i=iC){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const mE=new rC;function aC(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function sC(r){var e;const{appId:i,apiKey:s}=r,o={method:"GET",headers:aC(s)},h=F2.replace("{app-id}",i),d=await fetch(h,o);if(d.status!==200&&d.status!==304){let g="";try{const p=await d.json();!((e=p.error)===null||e===void 0)&&e.message&&(g=p.error.message)}catch{}throw gn.create("config-fetch-failed",{httpStatus:d.status,responseMessage:g})}return d.json()}async function lC(r,e=mE,i){const{appId:s,apiKey:o,measurementId:h}=r.options;if(!s)throw gn.create("no-app-id");if(!o){if(h)return{measurementId:h,appId:s};throw gn.create("no-api-key")}const d=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new cC;return setTimeout(async()=>{g.abort()},G2),gE({appId:s,apiKey:o,measurementId:h},d,g,e)}async function gE(r,{throttleEndTimeMillis:e,backoffCount:i},s,o=mE){var h;const{appId:d,measurementId:g}=r;try{await oC(s,e)}catch(p){if(g)return an.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:d,measurementId:g};throw p}try{const p=await sC(r);return o.deleteThrottleMetadata(d),p}catch(p){const y=p;if(!uC(y)){if(o.deleteThrottleMetadata(d),g)return an.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:d,measurementId:g};throw p}const A=Number((h=y==null?void 0:y.customData)===null||h===void 0?void 0:h.httpStatus)===503?My(i,o.intervalMillis,nC):My(i,o.intervalMillis),R={throttleEndTimeMillis:Date.now()+A,backoffCount:i+1};return o.setThrottleMetadata(d,R),an.debug(`Calling attemptFetch again in ${A} millis`),gE(r,R,s,o)}}function oC(r,e){return new Promise((i,s)=>{const o=Math.max(e-Date.now(),0),h=setTimeout(i,o);r.addEventListener(()=>{clearTimeout(h),s(gn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function uC(r){if(!(r instanceof kr)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class cC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function hC(r,e,i,s,o){if(o&&o.global){r("event",i,s);return}else{const h=await e,d=Object.assign(Object.assign({},s),{send_to:h});r("event",i,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(){if(cv())try{await hv()}catch(r){return an.warn(gn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return an.warn(gn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function dC(r,e,i,s,o,h,d){var g;const p=lC(r);p.then(P=>{i[P.measurementId]=P.appId,r.options.measurementId&&P.measurementId!==r.options.measurementId&&an.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${P.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(P=>an.error(P)),e.push(p);const y=fC().then(P=>{if(P)return s.getId()}),[A,R]=await Promise.all([p,y]);eC(h)||X2(h,A.measurementId),o("js",new Date);const O=(g=d==null?void 0:d.config)!==null&&g!==void 0?g:{};return O[H2]="firebase",O.update=!0,R!=null&&(O[q2]=R),o("config",A.measurementId,O),A.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e){this.app=e}_delete(){return delete to[this.app.options.appId],Promise.resolve()}}let to={},B_=[];const j_={};let Wf="dataLayer",gC="gtag",q_,pE,H_=!1;function pC(){const r=[];if(vS()&&r.push("This is a browser extension environment."),TS()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),i=gn.create("invalid-analytics-context",{errorInfo:e});an.warn(i.message)}}function yC(r,e,i){pC();const s=r.options.appId;if(!s)throw gn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)an.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw gn.create("no-api-key");if(to[s]!=null)throw gn.create("already-exists",{id:s});if(!H_){$2(Wf);const{wrappedGtag:h,gtagCore:d}=tC(to,B_,j_,Wf,gC);pE=h,q_=d,H_=!0}return to[s]=dC(r,B_,j_,e,q_,Wf,i),new mC(r)}function _C(r=pv()){r=si(r);const e=ho(r,hc);return e.isInitialized()?e.getImmediate():vC(r)}function vC(r,e={}){const i=ho(r,hc);if(i.isInitialized()){const o=i.getImmediate();if($u(e,i.getOptions()))return o;throw gn.create("already-initialized")}return i.initialize({options:e})}function EC(r,e,i,s){r=si(r),hC(pE,to[r.app.options.appId],e,i,s).catch(o=>an.error(o))}const G_="@firebase/analytics",F_="0.10.11";function TC(){Nr(new Pi(hc,(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return yC(s,o,i)},"PUBLIC")),Nr(new Pi("analytics-internal",r,"PRIVATE")),ii(G_,F_),ii(G_,F_,"esm2017");function r(e){try{const i=e.getProvider(hc).getImmediate();return{logEvent:(s,o,h)=>EC(i,s,o,h)}}catch(i){throw gn.create("interop-component-reg-failed",{reason:i})}}}TC();const AC={apiKey:"AIzaSyD5ALf922ZonYrURoAECZT_OWMPJwR1h8E",authDomain:"rankyale.firebaseapp.com",projectId:"rankyale",storageBucket:"rankyale.firebasestorage.app",messagingSenderId:"463872924342",appId:"1:463872924342:web:7266b4ff9f8b80eb73e417",measurementId:"G-L3PLKNTLJ1"},yE=gv(AC);_C(yE);const _E=Uw(yE),SC=async r=>{const e=Mw(_E,"categories",r,"entries");try{return(await Zw(e)).docs.map(s=>({id:s.id,...s.data()}))}catch(i){return console.error(`Error retrieving collection ${r}:`,i),[]}},Q_=async(r,e,i)=>{const s=xw(_E,"categories",r,"entries",e);try{return(await $w(s)).exists()?(await Ww(s,{score:i}),console.log(`Updated college ${e}'s score to ${i}`),!0):(console.error(`No college found with ID: ${e}`),!1)}catch(o){return console.error("Error updating college score:",o),!1}};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vE=(...r)=>r.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=et.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:h,iconNode:d,...g},p)=>et.createElement("svg",{ref:p,...RC,width:e,height:e,stroke:r,strokeWidth:s?Number(i)*24/Number(e):i,className:vE("lucide",o),...g},[...d.map(([y,A])=>et.createElement(y,A)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=(r,e)=>{const i=et.forwardRef(({className:s,...o},h)=>et.createElement(wC,{ref:h,iconNode:e,className:vE(`lucide-${bC(r)}`,s),...o}));return i.displayName=`${r}`,i};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],IC=CC("X",DC),VC=({onClose:r,entries:e,setEntries:i})=>{var R,O;const[h,d]=et.useState([]),[g,p]=et.useState(0),y=(P,F)=>{const Y=e[P.entry1],H=e[P.entry2],J=1/(1+Math.pow(10,(H.score-Y.score)/400)),at=1/(1+Math.pow(10,(Y.score-H.score)/400));let st=Y.score,Tt=H.score;F===0?(st+=32*(1-J),Tt+=32*(0-at)):F===1&&(st+=32*(0-J),Tt+=32*(1-at)),i(mt=>{const It=[...mt];return It[P.entry1]={...Y,score:st},It[P.entry2]={...H,score:Tt},It}),Q_("colleges",Y.id,st),Q_("colleges",H.id,Tt),p(g+1),g+1>=10&&r()};et.useEffect(()=>{const P=[];for(;P.length<10;){const F=Math.floor(Math.random()*e.length);let Y=Math.floor(Math.random()*e.length);for(;Y===F;)Y=Math.floor(Math.random()*e.length);P.some(J=>J.entry1===F&&J.entry2===Y||J.entry1===Y&&J.entry2===F)||P.push({entry1:F,entry2:Y})}d(P)},[e]);const A=({entry:P,onClick:F})=>At.jsx("div",{onClick:F,className:"flex flex-col flex-1 items-center bg-white rounded-lg p-4 shadow-md hover:scale-105 duration:300 transition active:scale-95",children:h.length!==0&&At.jsxs(At.Fragment,{children:[At.jsx("img",{src:P.image,alt:P.name,className:"w-32 sm:w-48 h-32 sm:h-48 object-contain mb-4"}),At.jsx("span",{className:"text-xl font-semibold",children:P.name})]})});return At.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center",children:At.jsxs("div",{className:"bg-gray-100 p-6 rounded-lg shadow-lg max-w-2xl w-full text-center relative",onClick:P=>P.stopPropagation(),children:[At.jsx("button",{onClick:r,className:"absolute top-2 left-2 p-2 text-gray-600 hover:text-black",children:At.jsx(IC,{size:24})}),At.jsx("h2",{className:"text-3xl font-semibold",children:"Which dining hall is better?"}),At.jsxs("div",{className:"text-gray-500 my-2",children:[10-g," more to go"]}),At.jsxs("div",{className:"flex justify-center gap-12 flex-row mx-8 my-6",children:[At.jsx(A,{entry:e[(R=h[g])==null?void 0:R.entry1],onClick:()=>y(h[g],0)}),At.jsx(A,{entry:e[(O=h[g])==null?void 0:O.entry2],onClick:()=>y(h[g],0)})]}),At.jsx("button",{onClick:()=>y(h[g],2),className:"px-4 py-3 bg-gray-400 text-white text-lg rounded-lg hover:bg-gray-500 duration-200 transition",children:"I'm indifferent"})]})})};function OC(){const[r,e]=et.useState([]),[i,s]=et.useState(!1);et.useEffect(()=>{SC("colleges").then(h=>{console.log("Fetched data:",h);const d=h.sort((g,p)=>p.score-g.score||g.name.localeCompare(p.name));e(d)})},[]);const o=()=>{r.length<2||s(!0)};return At.jsxs("div",{className:"flex flex-col w-full bg-gray-100 min-h-screen",children:[At.jsxs("div",{className:"flex items-center w-screen justify-between p-4 pr-10",children:[At.jsx("div",{className:"text-3xl font-bold",children:"College Rankings"}),At.jsx(sv,{to:"/about",className:"underline",children:"About"})]}),At.jsx("div",{className:"flex flex-col items-center w-full my-10",children:At.jsx("div",{onClick:o,className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white text-4xl font-semibold p-4 rounded-lg shadow-lg cursor-pointer hover:from-blue-600 hover:to-purple-600 transition duration-300 ease-in-out active:scale-95",children:"Rank Colleges"})}),i&&At.jsx(VC,{onClose:()=>s(!1),entries:r,setEntries:e}),At.jsx("div",{className:"mt-8 flex flex-col items-center w-full",children:r.length===0?At.jsx("p",{children:"Loading..."}):At.jsx("div",{className:"flex flex-col items-center w-full space-y-2",children:r.map((h,d)=>At.jsxs("div",{className:"bg-white rounded-xl p-4 flex flex-row justify-between items-center space-x-4 w-full max-w-xl shadow-xs",children:[At.jsxs("div",{className:"flex flex-row gap-4 text-xl font-medium",children:[At.jsx("span",{className:"",children:d+1}),At.jsx("span",{className:"",children:h.name}),At.jsxs("span",{className:"text-gray-500 text-base self-center",children:["score: ",Math.floor(h.score)]})]}),At.jsx("img",{src:h.image,alt:h.name,className:"w-10 h-10 object-contain"})]},h.name))})})]})}const NC=()=>At.jsxs("div",{children:[At.jsx("h1",{children:"About Page"}),At.jsx(sv,{to:"/",children:"Go to Home"})]});function MC(){return At.jsxs(YA,{children:[At.jsx(td,{path:"/",element:At.jsx(OC,{})}),At.jsx(td,{path:"/about",element:At.jsx(NC,{})})]})}nA.createRoot(document.getElementById("root")).render(At.jsx(et.StrictMode,{children:At.jsx(eS,{children:At.jsx(MC,{})})}));
