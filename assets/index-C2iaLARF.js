(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var vf={exports:{}},Ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function KE(){if(Hp)return Ll;Hp=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:h}}return Ll.Fragment=e,Ll.jsx=i,Ll.jsxs=i,Ll}var jp;function YE(){return jp||(jp=1,vf.exports=KE()),vf.exports}var Mi=YE(),Ef={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function XE(){if(Gp)return vt;Gp=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),M=Symbol.iterator;function B(C){return C===null||typeof C!="object"?null:(C=M&&C[M]||C["@@iterator"],typeof C=="function"?C:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,nt={};function $(C,Y,rt){this.props=C,this.context=Y,this.refs=nt,this.updater=rt||j}$.prototype.isReactComponent={},$.prototype.setState=function(C,Y){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Y,"setState")},$.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function St(){}St.prototype=$.prototype;function dt(C,Y,rt){this.props=C,this.context=Y,this.refs=nt,this.updater=rt||j}var Et=dt.prototype=new St;Et.constructor=dt,Z(Et,$.prototype),Et.isPureReactComponent=!0;var Ft=Array.isArray,yt={H:null,A:null,T:null,S:null},Ut=Object.prototype.hasOwnProperty;function N(C,Y,rt,W,tt,Tt){return rt=Tt.ref,{$$typeof:r,type:C,key:Y,ref:rt!==void 0?rt:null,props:Tt}}function R(C,Y){return N(C.type,Y,void 0,void 0,void 0,C.props)}function A(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function D(C){var Y={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(rt){return Y[rt]})}var O=/\/+/g;function L(C,Y){return typeof C=="object"&&C!==null&&C.key!=null?D(""+C.key):Y.toString(36)}function w(){}function me(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(w,w):(C.status="pending",C.then(function(Y){C.status==="pending"&&(C.status="fulfilled",C.value=Y)},function(Y){C.status==="pending"&&(C.status="rejected",C.reason=Y)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function oe(C,Y,rt,W,tt){var Tt=typeof C;(Tt==="undefined"||Tt==="boolean")&&(C=null);var _t=!1;if(C===null)_t=!0;else switch(Tt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(C.$$typeof){case r:case e:_t=!0;break;case b:return _t=C._init,oe(_t(C._payload),Y,rt,W,tt)}}if(_t)return tt=tt(C),_t=W===""?"."+L(C,0):W,Ft(tt)?(rt="",_t!=null&&(rt=_t.replace(O,"$&/")+"/"),oe(tt,Y,rt,"",function(te){return te})):tt!=null&&(A(tt)&&(tt=R(tt,rt+(tt.key==null||C&&C.key===tt.key?"":(""+tt.key).replace(O,"$&/")+"/")+_t)),Y.push(tt)),1;_t=0;var ue=W===""?".":W+":";if(Ft(C))for(var xt=0;xt<C.length;xt++)W=C[xt],Tt=ue+L(W,xt),_t+=oe(W,Y,rt,Tt,tt);else if(xt=B(C),typeof xt=="function")for(C=xt.call(C),xt=0;!(W=C.next()).done;)W=W.value,Tt=ue+L(W,xt++),_t+=oe(W,Y,rt,Tt,tt);else if(Tt==="object"){if(typeof C.then=="function")return oe(me(C),Y,rt,W,tt);throw Y=String(C),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return _t}function J(C,Y,rt){if(C==null)return C;var W=[],tt=0;return oe(C,W,"","",function(Tt){return Y.call(rt,Tt,tt++)}),W}function ht(C){if(C._status===-1){var Y=C._result;Y=Y(),Y.then(function(rt){(C._status===0||C._status===-1)&&(C._status=1,C._result=rt)},function(rt){(C._status===0||C._status===-1)&&(C._status=2,C._result=rt)}),C._status===-1&&(C._status=0,C._result=Y)}if(C._status===1)return C._result.default;throw C._result}var lt=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Bt(){}return vt.Children={map:J,forEach:function(C,Y,rt){J(C,function(){Y.apply(this,arguments)},rt)},count:function(C){var Y=0;return J(C,function(){Y++}),Y},toArray:function(C){return J(C,function(Y){return Y})||[]},only:function(C){if(!A(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},vt.Component=$,vt.Fragment=i,vt.Profiler=o,vt.PureComponent=dt,vt.StrictMode=s,vt.Suspense=_,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=yt,vt.act=function(){throw Error("act(...) is not supported in production builds of React.")},vt.cache=function(C){return function(){return C.apply(null,arguments)}},vt.cloneElement=function(C,Y,rt){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var W=Z({},C.props),tt=C.key,Tt=void 0;if(Y!=null)for(_t in Y.ref!==void 0&&(Tt=void 0),Y.key!==void 0&&(tt=""+Y.key),Y)!Ut.call(Y,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&Y.ref===void 0||(W[_t]=Y[_t]);var _t=arguments.length-2;if(_t===1)W.children=rt;else if(1<_t){for(var ue=Array(_t),xt=0;xt<_t;xt++)ue[xt]=arguments[xt+2];W.children=ue}return N(C.type,tt,void 0,void 0,Tt,W)},vt.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},vt.createElement=function(C,Y,rt){var W,tt={},Tt=null;if(Y!=null)for(W in Y.key!==void 0&&(Tt=""+Y.key),Y)Ut.call(Y,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(tt[W]=Y[W]);var _t=arguments.length-2;if(_t===1)tt.children=rt;else if(1<_t){for(var ue=Array(_t),xt=0;xt<_t;xt++)ue[xt]=arguments[xt+2];tt.children=ue}if(C&&C.defaultProps)for(W in _t=C.defaultProps,_t)tt[W]===void 0&&(tt[W]=_t[W]);return N(C,Tt,void 0,void 0,null,tt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(C){return{$$typeof:g,render:C}},vt.isValidElement=A,vt.lazy=function(C){return{$$typeof:b,_payload:{_status:-1,_result:C},_init:ht}},vt.memo=function(C,Y){return{$$typeof:v,type:C,compare:Y===void 0?null:Y}},vt.startTransition=function(C){var Y=yt.T,rt={};yt.T=rt;try{var W=C(),tt=yt.S;tt!==null&&tt(rt,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Bt,lt)}catch(Tt){lt(Tt)}finally{yt.T=Y}},vt.unstable_useCacheRefresh=function(){return yt.H.useCacheRefresh()},vt.use=function(C){return yt.H.use(C)},vt.useActionState=function(C,Y,rt){return yt.H.useActionState(C,Y,rt)},vt.useCallback=function(C,Y){return yt.H.useCallback(C,Y)},vt.useContext=function(C){return yt.H.useContext(C)},vt.useDebugValue=function(){},vt.useDeferredValue=function(C,Y){return yt.H.useDeferredValue(C,Y)},vt.useEffect=function(C,Y){return yt.H.useEffect(C,Y)},vt.useId=function(){return yt.H.useId()},vt.useImperativeHandle=function(C,Y,rt){return yt.H.useImperativeHandle(C,Y,rt)},vt.useInsertionEffect=function(C,Y){return yt.H.useInsertionEffect(C,Y)},vt.useLayoutEffect=function(C,Y){return yt.H.useLayoutEffect(C,Y)},vt.useMemo=function(C,Y){return yt.H.useMemo(C,Y)},vt.useOptimistic=function(C,Y){return yt.H.useOptimistic(C,Y)},vt.useReducer=function(C,Y,rt){return yt.H.useReducer(C,Y,rt)},vt.useRef=function(C){return yt.H.useRef(C)},vt.useState=function(C){return yt.H.useState(C)},vt.useSyncExternalStore=function(C,Y,rt){return yt.H.useSyncExternalStore(C,Y,rt)},vt.useTransition=function(){return yt.H.useTransition()},vt.version="19.0.0",vt}var Fp;function id(){return Fp||(Fp=1,Ef.exports=XE()),Ef.exports}var Mu=id(),Tf={exports:{}},zl={},Af={exports:{}},Sf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function $E(){return Qp||(Qp=1,function(r){function e(J,ht){var lt=J.length;J.push(ht);t:for(;0<lt;){var Bt=lt-1>>>1,C=J[Bt];if(0<o(C,ht))J[Bt]=ht,J[lt]=C,lt=Bt;else break t}}function i(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var ht=J[0],lt=J.pop();if(lt!==ht){J[0]=lt;t:for(var Bt=0,C=J.length,Y=C>>>1;Bt<Y;){var rt=2*(Bt+1)-1,W=J[rt],tt=rt+1,Tt=J[tt];if(0>o(W,lt))tt<C&&0>o(Tt,W)?(J[Bt]=Tt,J[tt]=lt,Bt=tt):(J[Bt]=W,J[rt]=lt,Bt=rt);else if(tt<C&&0>o(Tt,lt))J[Bt]=Tt,J[tt]=lt,Bt=tt;else break t}}return ht}function o(J,ht){var lt=J.sortIndex-ht.sortIndex;return lt!==0?lt:J.id-ht.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var _=[],v=[],b=1,M=null,B=3,j=!1,Z=!1,nt=!1,$=typeof setTimeout=="function"?setTimeout:null,St=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Et(J){for(var ht=i(v);ht!==null;){if(ht.callback===null)s(v);else if(ht.startTime<=J)s(v),ht.sortIndex=ht.expirationTime,e(_,ht);else break;ht=i(v)}}function Ft(J){if(nt=!1,Et(J),!Z)if(i(_)!==null)Z=!0,me();else{var ht=i(v);ht!==null&&oe(Ft,ht.startTime-J)}}var yt=!1,Ut=-1,N=5,R=-1;function A(){return!(r.unstable_now()-R<N)}function D(){if(yt){var J=r.unstable_now();R=J;var ht=!0;try{t:{Z=!1,nt&&(nt=!1,St(Ut),Ut=-1),j=!0;var lt=B;try{e:{for(Et(J),M=i(_);M!==null&&!(M.expirationTime>J&&A());){var Bt=M.callback;if(typeof Bt=="function"){M.callback=null,B=M.priorityLevel;var C=Bt(M.expirationTime<=J);if(J=r.unstable_now(),typeof C=="function"){M.callback=C,Et(J),ht=!0;break e}M===i(_)&&s(_),Et(J)}else s(_);M=i(_)}if(M!==null)ht=!0;else{var Y=i(v);Y!==null&&oe(Ft,Y.startTime-J),ht=!1}}break t}finally{M=null,B=lt,j=!1}ht=void 0}}finally{ht?O():yt=!1}}}var O;if(typeof dt=="function")O=function(){dt(D)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,w=L.port2;L.port1.onmessage=D,O=function(){w.postMessage(null)}}else O=function(){$(D,0)};function me(){yt||(yt=!0,O())}function oe(J,ht){Ut=$(function(){J(r.unstable_now())},ht)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(J){J.callback=null},r.unstable_continueExecution=function(){Z||j||(Z=!0,me())},r.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<J?Math.floor(1e3/J):5},r.unstable_getCurrentPriorityLevel=function(){return B},r.unstable_getFirstCallbackNode=function(){return i(_)},r.unstable_next=function(J){switch(B){case 1:case 2:case 3:var ht=3;break;default:ht=B}var lt=B;B=ht;try{return J()}finally{B=lt}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(J,ht){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var lt=B;B=J;try{return ht()}finally{B=lt}},r.unstable_scheduleCallback=function(J,ht,lt){var Bt=r.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Bt+lt:Bt):lt=Bt,J){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=lt+C,J={id:b++,callback:ht,priorityLevel:J,startTime:lt,expirationTime:C,sortIndex:-1},lt>Bt?(J.sortIndex=lt,e(v,J),i(_)===null&&J===i(v)&&(nt?(St(Ut),Ut=-1):nt=!0,oe(Ft,lt-Bt))):(J.sortIndex=C,e(_,J),Z||j||(Z=!0,me())),J},r.unstable_shouldYield=A,r.unstable_wrapCallback=function(J){var ht=B;return function(){var lt=B;B=ht;try{return J.apply(this,arguments)}finally{B=lt}}}}(Sf)),Sf}var Kp;function ZE(){return Kp||(Kp=1,Af.exports=$E()),Af.exports}var bf={exports:{}},qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function JE(){if(Yp)return qe;Yp=1;var r=id();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(_,v,b){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:M==null?null:""+M,children:_,containerInfo:v,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,qe.createPortal=function(_,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,b)},qe.flushSync=function(_){var v=d.T,b=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=v,s.p=b,s.d.f()}},qe.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(_,v))},qe.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},qe.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var b=v.as,M=g(b,v.crossOrigin),B=typeof v.integrity=="string"?v.integrity:void 0,j=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?s.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:M,integrity:B,fetchPriority:j}):b==="script"&&s.d.X(_,{crossOrigin:M,integrity:B,fetchPriority:j,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},qe.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=g(v.as,v.crossOrigin);s.d.M(_,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(_)},qe.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,M=g(b,v.crossOrigin);s.d.L(_,b,{crossOrigin:M,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},qe.preloadModule=function(_,v){if(typeof _=="string")if(v){var b=g(v.as,v.crossOrigin);s.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(_)},qe.requestFormReset=function(_){s.d.r(_)},qe.unstable_batchedUpdates=function(_,v){return _(v)},qe.useFormState=function(_,v,b){return d.H.useFormState(_,v,b)},qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},qe.version="19.0.0",qe}var Xp;function WE(){if(Xp)return bf.exports;Xp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),bf.exports=JE(),bf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function tT(){if($p)return zl;$p=1;var r=ZE(),e=id(),i=WE();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),j=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),St=Symbol.for("react.memo"),dt=Symbol.for("react.lazy"),Et=Symbol.for("react.offscreen"),Ft=Symbol.for("react.memo_cache_sentinel"),yt=Symbol.iterator;function Ut(t){return t===null||typeof t!="object"?null:(t=yt&&t[yt]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function R(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _:return"Fragment";case g:return"Portal";case b:return"Profiler";case v:return"StrictMode";case nt:return"Suspense";case $:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case j:return(t.displayName||"Context")+".Provider";case B:return(t._context.displayName||"Context")+".Consumer";case Z:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case St:return n=t.displayName||null,n!==null?n:R(t.type)||"Memo";case dt:n=t._payload,t=t._init;try{return R(t(n))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,O,L;function w(t){if(O===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);O=n&&n[1]||"",L=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+O+t+L}var me=!1;function oe(t,n){if(!t||me)return"";me=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var P=q}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(q){P=q}t.call(Q.prototype)}}else{try{throw Error()}catch(q){P=q}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&P&&typeof q.stack=="string")return[q.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var S=y.split(`
`),V=E.split(`
`);for(c=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;if(l===S.length||c===V.length)for(l=S.length-1,c=V.length-1;1<=l&&0<=c&&S[l]!==V[c];)c--;for(;1<=l&&0<=c;l--,c--)if(S[l]!==V[c]){if(l!==1||c!==1)do if(l--,c--,0>c||S[l]!==V[c]){var H=`
`+S[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{me=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?w(a):""}function J(t){switch(t.tag){case 26:case 27:case 5:return w(t.type);case 16:return w("Lazy");case 13:return w("Suspense");case 19:return w("SuspenseList");case 0:case 15:return t=oe(t.type,!1),t;case 11:return t=oe(t.type.render,!1),t;case 1:return t=oe(t.type,!0),t;default:return""}}function ht(t){try{var n="";do n+=J(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function lt(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function Bt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function C(t){if(lt(t)!==t)throw Error(s(188))}function Y(t){var n=t.alternate;if(!n){if(n=lt(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return C(c),t;if(f===l)return C(c),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===a){y=!0,a=c,l=f;break}if(E===l){y=!0,l=c,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,l=c;break}if(E===l){y=!0,l=f,a=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function rt(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=rt(t),n!==null)return n;t=t.sibling}return null}var W=Array.isArray,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Tt={pending:!1,data:null,method:null,action:null},_t=[],ue=-1;function xt(t){return{current:t}}function te(t){0>ue||(t.current=_t[ue],_t[ue]=null,ue--)}function Ht(t,n){ue++,_t[ue]=t.current,t.current=n}var Fe=xt(null),ri=xt(null),hn=xt(null),Pi=xt(null);function Bi(t,n){switch(Ht(hn,n),Ht(ri,t),Ht(Fe,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?yp(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=yp(t),n=_p(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}te(Fe),Ht(Fe,n)}function si(){te(Fe),te(ri),te(hn)}function Os(t){t.memoizedState!==null&&Ht(Pi,t);var n=Fe.current,a=_p(n,t.type);n!==a&&(Ht(ri,t),Ht(Fe,a))}function Rr(t){ri.current===t&&(te(Fe),te(ri)),Pi.current===t&&(te(Pi),Ol._currentValue=Tt)}var wr=Object.prototype.hasOwnProperty,xa=r.unstable_scheduleCallback,Dr=r.unstable_cancelCallback,Ec=r.unstable_shouldYield,Ms=r.unstable_requestPaint,Ze=r.unstable_now,ao=r.unstable_getCurrentPriorityLevel,ge=r.unstable_ImmediatePriority,be=r.unstable_UserBlockingPriority,li=r.unstable_NormalPriority,ro=r.unstable_LowPriority,Ns=r.unstable_IdlePriority,Tc=r.log,La=r.unstable_setDisableYieldValue,ki=null,Be=null;function Us(t){if(Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(ki,t,void 0,(t.current.flags&128)===128)}catch{}}function zn(t){if(typeof Tc=="function"&&La(t),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(ki,t)}catch{}}var Qe=Math.clz32?Math.clz32:lo,xs=Math.log,so=Math.LN2;function lo(t){return t>>>=0,t===0?32:31-(xs(t)/so|0)|0}var Pn=128,qi=4194304;function In(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fn(t,n){var a=t.pendingLanes;if(a===0)return 0;var l=0,c=t.suspendedLanes,f=t.pingedLanes,y=t.warmLanes;t=t.finishedLanes!==0;var E=a&134217727;return E!==0?(a=E&~c,a!==0?l=In(a):(f&=E,f!==0?l=In(f):t||(y=E&~y,y!==0&&(l=In(y))))):(E=a&~c,E!==0?l=In(E):f!==0?l=In(f):t||(y=a&~y,y!==0&&(l=In(y)))),l===0?0:n!==0&&n!==l&&!(n&c)&&(c=l&-l,y=n&-n,c>=y||c===32&&(y&4194176)!==0)?n:l}function Hi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Cr(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ls(){var t=Pn;return Pn<<=1,!(Pn&4194176)&&(Pn=128),t}function ji(){var t=qi;return qi<<=1,!(qi&62914560)&&(qi=4194304),t}function Ir(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function re(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function oo(t,n,a,l,c,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,S=t.expirationTimes,V=t.hiddenUpdates;for(a=y&~a;0<a;){var H=31-Qe(a),Q=1<<H;E[H]=0,S[H]=-1;var P=V[H];if(P!==null)for(V[H]=null,H=0;H<P.length;H++){var q=P[H];q!==null&&(q.lane&=-536870913)}a&=~Q}l!==0&&Gi(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Gi(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Qe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function Fi(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Qe(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function uo(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function co(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:Lp(t.type))}function Qi(t,n){var a=tt.p;try{return tt.p=t,n()}finally{tt.p=a}}var Bn=Math.random().toString(36).slice(2),Re="__reactFiber$"+Bn,pe="__reactProps$"+Bn,oi="__reactContainer$"+Bn,za="__reactEvents$"+Bn,Vr="__reactListeners$"+Bn,kn="__reactHandles$"+Bn,zs="__reactResources$"+Bn,Ki="__reactMarker$"+Bn;function Pa(t){delete t[Re],delete t[pe],delete t[za],delete t[Vr],delete t[kn]}function Vn(t){var n=t[Re];if(n)return n;for(var a=t.parentNode;a;){if(n=a[oi]||a[Re]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Tp(t);t!==null;){if(a=t[Re])return a;t=Tp(t)}return n}t=a,a=t.parentNode}return null}function ui(t){if(t=t[Re]||t[oi]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Yi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Xi(t){var n=t[zs];return n||(n=t[zs]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function $t(t){t[Ki]=!0}var Ps=new Set,Or={};function nn(t,n){Je(t,n),Je(t+"Capture",n)}function Je(t,n){for(Or[t]=n,t=0;t<n.length;t++)Ps.add(n[t])}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ac=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bs={},ks={};function ho(t){return wr.call(ks,t)?!0:wr.call(Bs,t)?!1:Ac.test(t)?ks[t]=!0:(Bs[t]=!0,!1)}function $i(t,n,a){if(ho(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Zi(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function dn(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fo(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Sc(t){var n=fo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ba(t){t._valueTracker||(t._valueTracker=Sc(t))}function qs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=fo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Mr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ci=/[\n"\\]/g;function ee(t){return t.replace(ci,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ji(t,n,a,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Nr(t,y,Ke(n)):a!=null?Nr(t,y,Ke(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ke(E):t.removeAttribute("name")}function ka(t,n,a,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+Ke(a):"",n=n!=null?""+Ke(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Nr(t,n,a){n==="number"&&Mr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Lt(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ke(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function qa(t,n,a){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ke(a):""}function Wi(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(W(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ke(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function mn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var bc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hs(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||bc.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function mo(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Hs(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Hs(t,f,n[f])}function js(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qn(t){return wc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var gn=null;function Ur(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hi=null,fi=null;function di(t){var n=ui(t);if(n&&(t=n.stateNode)){var a=t[pe]||null;t:switch(t=n.stateNode,n.type){case"input":if(Ji(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ee(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[pe]||null;if(!c)throw Error(s(90));Ji(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&qs(l)}break t;case"textarea":qa(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Lt(t,!!a.multiple,n,!1)}}}var Gs=!1;function go(t,n,a){if(Gs)return t(n,a);Gs=!0;try{var l=t(n);return l}finally{if(Gs=!1,(hi!==null||fi!==null)&&(su(),hi&&(n=hi,t=fi,fi=hi=null,di(n),t)))for(n=0;n<t.length;n++)di(t[n])}}function Ha(t,n){var a=t.stateNode;if(a===null)return null;var l=a[pe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var pn=!1;if(an)try{var ja={};Object.defineProperty(ja,"passive",{get:function(){pn=!0}}),window.addEventListener("test",ja,ja),window.removeEventListener("test",ja,ja)}catch{pn=!1}var Hn=null,ta=null,mi=null;function Fs(){if(mi)return mi;var t,n=ta,a=n.length,l,c="value"in Hn?Hn.value:Hn.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===c[f-l];l++);return mi=c.slice(t,1<l?1-l:void 0)}function jn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gn(){return!0}function Qs(){return!1}function we(t){function n(a,l,c,f,y){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gn:Qs,this.isPropagationStopped=Qs,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),n}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xr=we(kt),Ga=D({},kt,{view:0,detail:0}),po=we(Ga),Lr,zr,Fn,Fa=D({},Ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ya,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fn&&(Fn&&t.type==="mousemove"?(Lr=t.screenX-Fn.screenX,zr=t.screenY-Fn.screenY):zr=Lr=0,Fn=t),Lr)},movementY:function(t){return"movementY"in t?t.movementY:zr}}),yn=we(Fa),yo=D({},Fa,{dataTransfer:0}),Dc=we(yo),Qa=D({},Ga,{relatedTarget:0}),Pr=we(Qa),Ks=D({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),Br=we(Ks),_o=D({},kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kr=we(_o),Cc=D({},kt,{data:0}),Ys=we(Cc),Ka={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Eo[t])?!!n[t]:!1}function Ya(){return Xs}var To=D({},Ga,{key:function(t){if(t.key){var n=Ka[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=jn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ya,charCode:function(t){return t.type==="keypress"?jn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qr=we(To),Ao=D({},Fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$s=we(Ao),gi=D({},Ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ya}),So=we(gi),bo=D({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ro=we(bo),wo=D({},Fa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Hr=we(wo),Ye=D({},kt,{newState:0,oldState:0}),Do=we(Ye),Co=[9,13,27,32],Qn=an&&"CompositionEvent"in window,u=null;an&&"documentMode"in document&&(u=document.documentMode);var m=an&&"TextEvent"in window&&!u,p=an&&(!Qn||u&&8<u&&11>=u),T=" ",x=!1;function k(t,n){switch(t){case"keyup":return Co.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var It=!1;function ye(t,n){switch(t){case"compositionend":return X(n);case"keypress":return n.which!==32?null:(x=!0,T);case"textInput":return t=n.data,t===T&&x?null:t;default:return null}}function Vt(t,n){if(It)return t==="compositionend"||!Qn&&k(t,n)?(t=Fs(),mi=ta=Hn=null,It=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _e(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!De[t.type]:n==="textarea"}function pi(t,n,a,l){hi?fi?fi.push(l):fi=[l]:hi=l,n=hu(n,"onChange"),0<n.length&&(a=new xr("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Me=null,Kn=null;function Zs(t){fp(t,0)}function Io(t){var n=Yi(t);if(qs(n))return t}function qd(t,n){if(t==="change")return n}var Hd=!1;if(an){var Ic;if(an){var Vc="oninput"in document;if(!Vc){var jd=document.createElement("div");jd.setAttribute("oninput","return;"),Vc=typeof jd.oninput=="function"}Ic=Vc}else Ic=!1;Hd=Ic&&(!document.documentMode||9<document.documentMode)}function Gd(){Me&&(Me.detachEvent("onpropertychange",Fd),Kn=Me=null)}function Fd(t){if(t.propertyName==="value"&&Io(Kn)){var n=[];pi(n,Kn,t,Ur(t)),go(Zs,n)}}function S0(t,n,a){t==="focusin"?(Gd(),Me=n,Kn=a,Me.attachEvent("onpropertychange",Fd)):t==="focusout"&&Gd()}function b0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Io(Kn)}function R0(t,n){if(t==="click")return Io(n)}function w0(t,n){if(t==="input"||t==="change")return Io(n)}function D0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var rn=typeof Object.is=="function"?Object.is:D0;function Js(t,n){if(rn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!wr.call(n,c)||!rn(t[c],n[c]))return!1}return!0}function Qd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kd(t,n){var a=Qd(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Qd(a)}}function Yd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Yd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Xd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Mr(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Mr(t.document)}return n}function Oc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function C0(t,n){var a=Xd(n);n=t.focusedElem;var l=t.selectionRange;if(a!==n&&n&&n.ownerDocument&&Yd(n.ownerDocument.documentElement,n)){if(l!==null&&Oc(n)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(a,n.value.length);else if(a=(t=n.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var c=n.textContent.length,f=Math.min(l.start,c);l=l.end===void 0?f:Math.min(l.end,c),!a.extend&&f>l&&(c=l,l=f,f=c),c=Kd(n,f);var y=Kd(n,l);c&&y&&(a.rangeCount!==1||a.anchorNode!==c.node||a.anchorOffset!==c.offset||a.focusNode!==y.node||a.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),a.removeAllRanges(),f>l?(a.addRange(t),a.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),a.addRange(t)))}}for(t=[],a=n;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)a=t[n],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var I0=an&&"documentMode"in document&&11>=document.documentMode,jr=null,Mc=null,Ws=null,Nc=!1;function $d(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Nc||jr==null||jr!==Mr(l)||(l=jr,"selectionStart"in l&&Oc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ws&&Js(Ws,l)||(Ws=l,l=hu(Mc,"onSelect"),0<l.length&&(n=new xr("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=jr)))}function Xa(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Gr={animationend:Xa("Animation","AnimationEnd"),animationiteration:Xa("Animation","AnimationIteration"),animationstart:Xa("Animation","AnimationStart"),transitionrun:Xa("Transition","TransitionRun"),transitionstart:Xa("Transition","TransitionStart"),transitioncancel:Xa("Transition","TransitionCancel"),transitionend:Xa("Transition","TransitionEnd")},Uc={},Zd={};an&&(Zd=document.createElement("div").style,"AnimationEvent"in window||(delete Gr.animationend.animation,delete Gr.animationiteration.animation,delete Gr.animationstart.animation),"TransitionEvent"in window||delete Gr.transitionend.transition);function $a(t){if(Uc[t])return Uc[t];if(!Gr[t])return t;var n=Gr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Zd)return Uc[t]=n[a];return t}var Jd=$a("animationend"),Wd=$a("animationiteration"),tm=$a("animationstart"),V0=$a("transitionrun"),O0=$a("transitionstart"),M0=$a("transitioncancel"),em=$a("transitionend"),nm=new Map,im="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function On(t,n){nm.set(t,n),nn(n,[t])}var _n=[],Fr=0,xc=0;function Vo(){for(var t=Fr,n=xc=Fr=0;n<t;){var a=_n[n];_n[n++]=null;var l=_n[n];_n[n++]=null;var c=_n[n];_n[n++]=null;var f=_n[n];if(_n[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&am(a,c,f)}}function Oo(t,n,a,l){_n[Fr++]=t,_n[Fr++]=n,_n[Fr++]=a,_n[Fr++]=l,xc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Lc(t,n,a,l){return Oo(t,n,a,l),Mo(t)}function ea(t,n){return Oo(t,null,null,n),Mo(t)}function am(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;c&&n!==null&&t.tag===3&&(f=t.stateNode,c=31-Qe(a),f=f.hiddenUpdates,t=f[c],t===null?f[c]=[n]:t.push(n),n.lane=a|536870912)}function Mo(t){if(50<bl)throw bl=0,Hh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Qr={},rm=new WeakMap;function vn(t,n){if(typeof t=="object"&&t!==null){var a=rm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:ht(n)},rm.set(t,n),n)}return{value:t,source:n,stack:ht(n)}}var Kr=[],Yr=0,No=null,Uo=0,En=[],Tn=0,Za=null,yi=1,_i="";function Ja(t,n){Kr[Yr++]=Uo,Kr[Yr++]=No,No=t,Uo=n}function sm(t,n,a){En[Tn++]=yi,En[Tn++]=_i,En[Tn++]=Za,Za=t;var l=yi;t=_i;var c=32-Qe(l)-1;l&=~(1<<c),a+=1;var f=32-Qe(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,yi=1<<32-Qe(n)+c|a<<c|l,_i=f+t}else yi=1<<f|a<<c|l,_i=t}function zc(t){t.return!==null&&(Ja(t,1),sm(t,1,0))}function Pc(t){for(;t===No;)No=Kr[--Yr],Kr[Yr]=null,Uo=Kr[--Yr],Kr[Yr]=null;for(;t===Za;)Za=En[--Tn],En[Tn]=null,_i=En[--Tn],En[Tn]=null,yi=En[--Tn],En[Tn]=null}var Xe=null,Ne=null,zt=!1,Mn=null,Yn=!1,Bc=Error(s(519));function Wa(t){var n=Error(s(418,""));throw nl(vn(n,t)),Bc}function lm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Re]=t,n[pe]=l,a){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(a=0;a<wl.length;a++)Dt(wl[a],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),ka(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ba(n);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),Wi(n,l.value,l.defaultValue,l.children),Ba(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||pp(n.textContent,a)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=fu),n=!0):n=!1,n||Wa(t)}function om(t){for(Xe=t.return;Xe;)switch(Xe.tag){case 3:case 27:Yn=!0;return;case 5:case 13:Yn=!1;return;default:Xe=Xe.return}}function tl(t){if(t!==Xe)return!1;if(!zt)return om(t),zt=!0,!1;var n=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||sf(t.type,t.memoizedProps)),a=!a),a&&(n=!0),n&&Ne&&Wa(t),om(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){Ne=Un(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}Ne=null}}else Ne=Xe?Un(t.stateNode.nextSibling):null;return!0}function el(){Ne=Xe=null,zt=!1}function nl(t){Mn===null?Mn=[t]:Mn.push(t)}var il=Error(s(460)),um=Error(s(474)),kc={then:function(){}};function cm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xo(){}function hm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(xo,xo),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===il?Error(s(483)):t;default:if(typeof n.status=="string")n.then(xo,xo);else{if(t=Kt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===il?Error(s(483)):t}throw al=n,il}}var al=null;function fm(){if(al===null)throw Error(s(459));var t=al;return al=null,t}var Xr=null,rl=0;function Lo(t){var n=rl;return rl+=1,Xr===null&&(Xr=[]),hm(Xr,t,n)}function sl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function zo(t,n){throw n.$$typeof===h?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function dm(t){var n=t._init;return n(t._payload)}function mm(t){function n(U,I){if(t){var z=U.deletions;z===null?(U.deletions=[I],U.flags|=16):z.push(I)}}function a(U,I){if(!t)return null;for(;I!==null;)n(U,I),I=I.sibling;return null}function l(U){for(var I=new Map;U!==null;)U.key!==null?I.set(U.key,U):I.set(U.index,U),U=U.sibling;return I}function c(U,I){return U=da(U,I),U.index=0,U.sibling=null,U}function f(U,I,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<I?(U.flags|=33554434,I):z):(U.flags|=33554434,I)):(U.flags|=1048576,I)}function y(U){return t&&U.alternate===null&&(U.flags|=33554434),U}function E(U,I,z,G){return I===null||I.tag!==6?(I=Uh(z,U.mode,G),I.return=U,I):(I=c(I,z),I.return=U,I)}function S(U,I,z,G){var it=z.type;return it===_?H(U,I,z.props.children,G,z.key):I!==null&&(I.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===dt&&dm(it)===I.type)?(I=c(I,z.props),sl(I,z),I.return=U,I):(I=eu(z.type,z.key,z.props,null,U.mode,G),sl(I,z),I.return=U,I)}function V(U,I,z,G){return I===null||I.tag!==4||I.stateNode.containerInfo!==z.containerInfo||I.stateNode.implementation!==z.implementation?(I=xh(z,U.mode,G),I.return=U,I):(I=c(I,z.children||[]),I.return=U,I)}function H(U,I,z,G,it){return I===null||I.tag!==7?(I=ur(z,U.mode,G,it),I.return=U,I):(I=c(I,z),I.return=U,I)}function Q(U,I,z){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Uh(""+I,U.mode,z),I.return=U,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case d:return z=eu(I.type,I.key,I.props,null,U.mode,z),sl(z,I),z.return=U,z;case g:return I=xh(I,U.mode,z),I.return=U,I;case dt:var G=I._init;return I=G(I._payload),Q(U,I,z)}if(W(I)||Ut(I))return I=ur(I,U.mode,z,null),I.return=U,I;if(typeof I.then=="function")return Q(U,Lo(I),z);if(I.$$typeof===j)return Q(U,Jo(U,I),z);zo(U,I)}return null}function P(U,I,z,G){var it=I!==null?I.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return it!==null?null:E(U,I,""+z,G);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case d:return z.key===it?S(U,I,z,G):null;case g:return z.key===it?V(U,I,z,G):null;case dt:return it=z._init,z=it(z._payload),P(U,I,z,G)}if(W(z)||Ut(z))return it!==null?null:H(U,I,z,G,null);if(typeof z.then=="function")return P(U,I,Lo(z),G);if(z.$$typeof===j)return P(U,I,Jo(U,z),G);zo(U,z)}return null}function q(U,I,z,G,it){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return U=U.get(z)||null,E(I,U,""+G,it);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case d:return U=U.get(G.key===null?z:G.key)||null,S(I,U,G,it);case g:return U=U.get(G.key===null?z:G.key)||null,V(I,U,G,it);case dt:var bt=G._init;return G=bt(G._payload),q(U,I,z,G,it)}if(W(G)||Ut(G))return U=U.get(z)||null,H(I,U,G,it,null);if(typeof G.then=="function")return q(U,I,z,Lo(G),it);if(G.$$typeof===j)return q(U,I,z,Jo(I,G),it);zo(I,G)}return null}function at(U,I,z,G){for(var it=null,bt=null,st=I,ct=I=0,Ve=null;st!==null&&ct<z.length;ct++){st.index>ct?(Ve=st,st=null):Ve=st.sibling;var Pt=P(U,st,z[ct],G);if(Pt===null){st===null&&(st=Ve);break}t&&st&&Pt.alternate===null&&n(U,st),I=f(Pt,I,ct),bt===null?it=Pt:bt.sibling=Pt,bt=Pt,st=Ve}if(ct===z.length)return a(U,st),zt&&Ja(U,ct),it;if(st===null){for(;ct<z.length;ct++)st=Q(U,z[ct],G),st!==null&&(I=f(st,I,ct),bt===null?it=st:bt.sibling=st,bt=st);return zt&&Ja(U,ct),it}for(st=l(st);ct<z.length;ct++)Ve=q(st,U,ct,z[ct],G),Ve!==null&&(t&&Ve.alternate!==null&&st.delete(Ve.key===null?ct:Ve.key),I=f(Ve,I,ct),bt===null?it=Ve:bt.sibling=Ve,bt=Ve);return t&&st.forEach(function(Ea){return n(U,Ea)}),zt&&Ja(U,ct),it}function gt(U,I,z,G){if(z==null)throw Error(s(151));for(var it=null,bt=null,st=I,ct=I=0,Ve=null,Pt=z.next();st!==null&&!Pt.done;ct++,Pt=z.next()){st.index>ct?(Ve=st,st=null):Ve=st.sibling;var Ea=P(U,st,Pt.value,G);if(Ea===null){st===null&&(st=Ve);break}t&&st&&Ea.alternate===null&&n(U,st),I=f(Ea,I,ct),bt===null?it=Ea:bt.sibling=Ea,bt=Ea,st=Ve}if(Pt.done)return a(U,st),zt&&Ja(U,ct),it;if(st===null){for(;!Pt.done;ct++,Pt=z.next())Pt=Q(U,Pt.value,G),Pt!==null&&(I=f(Pt,I,ct),bt===null?it=Pt:bt.sibling=Pt,bt=Pt);return zt&&Ja(U,ct),it}for(st=l(st);!Pt.done;ct++,Pt=z.next())Pt=q(st,U,ct,Pt.value,G),Pt!==null&&(t&&Pt.alternate!==null&&st.delete(Pt.key===null?ct:Pt.key),I=f(Pt,I,ct),bt===null?it=Pt:bt.sibling=Pt,bt=Pt);return t&&st.forEach(function(QE){return n(U,QE)}),zt&&Ja(U,ct),it}function ae(U,I,z,G){if(typeof z=="object"&&z!==null&&z.type===_&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case d:t:{for(var it=z.key;I!==null;){if(I.key===it){if(it=z.type,it===_){if(I.tag===7){a(U,I.sibling),G=c(I,z.props.children),G.return=U,U=G;break t}}else if(I.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===dt&&dm(it)===I.type){a(U,I.sibling),G=c(I,z.props),sl(G,z),G.return=U,U=G;break t}a(U,I);break}else n(U,I);I=I.sibling}z.type===_?(G=ur(z.props.children,U.mode,G,z.key),G.return=U,U=G):(G=eu(z.type,z.key,z.props,null,U.mode,G),sl(G,z),G.return=U,U=G)}return y(U);case g:t:{for(it=z.key;I!==null;){if(I.key===it)if(I.tag===4&&I.stateNode.containerInfo===z.containerInfo&&I.stateNode.implementation===z.implementation){a(U,I.sibling),G=c(I,z.children||[]),G.return=U,U=G;break t}else{a(U,I);break}else n(U,I);I=I.sibling}G=xh(z,U.mode,G),G.return=U,U=G}return y(U);case dt:return it=z._init,z=it(z._payload),ae(U,I,z,G)}if(W(z))return at(U,I,z,G);if(Ut(z)){if(it=Ut(z),typeof it!="function")throw Error(s(150));return z=it.call(z),gt(U,I,z,G)}if(typeof z.then=="function")return ae(U,I,Lo(z),G);if(z.$$typeof===j)return ae(U,I,Jo(U,z),G);zo(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,I!==null&&I.tag===6?(a(U,I.sibling),G=c(I,z),G.return=U,U=G):(a(U,I),G=Uh(z,U.mode,G),G.return=U,U=G),y(U)):a(U,I)}return function(U,I,z,G){try{rl=0;var it=ae(U,I,z,G);return Xr=null,it}catch(st){if(st===il)throw st;var bt=Rn(29,st,null,U.mode);return bt.lanes=G,bt.return=U,bt}finally{}}}var tr=mm(!0),gm=mm(!1),$r=xt(null),Po=xt(0);function pm(t,n){t=Ii,Ht(Po,t),Ht($r,n),Ii=t|n.baseLanes}function qc(){Ht(Po,Ii),Ht($r,$r.current)}function Hc(){Ii=Po.current,te($r),te(Po)}var An=xt(null),Xn=null;function na(t){var n=t.alternate;Ht(ve,ve.current&1),Ht(An,t),Xn===null&&(n===null||$r.current!==null||n.memoizedState!==null)&&(Xn=t)}function ym(t){if(t.tag===22){if(Ht(ve,ve.current),Ht(An,t),Xn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Xn=t)}}else ia()}function ia(){Ht(ve,ve.current),Ht(An,An.current)}function vi(t){te(An),Xn===t&&(Xn=null),te(ve)}var ve=xt(0);function Bo(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var N0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},U0=r.unstable_scheduleCallback,x0=r.unstable_NormalPriority,Ee={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jc(){return{controller:new N0,data:new Map,refCount:0}}function ll(t){t.refCount--,t.refCount===0&&U0(x0,function(){t.controller.abort()})}var ol=null,Gc=0,Zr=0,Jr=null;function L0(t,n){if(ol===null){var a=ol=[];Gc=0,Zr=$h(),Jr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Gc++,n.then(_m,_m),n}function _m(){if(--Gc===0&&ol!==null){Jr!==null&&(Jr.status="fulfilled");var t=ol;ol=null,Zr=0,Jr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function z0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var vm=A.S;A.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&L0(t,n),vm!==null&&vm(t,n)};var er=xt(null);function Fc(){var t=er.current;return t!==null?t:Kt.pooledCache}function ko(t,n){n===null?Ht(er,er.current):Ht(er,n.pool)}function Em(){var t=Fc();return t===null?null:{parent:Ee._currentValue,pool:t}}var aa=0,At=null,jt=null,ce=null,qo=!1,Wr=!1,nr=!1,Ho=0,ul=0,ts=null,P0=0;function se(){throw Error(s(321))}function Qc(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!rn(t[a],n[a]))return!1;return!0}function Kc(t,n,a,l,c,f){return aa=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,A.H=t===null||t.memoizedState===null?ir:ra,nr=!1,f=a(l,c),nr=!1,Wr&&(f=Am(n,a,l,c)),Tm(t),f}function Tm(t){A.H=$n;var n=jt!==null&&jt.next!==null;if(aa=0,ce=jt=At=null,qo=!1,ul=0,ts=null,n)throw Error(s(300));t===null||Ce||(t=t.dependencies,t!==null&&Zo(t)&&(Ce=!0))}function Am(t,n,a,l){At=t;var c=0;do{if(Wr&&(ts=null),ul=0,Wr=!1,25<=c)throw Error(s(301));if(c+=1,ce=jt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}A.H=ar,f=n(a,l)}while(Wr);return f}function B0(){var t=A.H,n=t.useState()[0];return n=typeof n.then=="function"?cl(n):n,t=t.useState()[0],(jt!==null?jt.memoizedState:null)!==t&&(At.flags|=1024),n}function Yc(){var t=Ho!==0;return Ho=0,t}function Xc(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function $c(t){if(qo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}qo=!1}aa=0,ce=jt=At=null,Wr=!1,ul=Ho=0,ts=null}function We(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ce===null?At.memoizedState=ce=t:ce=ce.next=t,ce}function he(){if(jt===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=jt.next;var n=ce===null?At.memoizedState:ce.next;if(n!==null)ce=n,jt=t;else{if(t===null)throw At.alternate===null?Error(s(467)):Error(s(310));jt=t,t={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},ce===null?At.memoizedState=ce=t:ce=ce.next=t}return ce}var jo;jo=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function cl(t){var n=ul;return ul+=1,ts===null&&(ts=[]),t=hm(ts,t,n),n=At,(ce===null?n.memoizedState:ce.next)===null&&(n=n.alternate,A.H=n===null||n.memoizedState===null?ir:ra),t}function Go(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===j)return ke(t)}throw Error(s(438,String(t)))}function Zc(t){var n=null,a=At.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=jo(),At.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=Ft;return n.index++,a}function Ei(t,n){return typeof n=="function"?n(t):n}function Fo(t){var n=he();return Jc(n,jt,t)}function Jc(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,S=null,V=n,H=!1;do{var Q=V.lane&-536870913;if(Q!==V.lane?(Ot&Q)===Q:(aa&Q)===Q){var P=V.revertLane;if(P===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),Q===Zr&&(H=!0);else if((aa&P)===P){V=V.next,P===Zr&&(H=!0);continue}else Q={lane:0,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},S===null?(E=S=Q,y=f):S=S.next=Q,At.lanes|=P,ma|=P;Q=V.action,nr&&a(f,Q),f=V.hasEagerState?V.eagerState:a(f,Q)}else P={lane:Q,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},S===null?(E=S=P,y=f):S=S.next=P,At.lanes|=Q,ma|=Q;V=V.next}while(V!==null&&V!==n);if(S===null?y=f:S.next=E,!rn(f,t.memoizedState)&&(Ce=!0,H&&(a=Jr,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=S,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Wc(t){var n=he(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);rn(f,n.memoizedState)||(Ce=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Sm(t,n,a){var l=At,c=he(),f=zt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var y=!rn((jt||c).memoizedState,a);if(y&&(c.memoizedState=a,Ce=!0),c=c.queue,nh(wm.bind(null,l,c,t),[t]),c.getSnapshot!==n||y||ce!==null&&ce.memoizedState.tag&1){if(l.flags|=2048,es(9,Rm.bind(null,l,c,a,n),{destroy:void 0},null),Kt===null)throw Error(s(349));f||aa&60||bm(l,n,a)}return a}function bm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=At.updateQueue,n===null?(n=jo(),At.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Rm(t,n,a,l){n.value=a,n.getSnapshot=l,Dm(n)&&Cm(t)}function wm(t,n,a){return a(function(){Dm(n)&&Cm(t)})}function Dm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!rn(t,a)}catch{return!0}}function Cm(t){var n=ea(t,2);n!==null&&$e(n,t,2)}function th(t){var n=We();if(typeof t=="function"){var a=t;if(t=a(),nr){zn(!0);try{a()}finally{zn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:t},n}function Im(t,n,a,l){return t.baseState=a,Jc(t,jt,typeof l=="function"?l:Ei)}function k0(t,n,a,l,c){if(Yo(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};A.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Vm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Vm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=A.T,y={};A.T=y;try{var E=a(c,l),S=A.S;S!==null&&S(y,E),Om(t,n,E)}catch(V){eh(t,n,V)}finally{A.T=f}}else try{f=a(c,l),Om(t,n,f)}catch(V){eh(t,n,V)}}function Om(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Mm(t,n,l)},function(l){return eh(t,n,l)}):Mm(t,n,a)}function Mm(t,n,a){n.status="fulfilled",n.value=a,Nm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Vm(t,a)))}function eh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Nm(n),n=n.next;while(n!==l)}t.action=null}function Nm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Um(t,n){return n}function xm(t,n){if(zt){var a=Kt.formState;if(a!==null){t:{var l=At;if(zt){if(Ne){e:{for(var c=Ne,f=Yn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Un(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Ne=Un(c.nextSibling),l=c.data==="F!";break t}}Wa(l)}l=!1}l&&(n=a[0])}}return a=We(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Um,lastRenderedState:n},a.queue=l,a=Wm.bind(null,At,l),l.dispatch=a,l=th(!1),f=lh.bind(null,At,!1,l.queue),l=We(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=k0.bind(null,At,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Lm(t){var n=he();return zm(n,jt,t)}function zm(t,n,a){n=Jc(t,n,Um)[0],t=Fo(Ei)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?cl(n):n;var l=he(),c=l.queue,f=c.dispatch;return a!==l.memoizedState&&(At.flags|=2048,es(9,q0.bind(null,c,a),{destroy:void 0},null)),[n,f,t]}function q0(t,n){t.action=n}function Pm(t){var n=he(),a=jt;if(a!==null)return zm(n,a,t);he(),n=n.memoizedState,a=he();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function es(t,n,a,l){return t={tag:t,create:n,inst:a,deps:l,next:null},n=At.updateQueue,n===null&&(n=jo(),At.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Bm(){return he().memoizedState}function Qo(t,n,a,l){var c=We();At.flags|=t,c.memoizedState=es(1|n,a,{destroy:void 0},l===void 0?null:l)}function Ko(t,n,a,l){var c=he();l=l===void 0?null:l;var f=c.memoizedState.inst;jt!==null&&l!==null&&Qc(l,jt.memoizedState.deps)?c.memoizedState=es(n,a,f,l):(At.flags|=t,c.memoizedState=es(1|n,a,f,l))}function km(t,n){Qo(8390656,8,t,n)}function nh(t,n){Ko(2048,8,t,n)}function qm(t,n){return Ko(4,2,t,n)}function Hm(t,n){return Ko(4,4,t,n)}function jm(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Gm(t,n,a){a=a!=null?a.concat([t]):null,Ko(4,4,jm.bind(null,n,t),a)}function ih(){}function Fm(t,n){var a=he();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Qc(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Qm(t,n){var a=he();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Qc(n,l[1]))return l[0];if(l=t(),nr){zn(!0);try{t()}finally{zn(!1)}}return a.memoizedState=[l,n],l}function ah(t,n,a){return a===void 0||aa&1073741824?t.memoizedState=n:(t.memoizedState=a,t=Yg(),At.lanes|=t,ma|=t,a)}function Km(t,n,a,l){return rn(a,n)?a:$r.current!==null?(t=ah(t,a,l),rn(t,n)||(Ce=!0),t):aa&42?(t=Yg(),At.lanes|=t,ma|=t,n):(Ce=!0,t.memoizedState=a)}function Ym(t,n,a,l,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var y=A.T,E={};A.T=E,lh(t,!1,n,a);try{var S=c(),V=A.S;if(V!==null&&V(E,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var H=z0(S,l);hl(t,n,H,un(t))}else hl(t,n,l,un(t))}catch(Q){hl(t,n,{then:function(){},status:"rejected",reason:Q},un())}finally{tt.p=f,A.T=y}}function H0(){}function rh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=Xm(t).queue;Ym(t,c,n,Tt,a===null?H0:function(){return $m(t),a(l)})}function Xm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Tt,baseState:Tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:Tt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function $m(t){var n=Xm(t).next.queue;hl(t,n,{},un())}function sh(){return ke(Ol)}function Zm(){return he().memoizedState}function Jm(){return he().memoizedState}function j0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=un();t=oa(a);var l=ua(n,t,a);l!==null&&($e(l,n,a),ml(l,n,a)),n={cache:jc()},t.payload=n;return}n=n.return}}function G0(t,n,a){var l=un();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Yo(t)?tg(n,a):(a=Lc(t,n,a,l),a!==null&&($e(a,t,l),eg(a,n,l)))}function Wm(t,n,a){var l=un();hl(t,n,a,l)}function hl(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Yo(t))tg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(c.hasEagerState=!0,c.eagerState=E,rn(E,y))return Oo(t,n,c,0),Kt===null&&Vo(),!1}catch{}finally{}if(a=Lc(t,n,c,l),a!==null)return $e(a,t,l),eg(a,n,l),!0}return!1}function lh(t,n,a,l){if(l={lane:2,revertLane:$h(),action:l,hasEagerState:!1,eagerState:null,next:null},Yo(t)){if(n)throw Error(s(479))}else n=Lc(t,a,l,2),n!==null&&$e(n,t,2)}function Yo(t){var n=t.alternate;return t===At||n!==null&&n===At}function tg(t,n){Wr=qo=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function eg(t,n,a){if(a&4194176){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Fi(t,a)}}var $n={readContext:ke,use:Go,useCallback:se,useContext:se,useEffect:se,useImperativeHandle:se,useLayoutEffect:se,useInsertionEffect:se,useMemo:se,useReducer:se,useRef:se,useState:se,useDebugValue:se,useDeferredValue:se,useTransition:se,useSyncExternalStore:se,useId:se};$n.useCacheRefresh=se,$n.useMemoCache=se,$n.useHostTransitionStatus=se,$n.useFormState=se,$n.useActionState=se,$n.useOptimistic=se;var ir={readContext:ke,use:Go,useCallback:function(t,n){return We().memoizedState=[t,n===void 0?null:n],t},useContext:ke,useEffect:km,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Qo(4194308,4,jm.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Qo(4194308,4,t,n)},useInsertionEffect:function(t,n){Qo(4,2,t,n)},useMemo:function(t,n){var a=We();n=n===void 0?null:n;var l=t();if(nr){zn(!0);try{t()}finally{zn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=We();if(a!==void 0){var c=a(n);if(nr){zn(!0);try{a(n)}finally{zn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=G0.bind(null,At,t),[l.memoizedState,t]},useRef:function(t){var n=We();return t={current:t},n.memoizedState=t},useState:function(t){t=th(t);var n=t.queue,a=Wm.bind(null,At,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:ih,useDeferredValue:function(t,n){var a=We();return ah(a,t,n)},useTransition:function(){var t=th(!1);return t=Ym.bind(null,At,t.queue,!0,!1),We().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=At,c=We();if(zt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Kt===null)throw Error(s(349));Ot&60||bm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,km(wm.bind(null,l,f,t),[t]),l.flags|=2048,es(9,Rm.bind(null,l,f,a,n),{destroy:void 0},null),a},useId:function(){var t=We(),n=Kt.identifierPrefix;if(zt){var a=_i,l=yi;a=(l&~(1<<32-Qe(l)-1)).toString(32)+a,n=":"+n+"R"+a,a=Ho++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=P0++,n=":"+n+"r"+a.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return We().memoizedState=j0.bind(null,At)}};ir.useMemoCache=Zc,ir.useHostTransitionStatus=sh,ir.useFormState=xm,ir.useActionState=xm,ir.useOptimistic=function(t){var n=We();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=lh.bind(null,At,!0,a),a.dispatch=n,[t,n]};var ra={readContext:ke,use:Go,useCallback:Fm,useContext:ke,useEffect:nh,useImperativeHandle:Gm,useInsertionEffect:qm,useLayoutEffect:Hm,useMemo:Qm,useReducer:Fo,useRef:Bm,useState:function(){return Fo(Ei)},useDebugValue:ih,useDeferredValue:function(t,n){var a=he();return Km(a,jt.memoizedState,t,n)},useTransition:function(){var t=Fo(Ei)[0],n=he().memoizedState;return[typeof t=="boolean"?t:cl(t),n]},useSyncExternalStore:Sm,useId:Zm};ra.useCacheRefresh=Jm,ra.useMemoCache=Zc,ra.useHostTransitionStatus=sh,ra.useFormState=Lm,ra.useActionState=Lm,ra.useOptimistic=function(t,n){var a=he();return Im(a,jt,t,n)};var ar={readContext:ke,use:Go,useCallback:Fm,useContext:ke,useEffect:nh,useImperativeHandle:Gm,useInsertionEffect:qm,useLayoutEffect:Hm,useMemo:Qm,useReducer:Wc,useRef:Bm,useState:function(){return Wc(Ei)},useDebugValue:ih,useDeferredValue:function(t,n){var a=he();return jt===null?ah(a,t,n):Km(a,jt.memoizedState,t,n)},useTransition:function(){var t=Wc(Ei)[0],n=he().memoizedState;return[typeof t=="boolean"?t:cl(t),n]},useSyncExternalStore:Sm,useId:Zm};ar.useCacheRefresh=Jm,ar.useMemoCache=Zc,ar.useHostTransitionStatus=sh,ar.useFormState=Pm,ar.useActionState=Pm,ar.useOptimistic=function(t,n){var a=he();return jt!==null?Im(a,jt,t,n):(a.baseState=t,[t,a.queue.dispatch])};function oh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:D({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var uh={isMounted:function(t){return(t=t._reactInternals)?lt(t)===t:!1},enqueueSetState:function(t,n,a){t=t._reactInternals;var l=un(),c=oa(l);c.payload=n,a!=null&&(c.callback=a),n=ua(t,c,l),n!==null&&($e(n,t,l),ml(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=un(),c=oa(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ua(t,c,l),n!==null&&($e(n,t,l),ml(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=un(),l=oa(a);l.tag=2,n!=null&&(l.callback=n),n=ua(t,l,a),n!==null&&($e(n,t,a),ml(n,t,a))}};function ng(t,n,a,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Js(a,l)||!Js(c,f):!0}function ig(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&uh.enqueueReplaceState(n,n.state,null)}function rr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=D({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var Xo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ag(t){Xo(t)}function rg(t){console.error(t)}function sg(t){Xo(t)}function $o(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function lg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function ch(t,n,a){return a=oa(a),a.tag=3,a.payload={element:null},a.callback=function(){$o(t,n)},a}function og(t){return t=oa(t),t.tag=3,t}function ug(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){lg(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){lg(n,a,l),typeof c!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function F0(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&dl(n,a,c,!0),a=An.current,a!==null){switch(a.tag){case 13:return Xn===null?Fh():a.alternate===null&&ie===0&&(ie=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===kc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Kh(t,l,c)),!1;case 22:return a.flags|=65536,l===kc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Kh(t,l,c)),!1}throw Error(s(435,a.tag))}return Kh(t,l,c),Fh(),!1}if(zt)return n=An.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Bc&&(t=Error(s(422),{cause:l}),nl(vn(t,a)))):(l!==Bc&&(n=Error(s(423),{cause:l}),nl(vn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=vn(l,a),c=ch(t.stateNode,l,c),Rh(t,c),ie!==4&&(ie=2)),!1;var f=Error(s(520),{cause:l});if(f=vn(f,a),Al===null?Al=[f]:Al.push(f),ie!==4&&(ie=2),n===null)return!0;l=vn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=ch(a.stateNode,l,t),Rh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ga===null||!ga.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=og(c),ug(c,t,a,l),Rh(a,c),!1}a=a.return}while(a!==null);return!1}var cg=Error(s(461)),Ce=!1;function Ue(t,n,a,l){n.child=t===null?gm(n,null,a,l):tr(n,t.child,a,l)}function hg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return lr(n),l=Kc(t,n,a,y,f,c),E=Yc(),t!==null&&!Ce?(Xc(t,n,c),Ti(t,n,c)):(zt&&E&&zc(n),n.flags|=1,Ue(t,n,l,c),n.child)}function fg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Nh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,dg(t,n,f,l,c)):(t=eu(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!vh(t,c)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Js,a(y,l)&&t.ref===n.ref)return Ti(t,n,c)}return n.flags|=1,t=da(f,l),t.ref=n.ref,t.return=n,n.child=t}function dg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(Js(f,l)&&t.ref===n.ref)if(Ce=!1,n.pendingProps=l=f,vh(t,c))t.flags&131072&&(Ce=!0);else return n.lanes=t.lanes,Ti(t,n,c)}return hh(t,n,a,l,c)}function mg(t,n,a){var l=n.pendingProps,c=l.children,f=(n.stateNode._pendingVisibility&2)!==0,y=t!==null?t.memoizedState:null;if(fl(t,n),l.mode==="hidden"||f){if(n.flags&128){if(l=y!==null?y.baseLanes|a:a,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return gg(t,n,l,a)}if(a&536870912)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ko(n,y!==null?y.cachePool:null),y!==null?pm(n,y):qc(),ym(n);else return n.lanes=n.childLanes=536870912,gg(t,n,y!==null?y.baseLanes|a:a,a)}else y!==null?(ko(n,y.cachePool),pm(n,y),ia(),n.memoizedState=null):(t!==null&&ko(n,null),qc(),ia());return Ue(t,n,c,a),n.child}function gg(t,n,a,l){var c=Fc();return c=c===null?null:{parent:Ee._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&ko(n,null),qc(),ym(n),t!==null&&dl(t,n,l,!0),null}function fl(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=2097664)}}function hh(t,n,a,l,c){return lr(n),a=Kc(t,n,a,l,void 0,c),l=Yc(),t!==null&&!Ce?(Xc(t,n,c),Ti(t,n,c)):(zt&&l&&zc(n),n.flags|=1,Ue(t,n,a,c),n.child)}function pg(t,n,a,l,c,f){return lr(n),n.updateQueue=null,a=Am(n,l,a,c),Tm(t),l=Yc(),t!==null&&!Ce?(Xc(t,n,f),Ti(t,n,f)):(zt&&l&&zc(n),n.flags|=1,Ue(t,n,a,f),n.child)}function yg(t,n,a,l,c){if(lr(n),n.stateNode===null){var f=Qr,y=a.contextType;typeof y=="object"&&y!==null&&(f=ke(y)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=uh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Sh(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?ke(y):Qr,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(oh(n,a,y,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&uh.enqueueReplaceState(f,f.state,null),pl(n,l,f,c),gl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,S=rr(a,E);f.props=S;var V=f.context,H=a.contextType;y=Qr,typeof H=="object"&&H!==null&&(y=ke(H));var Q=a.getDerivedStateFromProps;H=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||V!==y)&&ig(n,f,l,y),la=!1;var P=n.memoizedState;f.state=P,pl(n,l,f,c),gl(),V=n.memoizedState,E||P!==V||la?(typeof Q=="function"&&(oh(n,a,Q,l),V=n.memoizedState),(S=la||ng(n,a,S,l,P,V,y))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=V),f.props=l,f.state=V,f.context=y,l=S):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,bh(t,n),y=n.memoizedProps,H=rr(a,y),f.props=H,Q=n.pendingProps,P=f.context,V=a.contextType,S=Qr,typeof V=="object"&&V!==null&&(S=ke(V)),E=a.getDerivedStateFromProps,(V=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Q||P!==S)&&ig(n,f,l,S),la=!1,P=n.memoizedState,f.state=P,pl(n,l,f,c),gl();var q=n.memoizedState;y!==Q||P!==q||la||t!==null&&t.dependencies!==null&&Zo(t.dependencies)?(typeof E=="function"&&(oh(n,a,E,l),q=n.memoizedState),(H=la||ng(n,a,H,l,P,q,S)||t!==null&&t.dependencies!==null&&Zo(t.dependencies))?(V||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,S),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,S)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=S,l=H):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,fl(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=tr(n,t.child,null,c),n.child=tr(n,null,a,c)):Ue(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Ti(t,n,c),t}function _g(t,n,a,l){return el(),n.flags|=256,Ue(t,n,a,l),n.child}var fh={dehydrated:null,treeContext:null,retryLane:0};function dh(t){return{baseLanes:t,cachePool:Em()}}function mh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=wn),t}function vg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(ve.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(zt){if(c?na(n):ia(),zt){var E=Ne,S;if(S=E){t:{for(S=E,E=Yn;S.nodeType!==8;){if(!E){E=null;break t}if(S=Un(S.nextSibling),S===null){E=null;break t}}E=S}E!==null?(n.memoizedState={dehydrated:E,treeContext:Za!==null?{id:yi,overflow:_i}:null,retryLane:536870912},S=Rn(18,null,null,0),S.stateNode=E,S.return=n,n.child=S,Xe=n,Ne=null,S=!0):S=!1}S||Wa(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;vi(n)}return E=l.children,l=l.fallback,c?(ia(),c=n.mode,E=ph({mode:"hidden",children:E},c),l=ur(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=dh(a),c.childLanes=mh(t,y,a),n.memoizedState=fh,l):(na(n),gh(n,E))}if(S=t.memoizedState,S!==null&&(E=S.dehydrated,E!==null)){if(f)n.flags&256?(na(n),n.flags&=-257,n=yh(t,n,a)):n.memoizedState!==null?(ia(),n.child=t.child,n.flags|=128,n=null):(ia(),c=l.fallback,E=n.mode,l=ph({mode:"visible",children:l.children},E),c=ur(c,E,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,tr(n,t.child,null,a),l=n.child,l.memoizedState=dh(a),l.childLanes=mh(t,y,a),n.memoizedState=fh,n=c);else if(na(n),E.data==="$!"){if(y=E.nextSibling&&E.nextSibling.dataset,y)var V=y.dgst;y=V,l=Error(s(419)),l.stack="",l.digest=y,nl({value:l,source:null,stack:null}),n=yh(t,n,a)}else if(Ce||dl(t,n,a,!1),y=(a&t.childLanes)!==0,Ce||y){if(y=Kt,y!==null){if(l=a&-a,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(y.suspendedLanes|a)?0:l,l!==0&&l!==S.retryLane)throw S.retryLane=l,ea(t,l),$e(y,t,l),cg}E.data==="$?"||Fh(),n=yh(t,n,a)}else E.data==="$?"?(n.flags|=128,n.child=t.child,n=sE.bind(null,t),E._reactRetry=n,n=null):(t=S.treeContext,Ne=Un(E.nextSibling),Xe=n,zt=!0,Mn=null,Yn=!1,t!==null&&(En[Tn++]=yi,En[Tn++]=_i,En[Tn++]=Za,yi=t.id,_i=t.overflow,Za=n),n=gh(n,l.children),n.flags|=4096);return n}return c?(ia(),c=l.fallback,E=n.mode,S=t.child,V=S.sibling,l=da(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&31457280,V!==null?c=da(V,c):(c=ur(c,E,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=dh(a):(S=E.cachePool,S!==null?(V=Ee._currentValue,S=S.parent!==V?{parent:V,pool:V}:S):S=Em(),E={baseLanes:E.baseLanes|a,cachePool:S}),c.memoizedState=E,c.childLanes=mh(t,y,a),n.memoizedState=fh,l):(na(n),a=t.child,t=a.sibling,a=da(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function gh(t,n){return n=ph({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ph(t,n){return Fg(t,n,0,null)}function yh(t,n,a){return tr(n,t.child,null,a),t=gh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Eg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Th(t.return,n,a)}function _h(t,n,a,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=c)}function Tg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Ue(t,n,l.children,a),l=ve.current,l&2)l=l&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Eg(t,a,n);else if(t.tag===19)Eg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ht(ve,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Bo(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),_h(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Bo(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}_h(n,!0,a,null,f);break;case"together":_h(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ti(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ma|=n.lanes,!(a&n.childLanes))if(t!==null){if(dl(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=da(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=da(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function vh(t,n){return t.lanes&n?!0:(t=t.dependencies,!!(t!==null&&Zo(t)))}function Q0(t,n,a){switch(n.tag){case 3:Bi(n,n.stateNode.containerInfo),sa(n,Ee,t.memoizedState.cache),el();break;case 27:case 5:Os(n);break;case 4:Bi(n,n.stateNode.containerInfo);break;case 10:sa(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(na(n),n.flags|=128,null):a&n.child.childLanes?vg(t,n,a):(na(n),t=Ti(t,n,a),t!==null?t.sibling:null);na(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(dl(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Tg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ht(ve,ve.current),l)break;return null;case 22:case 23:return n.lanes=0,mg(t,n,a);case 24:sa(n,Ee,t.memoizedState.cache)}return Ti(t,n,a)}function Ag(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ce=!0;else{if(!vh(t,a)&&!(n.flags&128))return Ce=!1,Q0(t,n,a);Ce=!!(t.flags&131072)}else Ce=!1,zt&&n.flags&1048576&&sm(n,Uo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Nh(l)?(t=rr(l,t),n.tag=1,n=yg(null,n,l,t,a)):(n.tag=0,n=hh(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===Z){n.tag=11,n=hg(null,n,l,t,a);break t}else if(c===St){n.tag=14,n=fg(null,n,l,t,a);break t}}throw n=R(l)||l,Error(s(306,n,""))}}return n;case 0:return hh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=rr(l,n.pendingProps),yg(t,n,l,c,a);case 3:t:{if(Bi(n,n.stateNode.containerInfo),t===null)throw Error(s(387));var f=n.pendingProps;c=n.memoizedState,l=c.element,bh(t,n),pl(n,f,null,a);var y=n.memoizedState;if(f=y.cache,sa(n,Ee,f),f!==c.cache&&Ah(n,[Ee],a,!0),gl(),f=y.element,c.isDehydrated)if(c={element:f,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=_g(t,n,f,a);break t}else if(f!==l){l=vn(Error(s(424)),n),nl(l),n=_g(t,n,f,a);break t}else for(Ne=Un(n.stateNode.containerInfo.firstChild),Xe=n,zt=!0,Mn=null,Yn=!0,a=gm(n,null,f,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(el(),f===l){n=Ti(t,n,a);break t}Ue(t,n,f,a)}n=n.child}return n;case 26:return fl(t,n),t===null?(a=Rp(n.type,null,n.pendingProps,null))?n.memoizedState=a:zt||(a=n.type,t=n.pendingProps,l=du(hn.current).createElement(a),l[Re]=n,l[pe]=t,xe(l,a,t),$t(l),n.stateNode=l):n.memoizedState=Rp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Os(n),t===null&&zt&&(l=n.stateNode=Ap(n.type,n.pendingProps,hn.current),Xe=n,Yn=!0,Ne=Un(l.firstChild)),l=n.pendingProps.children,t!==null||zt?Ue(t,n,l,a):n.child=tr(n,null,l,a),fl(t,n),n.child;case 5:return t===null&&zt&&((c=l=Ne)&&(l=AE(l,n.type,n.pendingProps,Yn),l!==null?(n.stateNode=l,Xe=n,Ne=Un(l.firstChild),Yn=!1,c=!0):c=!1),c||Wa(n)),Os(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,sf(c,f)?l=null:y!==null&&sf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=Kc(t,n,B0,null,null,a),Ol._currentValue=c),fl(t,n),Ue(t,n,l,a),n.child;case 6:return t===null&&zt&&((t=a=Ne)&&(a=SE(a,n.pendingProps,Yn),a!==null?(n.stateNode=a,Xe=n,Ne=null,t=!0):t=!1),t||Wa(n)),null;case 13:return vg(t,n,a);case 4:return Bi(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=tr(n,null,l,a):Ue(t,n,l,a),n.child;case 11:return hg(t,n,n.type,n.pendingProps,a);case 7:return Ue(t,n,n.pendingProps,a),n.child;case 8:return Ue(t,n,n.pendingProps.children,a),n.child;case 12:return Ue(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,sa(n,n.type,l.value),Ue(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,lr(n),c=ke(c),l=l(c),n.flags|=1,Ue(t,n,l,a),n.child;case 14:return fg(t,n,n.type,n.pendingProps,a);case 15:return dg(t,n,n.type,n.pendingProps,a);case 19:return Tg(t,n,a);case 22:return mg(t,n,a);case 24:return lr(n),l=ke(Ee),t===null?(c=Fc(),c===null&&(c=Kt,f=jc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},Sh(n),sa(n,Ee,c)):(t.lanes&a&&(bh(t,n),pl(n,null,null,a),gl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),sa(n,Ee,l)):(l=f.cache,sa(n,Ee,l),l!==c.cache&&Ah(n,[Ee],a,!0))),Ue(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var Eh=xt(null),sr=null,Ai=null;function sa(t,n,a){Ht(Eh,n._currentValue),n._currentValue=a}function Si(t){t._currentValue=Eh.current,te(Eh)}function Th(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Ah(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var S=0;S<n.length;S++)if(E.context===n[S]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Th(f.return,a,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),Th(y,a,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function dl(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if(c.flags&524288)f=!0;else if(c.flags&262144)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;rn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Pi.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ol):t=[Ol])}c=c.return}t!==null&&Ah(n,t,a,l),n.flags|=262144}function Zo(t){for(t=t.firstContext;t!==null;){if(!rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function lr(t){sr=t,Ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ke(t){return Sg(sr,t)}function Jo(t,n){return sr===null&&lr(t),Sg(t,n)}function Sg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ai===null){if(t===null)throw Error(s(308));Ai=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ai=Ai.next=n;return a}var la=!1;function Sh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function oa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ua(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,Jt&2){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Mo(t),am(t,null,a),n}return Oo(t,l,n,a),Mo(t)}function ml(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Fi(t,a)}}function Rh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var wh=!1;function gl(){if(wh){var t=Jr;if(t!==null)throw t}}function pl(t,n,a,l){wh=!1;var c=t.updateQueue;la=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var S=E,V=S.next;S.next=null,y===null?f=V:y.next=V,y=S;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==y&&(E===null?H.firstBaseUpdate=V:E.next=V,H.lastBaseUpdate=S))}if(f!==null){var Q=c.baseState;y=0,H=V=S=null,E=f;do{var P=E.lane&-536870913,q=P!==E.lane;if(q?(Ot&P)===P:(l&P)===P){P!==0&&P===Zr&&(wh=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=t,gt=E;P=n;var ae=a;switch(gt.tag){case 1:if(at=gt.payload,typeof at=="function"){Q=at.call(ae,Q,P);break t}Q=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=gt.payload,P=typeof at=="function"?at.call(ae,Q,P):at,P==null)break t;Q=D({},Q,P);break t;case 2:la=!0}}P=E.callback,P!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[P]:q.push(P))}else q={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(V=H=q,S=Q):H=H.next=q,y|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);H===null&&(S=Q),c.baseState=S,c.firstBaseUpdate=V,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),ma|=y,t.lanes=y,t.memoizedState=Q}}function bg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Rg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)bg(a[t],n)}function yl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==c)}}catch(E){Qt(n,n.return,E)}}function ca(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var S=a;try{E()}catch(V){Qt(c,S,V)}}}l=l.next}while(l!==f)}}catch(V){Qt(n,n.return,V)}}function wg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Rg(n,a)}catch(l){Qt(t,t.return,l)}}}function Dg(t,n,a){a.props=rr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Qt(t,n,l)}}function or(t,n){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof a=="function"?t.refCleanup=a(c):a.current=c}}catch(f){Qt(t,n,f)}}function sn(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Qt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Qt(t,n,c)}else a.current=null}function Cg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Qt(t,t.return,c)}}function Ig(t,n,a){try{var l=t.stateNode;yE(l,t.type,a,n),l[pe]=n}catch(c){Qt(t,t.return,c)}}function Vg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Dh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Vg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ch(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(t,n):a.insertBefore(t,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(t,a)):(n=a,n.appendChild(t)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=fu));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Ch(t,n,a),t=t.sibling;t!==null;)Ch(t,n,a),t=t.sibling}function Wo(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Wo(t,n,a),t=t.sibling;t!==null;)Wo(t,n,a),t=t.sibling}var bi=!1,ne=!1,Ih=!1,Og=typeof WeakSet=="function"?WeakSet:Set,Ie=null,Mg=!1;function K0(t,n){if(t=t.containerInfo,af=vu,t=Xd(t),Oc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,S=-1,V=0,H=0,Q=t,P=null;e:for(;;){for(var q;Q!==a||c!==0&&Q.nodeType!==3||(E=y+c),Q!==f||l!==0&&Q.nodeType!==3||(S=y+l),Q.nodeType===3&&(y+=Q.nodeValue.length),(q=Q.firstChild)!==null;)P=Q,Q=q;for(;;){if(Q===t)break e;if(P===a&&++V===c&&(E=y),P===f&&++H===l&&(S=y),(q=Q.nextSibling)!==null)break;Q=P,P=Q.parentNode}Q=q}a=E===-1||S===-1?null:{start:E,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(rf={focusedElem:t,selectionRange:a},vu=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var at=rr(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(at,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(gt){Qt(a,a.return,gt)}}break;case 3:if(t&1024){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)uf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":uf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}return at=Mg,Mg=!1,at}function Ng(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:wi(t,a),l&4&&yl(5,a);break;case 1:if(wi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(E){Qt(a,a.return,E)}else{var c=rr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Qt(a,a.return,E)}}l&64&&wg(a),l&512&&or(a,a.return);break;case 3:if(wi(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Rg(l,t)}catch(E){Qt(a,a.return,E)}}break;case 26:wi(t,a),l&512&&or(a,a.return);break;case 27:case 5:wi(t,a),n===null&&l&4&&Cg(a),l&512&&or(a,a.return);break;case 12:wi(t,a);break;case 13:wi(t,a),l&4&&Lg(t,a);break;case 22:if(c=a.memoizedState!==null||bi,!c){n=n!==null&&n.memoizedState!==null||ne;var f=bi,y=ne;bi=c,(ne=n)&&!y?ha(t,a,(a.subtreeFlags&8772)!==0):wi(t,a),bi=f,ne=y}l&512&&(a.memoizedProps.mode==="manual"?or(a,a.return):sn(a,a.return));break;default:wi(t,a)}}function Ug(t){var n=t.alternate;n!==null&&(t.alternate=null,Ug(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Pa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var fe=null,ln=!1;function Ri(t,n,a){for(a=a.child;a!==null;)xg(t,n,a),a=a.sibling}function xg(t,n,a){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(ki,a)}catch{}switch(a.tag){case 26:ne||sn(a,n),Ri(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ne||sn(a,n);var l=fe,c=ln;for(fe=a.stateNode,Ri(t,n,a),a=a.stateNode,n=a.attributes;n.length;)a.removeAttributeNode(n[0]);Pa(a),fe=l,ln=c;break;case 5:ne||sn(a,n);case 6:c=fe;var f=ln;if(fe=null,Ri(t,n,a),fe=c,ln=f,fe!==null)if(ln)try{t=fe,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(y){Qt(a,n,y)}else try{fe.removeChild(a.stateNode)}catch(y){Qt(a,n,y)}break;case 18:fe!==null&&(ln?(n=fe,a=a.stateNode,n.nodeType===8?of(n.parentNode,a):n.nodeType===1&&of(n,a),xl(n)):of(fe,a.stateNode));break;case 4:l=fe,c=ln,fe=a.stateNode.containerInfo,ln=!0,Ri(t,n,a),fe=l,ln=c;break;case 0:case 11:case 14:case 15:ne||ca(2,a,n),ne||ca(4,a,n),Ri(t,n,a);break;case 1:ne||(sn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Dg(a,n,l)),Ri(t,n,a);break;case 21:Ri(t,n,a);break;case 22:ne||sn(a,n),ne=(l=ne)||a.memoizedState!==null,Ri(t,n,a),ne=l;break;default:Ri(t,n,a)}}function Lg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{xl(t)}catch(a){Qt(n,n.return,a)}}function Y0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Og),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Og),n;default:throw Error(s(435,t.tag))}}function Vh(t,n){var a=Y0(t);n.forEach(function(l){var c=lE.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function Sn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:case 5:fe=E.stateNode,ln=!1;break t;case 3:fe=E.stateNode.containerInfo,ln=!0;break t;case 4:fe=E.stateNode.containerInfo,ln=!0;break t}E=E.return}if(fe===null)throw Error(s(160));xg(f,y,c),fe=null,ln=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)zg(n,t),n=n.sibling}var Nn=null;function zg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Sn(n,t),bn(t),l&4&&(ca(3,t,t.return),yl(3,t),ca(5,t,t.return));break;case 1:Sn(n,t),bn(t),l&512&&(ne||a===null||sn(a,a.return)),l&64&&bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Nn;if(Sn(n,t),bn(t),l&512&&(ne||a===null||sn(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Ki]||f[Re]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),xe(f,l,a),f[Re]=t,$t(f),l=f;break t;case"link":var y=Cp("link","href",c).get(l+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),xe(f,l,a),c.head.appendChild(f);break;case"meta":if(y=Cp("meta","content",c).get(l+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=c.createElement(l),xe(f,l,a),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[Re]=t,$t(f),l=f}t.stateNode=l}else Ip(c,t.type,t.stateNode);else t.stateNode=Dp(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Ip(c,t.type,t.stateNode):Dp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ig(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,f=t.memoizedProps;try{for(var S=c.firstChild;S;){var V=S.nextSibling,H=S.nodeName;S[Ki]||H==="HEAD"||H==="BODY"||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&S.rel.toLowerCase()==="stylesheet"||c.removeChild(S),S=V}for(var Q=t.type,P=c.attributes;P.length;)c.removeAttributeNode(P[0]);xe(c,Q,f),c[Re]=t,c[pe]=f}catch(at){Qt(t,t.return,at)}}case 5:if(Sn(n,t),bn(t),l&512&&(ne||a===null||sn(a,a.return)),t.flags&32){c=t.stateNode;try{mn(c,"")}catch(at){Qt(t,t.return,at)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Ig(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Ih=!0);break;case 6:if(Sn(n,t),bn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(at){Qt(t,t.return,at)}}break;case 3:if(pu=null,c=Nn,Nn=mu(n.containerInfo),Sn(n,t),Nn=c,bn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{xl(n.containerInfo)}catch(at){Qt(t,t.return,at)}Ih&&(Ih=!1,Pg(t));break;case 4:l=Nn,Nn=mu(t.stateNode.containerInfo),Sn(n,t),bn(t),Nn=l;break;case 12:Sn(n,t),bn(t);break;case 13:Sn(n,t),bn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Bh=Ze()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vh(t,l)));break;case 22:if(l&512&&(ne||a===null||sn(a,a.return)),S=t.memoizedState!==null,V=a!==null&&a.memoizedState!==null,H=bi,Q=ne,bi=H||S,ne=Q||V,Sn(n,t),ne=Q,bi=H,bn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=S?n._visibility&-2:n._visibility|1,S&&(n=bi||ne,a===null||V||n||ns(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(a=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(a===null){V=a=n;try{if(c=V.stateNode,S)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{y=V.stateNode,E=V.memoizedProps.style;var q=E!=null&&E.hasOwnProperty("display")?E.display:null;y.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(at){Qt(V,V.return,at)}}}else if(n.tag===6){if(a===null){V=n;try{V.stateNode.nodeValue=S?"":V.memoizedProps}catch(at){Qt(V,V.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Vh(t,a))));break;case 19:Sn(n,t),bn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vh(t,l)));break;case 21:break;default:Sn(n,t),bn(t)}}function bn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var a=t.return;a!==null;){if(Vg(a)){var l=a;break t}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var c=l.stateNode,f=Dh(t);Wo(t,f,c);break;case 5:var y=l.stateNode;l.flags&32&&(mn(y,""),l.flags&=-33);var E=Dh(t);Wo(t,E,y);break;case 3:case 4:var S=l.stateNode.containerInfo,V=Dh(t);Ch(t,V,S);break;default:throw Error(s(161))}}}catch(H){Qt(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Pg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Pg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function wi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ng(t,n.alternate,n),n=n.sibling}function ns(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ca(4,n,n.return),ns(n);break;case 1:sn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Dg(n,n.return,a),ns(n);break;case 26:case 27:case 5:sn(n,n.return),ns(n);break;case 22:sn(n,n.return),n.memoizedState===null&&ns(n);break;default:ns(n)}t=t.sibling}}function ha(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ha(c,f,a),yl(4,f);break;case 1:if(ha(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(V){Qt(l,l.return,V)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)bg(S[c],E)}catch(V){Qt(l,l.return,V)}}a&&y&64&&wg(f),or(f,f.return);break;case 26:case 27:case 5:ha(c,f,a),a&&l===null&&y&4&&Cg(f),or(f,f.return);break;case 12:ha(c,f,a);break;case 13:ha(c,f,a),a&&y&4&&Lg(c,f);break;case 22:f.memoizedState===null&&ha(c,f,a),or(f,f.return);break;default:ha(c,f,a)}n=n.sibling}}function Oh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ll(a))}function Mh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t))}function fa(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Bg(t,n,a,l),n=n.sibling}function Bg(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:fa(t,n,a,l),c&2048&&yl(9,n);break;case 3:fa(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t)));break;case 12:if(c&2048){fa(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){Qt(n,n.return,S)}}else fa(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?fa(t,n,a,l):_l(t,n):f._visibility&4?fa(t,n,a,l):(f._visibility|=4,is(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&Oh(n.alternate,n);break;case 24:fa(t,n,a,l),c&2048&&Mh(n.alternate,n);break;default:fa(t,n,a,l)}}function is(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=a,S=l,V=y.flags;switch(y.tag){case 0:case 11:case 15:is(f,y,E,S,c),yl(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&4?is(f,y,E,S,c):_l(f,y):(H._visibility|=4,is(f,y,E,S,c)),c&&V&2048&&Oh(y.alternate,y);break;case 24:is(f,y,E,S,c),c&&V&2048&&Mh(y.alternate,y);break;default:is(f,y,E,S,c)}n=n.sibling}}function _l(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:_l(a,l),c&2048&&Oh(l.alternate,l);break;case 24:_l(a,l),c&2048&&Mh(l.alternate,l);break;default:_l(a,l)}n=n.sibling}}var vl=8192;function as(t){if(t.subtreeFlags&vl)for(t=t.child;t!==null;)kg(t),t=t.sibling}function kg(t){switch(t.tag){case 26:as(t),t.flags&vl&&t.memoizedState!==null&&LE(Nn,t.memoizedState,t.memoizedProps);break;case 5:as(t);break;case 3:case 4:var n=Nn;Nn=mu(t.stateNode.containerInfo),as(t),Nn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=vl,vl=16777216,as(t),vl=n):as(t));break;default:as(t)}}function qg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function El(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ie=l,jg(l,t)}qg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Hg(t),t=t.sibling}function Hg(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&ca(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,tu(t)):El(t);break;default:El(t)}}function tu(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ie=l,jg(l,t)}qg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ca(8,n,n.return),tu(n);break;case 22:a=n.stateNode,a._visibility&4&&(a._visibility&=-5,tu(n));break;default:tu(n)}t=t.sibling}}function jg(t,n){for(;Ie!==null;){var a=Ie;switch(a.tag){case 0:case 11:case 15:ca(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ie=l;else t:for(a=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(Ug(l),l===a){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}function X0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,n,a,l){return new X0(t,n,a,l)}function Nh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function da(t,n){var a=t.alternate;return a===null?(a=Rn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Gg(t,n){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function eu(t,n,a,l,c,f){var y=0;if(l=t,typeof t=="function")Nh(t)&&(y=1);else if(typeof t=="string")y=UE(t,a,Fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case _:return ur(a.children,c,f,n);case v:y=8,c|=24;break;case b:return t=Rn(12,a,n,c|2),t.elementType=b,t.lanes=f,t;case nt:return t=Rn(13,a,n,c),t.elementType=nt,t.lanes=f,t;case $:return t=Rn(19,a,n,c),t.elementType=$,t.lanes=f,t;case Et:return Fg(a,c,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case M:case j:y=10;break t;case B:y=9;break t;case Z:y=11;break t;case St:y=14;break t;case dt:y=16,l=null;break t}y=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=Rn(y,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ur(t,n,a,l){return t=Rn(7,t,l,n),t.lanes=a,t}function Fg(t,n,a,l){t=Rn(22,t,l,n),t.elementType=Et,t.lanes=a;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=c._current;if(f===null)throw Error(s(456));if(!(c._pendingVisibility&2)){var y=ea(f,2);y!==null&&(c._pendingVisibility|=2,$e(y,f,2))}},attach:function(){var f=c._current;if(f===null)throw Error(s(456));if(c._pendingVisibility&2){var y=ea(f,2);y!==null&&(c._pendingVisibility&=-3,$e(y,f,2))}}};return t.stateNode=c,t}function Uh(t,n,a){return t=Rn(6,t,null,n),t.lanes=a,t}function xh(t,n,a){return n=Rn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Di(t){t.flags|=4}function Qg(t,n){if(n.type!=="stylesheet"||n.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!Vp(n)){if(n=An.current,n!==null&&((Ot&4194176)===Ot?Xn!==null:(Ot&62914560)!==Ot&&!(Ot&536870912)||n!==Xn))throw al=kc,um;t.flags|=8192}}function nu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ji():536870912,t.lanes|=n,ss|=n)}function Tl(t,n){if(!zt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Zt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function $0(t,n,a){var l=n.pendingProps;switch(Pc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(n),null;case 1:return Zt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Si(Ee),si(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(tl(n)?Di(n):t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Mn!==null&&(jh(Mn),Mn=null))),Zt(n),null;case 26:return a=n.memoizedState,t===null?(Di(n),a!==null?(Zt(n),Qg(n,a)):(Zt(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Di(n),Zt(n),Qg(n,a)):(Zt(n),n.flags&=-16777217):(t.memoizedProps!==l&&Di(n),Zt(n),n.flags&=-16777217),null;case 27:Rr(n),a=hn.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Zt(n),null}t=Fe.current,tl(n)?lm(n):(t=Ap(c,l,a),n.stateNode=t,Di(n))}return Zt(n),null;case 5:if(Rr(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Zt(n),null}if(t=Fe.current,tl(n))lm(n);else{switch(c=du(hn.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[Re]=n,t[pe]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(xe(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Di(n)}}return Zt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=hn.current,tl(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Xe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Re]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||pp(t.nodeValue,a)),t||Wa(n)}else t=du(t).createTextNode(l),t[Re]=n,n.stateNode=t}return Zt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=tl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[Re]=n}else el(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Zt(n),c=!1}else Mn!==null&&(jh(Mn),Mn=null),c=!0;if(!c)return n.flags&256?(vi(n),n):(vi(n),null)}if(vi(n),n.flags&128)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),nu(n,n.updateQueue),Zt(n),null;case 4:return si(),t===null&&tf(n.stateNode.containerInfo),Zt(n),null;case 10:return Si(n.type),Zt(n),null;case 19:if(te(ve),c=n.memoizedState,c===null)return Zt(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Tl(c,!1);else{if(ie!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(f=Bo(t),f!==null){for(n.flags|=128,Tl(c,!1),t=f.updateQueue,n.updateQueue=t,nu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Gg(a,t),a=a.sibling;return Ht(ve,ve.current&1|2),n.child}t=t.sibling}c.tail!==null&&Ze()>iu&&(n.flags|=128,l=!0,Tl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Bo(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,nu(n,t),Tl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!zt)return Zt(n),null}else 2*Ze()-c.renderingStartTime>iu&&a!==536870912&&(n.flags|=128,l=!0,Tl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Ze(),n.sibling=null,t=ve.current,Ht(ve,l?t&1|2:t&1),n):(Zt(n),null);case 22:case 23:return vi(n),Hc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?a&536870912&&!(n.flags&128)&&(Zt(n),n.subtreeFlags&6&&(n.flags|=8192)):Zt(n),a=n.updateQueue,a!==null&&nu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&te(er),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Si(Ee),Zt(n),null;case 25:return null}throw Error(s(156,n.tag))}function Z0(t,n){switch(Pc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Si(Ee),si(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Rr(n),null;case 13:if(vi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));el()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return te(ve),null;case 4:return si(),null;case 10:return Si(n.type),null;case 22:case 23:return vi(n),Hc(),t!==null&&te(er),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Si(Ee),null;case 25:return null;default:return null}}function Kg(t,n){switch(Pc(n),n.tag){case 3:Si(Ee),si();break;case 26:case 27:case 5:Rr(n);break;case 4:si();break;case 13:vi(n);break;case 19:te(ve);break;case 10:Si(n.type);break;case 22:case 23:vi(n),Hc(),t!==null&&te(er);break;case 24:Si(Ee)}}var J0={getCacheForType:function(t){var n=ke(Ee),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},W0=typeof WeakMap=="function"?WeakMap:Map,Jt=0,Kt=null,Rt=null,Ot=0,Yt=0,on=null,Ci=!1,rs=!1,Lh=!1,Ii=0,ie=0,ma=0,cr=0,zh=0,wn=0,ss=0,Al=null,Zn=null,Ph=!1,Bh=0,iu=1/0,au=null,ga=null,ru=!1,hr=null,Sl=0,kh=0,qh=null,bl=0,Hh=null;function un(){if(Jt&2&&Ot!==0)return Ot&-Ot;if(A.T!==null){var t=Zr;return t!==0?t:$h()}return co()}function Yg(){wn===0&&(wn=!(Ot&536870912)||zt?Ls():536870912);var t=An.current;return t!==null&&(t.flags|=32),wn}function $e(t,n,a){(t===Kt&&Yt===2||t.cancelPendingCommit!==null)&&(ls(t,0),Vi(t,Ot,wn,!1)),re(t,a),(!(Jt&2)||t!==Kt)&&(t===Kt&&(!(Jt&2)&&(cr|=a),ie===4&&Vi(t,Ot,wn,!1)),Jn(t))}function Xg(t,n,a){if(Jt&6)throw Error(s(327));var l=!a&&(n&60)===0&&(n&t.expiredLanes)===0||Hi(t,n),c=l?nE(t,n):Qh(t,n,!0),f=l;do{if(c===0){rs&&!l&&Vi(t,n,0,!1);break}else if(c===6)Vi(t,n,0,!Ci);else{if(a=t.current.alternate,f&&!tE(a)){c=Qh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Al;var S=E.current.memoizedState.isDehydrated;if(S&&(ls(E,y).flags|=256),y=Qh(E,y,!1),y!==2){if(Lh&&!S){E.errorRecoveryDisabledLanes|=f,cr|=f,c=4;break t}f=Zn,Zn=c,f!==null&&jh(f)}c=y}if(f=!1,c!==2)continue}}if(c===1){ls(t,0),Vi(t,n,0,!0);break}t:{switch(l=t,c){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){Vi(l,n,wn,!Ci);break t}break;case 2:Zn=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=n,(n&62914560)===n&&(f=Bh+300-Ze(),10<f)){if(Vi(l,n,wn,!Ci),fn(l,0)!==0)break t;l.timeoutHandle=vp($g.bind(null,l,a,Zn,au,Ph,n,wn,cr,ss,Ci,2,-0,0),f);break t}$g(l,a,Zn,au,Ph,n,wn,cr,ss,Ci,0,-0,0)}}break}while(!0);Jn(t)}function jh(t){Zn===null?Zn=t:Zn.push.apply(Zn,t)}function $g(t,n,a,l,c,f,y,E,S,V,H,Q,P){var q=n.subtreeFlags;if((q&8192||(q&16785408)===16785408)&&(Vl={stylesheets:null,count:0,unsuspend:xE},kg(n),n=zE(),n!==null)){t.cancelPendingCommit=n(ip.bind(null,t,a,l,c,y,E,S,1,Q,P)),Vi(t,f,y,!V);return}ip(t,a,l,c,y,E,S,H,Q,P)}function tE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!rn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Vi(t,n,a,l){n&=~zh,n&=~cr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Qe(c),y=1<<f;l[f]=-1,c&=~y}a!==0&&Gi(t,a,n)}function su(){return Jt&6?!0:(Rl(0),!1)}function Gh(){if(Rt!==null){if(Yt===0)var t=Rt.return;else t=Rt,Ai=sr=null,$c(t),Xr=null,rl=0,t=Rt;for(;t!==null;)Kg(t.alternate,t),t=t.return;Rt=null}}function ls(t,n){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,vE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Gh(),Kt=t,Rt=a=da(t.current,null),Ot=n,Yt=0,on=null,Ci=!1,rs=Hi(t,n),Lh=!1,ss=wn=zh=cr=ma=ie=0,Zn=Al=null,Ph=!1,n&8&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Qe(l),f=1<<c;n|=t[c],l&=~f}return Ii=n,Vo(),a}function Zg(t,n){At=null,A.H=$n,n===il?(n=fm(),Yt=3):n===um?(n=fm(),Yt=4):Yt=n===cg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,on=n,Rt===null&&(ie=1,$o(t,vn(n,t.current)))}function Jg(){var t=A.H;return A.H=$n,t===null?$n:t}function Wg(){var t=A.A;return A.A=J0,t}function Fh(){ie=4,Ci||(Ot&4194176)!==Ot&&An.current!==null||(rs=!0),!(ma&134217727)&&!(cr&134217727)||Kt===null||Vi(Kt,Ot,wn,!1)}function Qh(t,n,a){var l=Jt;Jt|=2;var c=Jg(),f=Wg();(Kt!==t||Ot!==n)&&(au=null,ls(t,n)),n=!1;var y=ie;t:do try{if(Yt!==0&&Rt!==null){var E=Rt,S=on;switch(Yt){case 8:Gh(),y=6;break t;case 3:case 2:case 6:An.current===null&&(n=!0);var V=Yt;if(Yt=0,on=null,os(t,E,S,V),a&&rs){y=0;break t}break;default:V=Yt,Yt=0,on=null,os(t,E,S,V)}}eE(),y=ie;break}catch(H){Zg(t,H)}while(!0);return n&&t.shellSuspendCounter++,Ai=sr=null,Jt=l,A.H=c,A.A=f,Rt===null&&(Kt=null,Ot=0,Vo()),y}function eE(){for(;Rt!==null;)tp(Rt)}function nE(t,n){var a=Jt;Jt|=2;var l=Jg(),c=Wg();Kt!==t||Ot!==n?(au=null,iu=Ze()+500,ls(t,n)):rs=Hi(t,n);t:do try{if(Yt!==0&&Rt!==null){n=Rt;var f=on;e:switch(Yt){case 1:Yt=0,on=null,os(t,n,f,1);break;case 2:if(cm(f)){Yt=0,on=null,ep(n);break}n=function(){Yt===2&&Kt===t&&(Yt=7),Jn(t)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:cm(f)?(Yt=0,on=null,ep(n)):(Yt=0,on=null,os(t,n,f,7));break;case 5:var y=null;switch(Rt.tag){case 26:y=Rt.memoizedState;case 5:case 27:var E=Rt;if(!y||Vp(y)){Yt=0,on=null;var S=E.sibling;if(S!==null)Rt=S;else{var V=E.return;V!==null?(Rt=V,lu(V)):Rt=null}break e}}Yt=0,on=null,os(t,n,f,5);break;case 6:Yt=0,on=null,os(t,n,f,6);break;case 8:Gh(),ie=6;break t;default:throw Error(s(462))}}iE();break}catch(H){Zg(t,H)}while(!0);return Ai=sr=null,A.H=l,A.A=c,Jt=a,Rt!==null?0:(Kt=null,Ot=0,Vo(),ie)}function iE(){for(;Rt!==null&&!Ec();)tp(Rt)}function tp(t){var n=Ag(t.alternate,t,Ii);t.memoizedProps=t.pendingProps,n===null?lu(t):Rt=n}function ep(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=pg(a,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=pg(a,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:$c(n);default:Kg(a,n),n=Rt=Gg(n,Ii),n=Ag(a,n,Ii)}t.memoizedProps=t.pendingProps,n===null?lu(t):Rt=n}function os(t,n,a,l){Ai=sr=null,$c(n),Xr=null,rl=0;var c=n.return;try{if(F0(t,c,n,a,Ot)){ie=1,$o(t,vn(a,t.current)),Rt=null;return}}catch(f){if(c!==null)throw Rt=c,f;ie=1,$o(t,vn(a,t.current)),Rt=null;return}n.flags&32768?(zt||l===1?t=!0:rs||Ot&536870912?t=!1:(Ci=t=!0,(l===2||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),np(n,t)):lu(n)}function lu(t){var n=t;do{if(n.flags&32768){np(n,Ci);return}t=n.return;var a=$0(n.alternate,n,Ii);if(a!==null){Rt=a;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=t}while(n!==null);ie===0&&(ie=5)}function np(t,n){do{var a=Z0(t.alternate,t);if(a!==null){a.flags&=32767,Rt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Rt=t;return}Rt=t=a}while(t!==null);ie=6,Rt=null}function ip(t,n,a,l,c,f,y,E,S,V){var H=A.T,Q=tt.p;try{tt.p=2,A.T=null,aE(t,n,a,l,Q,c,f,y,E,S,V)}finally{A.T=H,tt.p=Q}}function aE(t,n,a,l,c,f,y,E){do us();while(hr!==null);if(Jt&6)throw Error(s(327));var S=t.finishedWork;if(l=t.finishedLanes,S===null)return null;if(t.finishedWork=null,t.finishedLanes=0,S===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var V=S.lanes|S.childLanes;if(V|=xc,oo(t,l,V,f,y,E),t===Kt&&(Rt=Kt=null,Ot=0),!(S.subtreeFlags&10256)&&!(S.flags&10256)||ru||(ru=!0,kh=V,qh=a,oE(li,function(){return us(),null})),a=(S.flags&15990)!==0,S.subtreeFlags&15990||a?(a=A.T,A.T=null,f=tt.p,tt.p=2,y=Jt,Jt|=4,K0(t,S),zg(S,t),C0(rf,t.containerInfo),vu=!!af,rf=af=null,t.current=S,Ng(t,S.alternate,S),Ms(),Jt=y,tt.p=f,A.T=a):t.current=S,ru?(ru=!1,hr=t,Sl=l):ap(t,V),V=t.pendingLanes,V===0&&(ga=null),Us(S.stateNode),Jn(t),n!==null)for(c=t.onRecoverableError,S=0;S<n.length;S++)V=n[S],c(V.value,{componentStack:V.stack});return Sl&3&&us(),V=t.pendingLanes,l&4194218&&V&42?t===Hh?bl++:(bl=0,Hh=t):bl=0,Rl(0),null}function ap(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ll(n)))}function us(){if(hr!==null){var t=hr,n=kh;kh=0;var a=uo(Sl),l=A.T,c=tt.p;try{if(tt.p=32>a?32:a,A.T=null,hr===null)var f=!1;else{a=qh,qh=null;var y=hr,E=Sl;if(hr=null,Sl=0,Jt&6)throw Error(s(331));var S=Jt;if(Jt|=4,Hg(y.current),Bg(y,y.current,E,a),Jt=S,Rl(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(ki,y)}catch{}f=!0}return f}finally{tt.p=c,A.T=l,ap(t,n)}}return!1}function rp(t,n,a){n=vn(a,n),n=ch(t.stateNode,n,2),t=ua(t,n,2),t!==null&&(re(t,2),Jn(t))}function Qt(t,n,a){if(t.tag===3)rp(t,t,a);else for(;n!==null;){if(n.tag===3){rp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ga===null||!ga.has(l))){t=vn(a,t),a=og(2),l=ua(n,a,2),l!==null&&(ug(a,l,n,t),re(l,2),Jn(l));break}}n=n.return}}function Kh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new W0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Lh=!0,c.add(a),t=rE.bind(null,t,n,a),n.then(t,t))}function rE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Kt===t&&(Ot&a)===a&&(ie===4||ie===3&&(Ot&62914560)===Ot&&300>Ze()-Bh?!(Jt&2)&&ls(t,0):zh|=a,ss===Ot&&(ss=0)),Jn(t)}function sp(t,n){n===0&&(n=ji()),t=ea(t,n),t!==null&&(re(t,n),Jn(t))}function sE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),sp(t,a)}function lE(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),sp(t,a)}function oE(t,n){return xa(t,n)}var ou=null,cs=null,Yh=!1,uu=!1,Xh=!1,fr=0;function Jn(t){t!==cs&&t.next===null&&(cs===null?ou=cs=t:cs=cs.next=t),uu=!0,Yh||(Yh=!0,cE(uE))}function Rl(t,n){if(!Xh&&uu){Xh=!0;do for(var a=!1,l=ou;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Qe(42|t)+1)-1,f&=c&~(y&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(a=!0,up(l,f))}else f=Ot,f=fn(l,l===Kt?f:0),!(f&3)||Hi(l,f)||(a=!0,up(l,f));l=l.next}while(a);Xh=!1}}function uE(){uu=Yh=!1;var t=0;fr!==0&&(_E()&&(t=fr),fr=0);for(var n=Ze(),a=null,l=ou;l!==null;){var c=l.next,f=lp(l,n);f===0?(l.next=null,a===null?ou=c:a.next=c,c===null&&(cs=a)):(a=l,(t!==0||f&3)&&(uu=!0)),l=c}Rl(t)}function lp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Qe(f),E=1<<y,S=c[y];S===-1?(!(E&a)||E&l)&&(c[y]=Cr(E,n)):S<=n&&(t.expiredLanes|=E),f&=~E}if(n=Kt,a=Ot,a=fn(t,t===n?a:0),l=t.callbackNode,a===0||t===n&&Yt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Dr(l),t.callbackNode=null,t.callbackPriority=0;if(!(a&3)||Hi(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Dr(l),uo(a)){case 2:case 8:a=be;break;case 32:a=li;break;case 268435456:a=Ns;break;default:a=li}return l=op.bind(null,t),a=xa(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Dr(l),t.callbackPriority=2,t.callbackNode=null,2}function op(t,n){var a=t.callbackNode;if(us()&&t.callbackNode!==a)return null;var l=Ot;return l=fn(t,t===Kt?l:0),l===0?null:(Xg(t,l,n),lp(t,Ze()),t.callbackNode!=null&&t.callbackNode===a?op.bind(null,t):null)}function up(t,n){if(us())return null;Xg(t,n,!0)}function cE(t){EE(function(){Jt&6?xa(ge,t):t()})}function $h(){return fr===0&&(fr=Ls()),fr}function cp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:qn(""+t)}function hp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function hE(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=cp((c[pe]||null).action),y=l.submitter;y&&(n=(n=y[pe]||null)?cp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new xr("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(fr!==0){var S=y?hp(c,y):new FormData(c);rh(a,{pending:!0,data:S,method:c.method,action:f},null,S)}}else typeof f=="function"&&(E.preventDefault(),S=y?hp(c,y):new FormData(c),rh(a,{pending:!0,data:S,method:c.method,action:f},f,S))},currentTarget:c}]})}}for(var Zh=0;Zh<im.length;Zh++){var Jh=im[Zh],fE=Jh.toLowerCase(),dE=Jh[0].toUpperCase()+Jh.slice(1);On(fE,"on"+dE)}On(Jd,"onAnimationEnd"),On(Wd,"onAnimationIteration"),On(tm,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(V0,"onTransitionRun"),On(O0,"onTransitionStart"),On(M0,"onTransitionCancel"),On(em,"onTransitionEnd"),Je("onMouseEnter",["mouseout","mouseover"]),Je("onMouseLeave",["mouseout","mouseover"]),Je("onPointerEnter",["pointerout","pointerover"]),Je("onPointerLeave",["pointerout","pointerover"]),nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function fp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],S=E.instance,V=E.currentTarget;if(E=E.listener,S!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=V;try{f(c)}catch(H){Xo(H)}c.currentTarget=null,f=S}else for(y=0;y<l.length;y++){if(E=l[y],S=E.instance,V=E.currentTarget,E=E.listener,S!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=V;try{f(c)}catch(H){Xo(H)}c.currentTarget=null,f=S}}}}function Dt(t,n){var a=n[za];a===void 0&&(a=n[za]=new Set);var l=t+"__bubble";a.has(l)||(dp(n,t,2,!1),a.add(l))}function Wh(t,n,a){var l=0;n&&(l|=4),dp(a,t,l,n)}var cu="_reactListening"+Math.random().toString(36).slice(2);function tf(t){if(!t[cu]){t[cu]=!0,Ps.forEach(function(a){a!=="selectionchange"&&(mE.has(a)||Wh(a,!1,t),Wh(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[cu]||(n[cu]=!0,Wh("selectionchange",!1,n))}}function dp(t,n,a,l){switch(Lp(n)){case 2:var c=kE;break;case 8:c=qE;break;default:c=mf}a=c.bind(null,n,a,t),c=void 0,!pn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function ef(t,n,a,l,c){var f=l;if(!(n&1)&&!(n&2)&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c||E.nodeType===8&&E.parentNode===c)break;if(y===4)for(y=l.return;y!==null;){var S=y.tag;if((S===3||S===4)&&(S=y.stateNode.containerInfo,S===c||S.nodeType===8&&S.parentNode===c))return;y=y.return}for(;E!==null;){if(y=Vn(E),y===null)return;if(S=y.tag,S===5||S===6||S===26||S===27){l=f=y;continue t}E=E.parentNode}}l=l.return}go(function(){var V=f,H=Ur(a),Q=[];t:{var P=nm.get(t);if(P!==void 0){var q=xr,at=t;switch(t){case"keypress":if(jn(a)===0)break t;case"keydown":case"keyup":q=qr;break;case"focusin":at="focus",q=Pr;break;case"focusout":at="blur",q=Pr;break;case"beforeblur":case"afterblur":q=Pr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Dc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=So;break;case Jd:case Wd:case tm:q=Br;break;case em:q=Ro;break;case"scroll":case"scrollend":q=po;break;case"wheel":q=Hr;break;case"copy":case"cut":case"paste":q=kr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=$s;break;case"toggle":case"beforetoggle":q=Do}var gt=(n&4)!==0,ae=!gt&&(t==="scroll"||t==="scrollend"),U=gt?P!==null?P+"Capture":null:P;gt=[];for(var I=V,z;I!==null;){var G=I;if(z=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||z===null||U===null||(G=Ha(I,U),G!=null&&gt.push(Dl(I,G,z))),ae)break;I=I.return}0<gt.length&&(P=new q(P,at,null,a,H),Q.push({event:P,listeners:gt}))}}if(!(n&7)){t:{if(P=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",P&&a!==gn&&(at=a.relatedTarget||a.fromElement)&&(Vn(at)||at[oi]))break t;if((q||P)&&(P=H.window===H?H:(P=H.ownerDocument)?P.defaultView||P.parentWindow:window,q?(at=a.relatedTarget||a.toElement,q=V,at=at?Vn(at):null,at!==null&&(ae=lt(at),gt=at.tag,at!==ae||gt!==5&&gt!==27&&gt!==6)&&(at=null)):(q=null,at=V),q!==at)){if(gt=yn,G="onMouseLeave",U="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(gt=$s,G="onPointerLeave",U="onPointerEnter",I="pointer"),ae=q==null?P:Yi(q),z=at==null?P:Yi(at),P=new gt(G,I+"leave",q,a,H),P.target=ae,P.relatedTarget=z,G=null,Vn(H)===V&&(gt=new gt(U,I+"enter",at,a,H),gt.target=z,gt.relatedTarget=ae,G=gt),ae=G,q&&at)e:{for(gt=q,U=at,I=0,z=gt;z;z=hs(z))I++;for(z=0,G=U;G;G=hs(G))z++;for(;0<I-z;)gt=hs(gt),I--;for(;0<z-I;)U=hs(U),z--;for(;I--;){if(gt===U||U!==null&&gt===U.alternate)break e;gt=hs(gt),U=hs(U)}gt=null}else gt=null;q!==null&&mp(Q,P,q,gt,!1),at!==null&&ae!==null&&mp(Q,ae,at,gt,!0)}}t:{if(P=V?Yi(V):window,q=P.nodeName&&P.nodeName.toLowerCase(),q==="select"||q==="input"&&P.type==="file")var it=qd;else if(_e(P))if(Hd)it=w0;else{it=b0;var bt=S0}else q=P.nodeName,!q||q.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?V&&js(V.elementType)&&(it=qd):it=R0;if(it&&(it=it(t,V))){pi(Q,it,a,H);break t}bt&&bt(t,P,V),t==="focusout"&&V&&P.type==="number"&&V.memoizedProps.value!=null&&Nr(P,"number",P.value)}switch(bt=V?Yi(V):window,t){case"focusin":(_e(bt)||bt.contentEditable==="true")&&(jr=bt,Mc=V,Ws=null);break;case"focusout":Ws=Mc=jr=null;break;case"mousedown":Nc=!0;break;case"contextmenu":case"mouseup":case"dragend":Nc=!1,$d(Q,a,H);break;case"selectionchange":if(I0)break;case"keydown":case"keyup":$d(Q,a,H)}var st;if(Qn)t:{switch(t){case"compositionstart":var ct="onCompositionStart";break t;case"compositionend":ct="onCompositionEnd";break t;case"compositionupdate":ct="onCompositionUpdate";break t}ct=void 0}else It?k(t,a)&&(ct="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ct="onCompositionStart");ct&&(p&&a.locale!=="ko"&&(It||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&It&&(st=Fs()):(Hn=H,ta="value"in Hn?Hn.value:Hn.textContent,It=!0)),bt=hu(V,ct),0<bt.length&&(ct=new Ys(ct,t,null,a,H),Q.push({event:ct,listeners:bt}),st?ct.data=st:(st=X(a),st!==null&&(ct.data=st)))),(st=m?ye(t,a):Vt(t,a))&&(ct=hu(V,"onBeforeInput"),0<ct.length&&(bt=new Ys("onBeforeInput","beforeinput",null,a,H),Q.push({event:bt,listeners:ct}),bt.data=st)),hE(Q,t,V,a,H)}fp(Q,n)})}function Dl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function hu(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Ha(t,a),c!=null&&l.unshift(Dl(t,c,f)),c=Ha(t,n),c!=null&&l.push(Dl(t,c,f))),t=t.return}return l}function hs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function mp(t,n,a,l,c){for(var f=n._reactName,y=[];a!==null&&a!==l;){var E=a,S=E.alternate,V=E.stateNode;if(E=E.tag,S!==null&&S===l)break;E!==5&&E!==26&&E!==27||V===null||(S=V,c?(V=Ha(a,f),V!=null&&y.unshift(Dl(a,V,S))):c||(V=Ha(a,f),V!=null&&y.push(Dl(a,V,S)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var gE=/\r\n?/g,pE=/\u0000|\uFFFD/g;function gp(t){return(typeof t=="string"?t:""+t).replace(gE,`
`).replace(pE,"")}function pp(t,n){return n=gp(n),gp(t)===n}function fu(){}function Gt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||mn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&mn(t,""+l);break;case"className":Zi(t,"class",l);break;case"tabIndex":Zi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Zi(t,a,l);break;case"style":mo(t,l,f);break;case"data":if(n!=="object"){Zi(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=qn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Gt(t,n,"name",c.name,c,null),Gt(t,n,"formEncType",c.formEncType,c,null),Gt(t,n,"formMethod",c.formMethod,c,null),Gt(t,n,"formTarget",c.formTarget,c,null)):(Gt(t,n,"encType",c.encType,c,null),Gt(t,n,"method",c.method,c,null),Gt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=qn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=fu);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=qn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),$i(t,"popover",l);break;case"xlinkActuate":dn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":dn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":dn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":dn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":dn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":dn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":dn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":dn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":dn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":$i(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Rc.get(a)||a,$i(t,a,l))}}function nf(t,n,a,l,c,f){switch(a){case"style":mo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?mn(t,l):(typeof l=="number"||typeof l=="bigint")&&mn(t,""+l);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=fu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Or.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[pe]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):$i(t,a,l)}}}function xe(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Gt(t,n,f,y,a,null)}}c&&Gt(t,n,"srcSet",a.srcSet,a,null),l&&Gt(t,n,"src",a.src,a,null);return;case"input":Dt("invalid",t);var E=f=y=c=null,S=null,V=null;for(l in a)if(a.hasOwnProperty(l)){var H=a[l];if(H!=null)switch(l){case"name":c=H;break;case"type":y=H;break;case"checked":S=H;break;case"defaultChecked":V=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Gt(t,n,l,H,a,null)}}ka(t,f,E,S,V,y,c,!1),Ba(t);return;case"select":Dt("invalid",t),l=y=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Gt(t,n,c,E,a,null)}n=f,a=y,t.multiple=!!l,n!=null?Lt(t,!!l,n,!1):a!=null&&Lt(t,!!l,a,!0);return;case"textarea":Dt("invalid",t),f=c=l=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Gt(t,n,y,E,a,null)}Wi(t,l,c,f),Ba(t);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(l=a[S],l!=null))switch(S){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Gt(t,n,S,l,a,null)}return;case"dialog":Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(l=0;l<wl.length;l++)Dt(wl[l],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in a)if(a.hasOwnProperty(V)&&(l=a[V],l!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Gt(t,n,V,l,a,null)}return;default:if(js(n)){for(H in a)a.hasOwnProperty(H)&&(l=a[H],l!==void 0&&nf(t,n,H,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Gt(t,n,E,l,a,null))}function yE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,S=null,V=null,H=null;for(q in a){var Q=a[q];if(a.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":S=Q;default:l.hasOwnProperty(q)||Gt(t,n,q,null,l,Q)}}for(var P in l){var q=l[P];if(Q=a[P],l.hasOwnProperty(P)&&(q!=null||Q!=null))switch(P){case"type":f=q;break;case"name":c=q;break;case"checked":V=q;break;case"defaultChecked":H=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==Q&&Gt(t,n,P,q,l,Q)}}Ji(t,y,E,S,V,H,f,c);return;case"select":q=y=E=P=null;for(f in a)if(S=a[f],a.hasOwnProperty(f)&&S!=null)switch(f){case"value":break;case"multiple":q=S;default:l.hasOwnProperty(f)||Gt(t,n,f,null,l,S)}for(c in l)if(f=l[c],S=a[c],l.hasOwnProperty(c)&&(f!=null||S!=null))switch(c){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==S&&Gt(t,n,c,f,l,S)}n=E,a=y,l=q,P!=null?Lt(t,!!a,P,!1):!!l!=!!a&&(n!=null?Lt(t,!!a,n,!0):Lt(t,!!a,a?[]:"",!1));return;case"textarea":q=P=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Gt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=a[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":P=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Gt(t,n,y,c,l,f)}qa(t,P,q);return;case"option":for(var at in a)if(P=a[at],a.hasOwnProperty(at)&&P!=null&&!l.hasOwnProperty(at))switch(at){case"selected":t.selected=!1;break;default:Gt(t,n,at,null,l,P)}for(S in l)if(P=l[S],q=a[S],l.hasOwnProperty(S)&&P!==q&&(P!=null||q!=null))switch(S){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Gt(t,n,S,P,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)P=a[gt],a.hasOwnProperty(gt)&&P!=null&&!l.hasOwnProperty(gt)&&Gt(t,n,gt,null,l,P);for(V in l)if(P=l[V],q=a[V],l.hasOwnProperty(V)&&P!==q&&(P!=null||q!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,n));break;default:Gt(t,n,V,P,l,q)}return;default:if(js(n)){for(var ae in a)P=a[ae],a.hasOwnProperty(ae)&&P!==void 0&&!l.hasOwnProperty(ae)&&nf(t,n,ae,void 0,l,P);for(H in l)P=l[H],q=a[H],!l.hasOwnProperty(H)||P===q||P===void 0&&q===void 0||nf(t,n,H,P,l,q);return}}for(var U in a)P=a[U],a.hasOwnProperty(U)&&P!=null&&!l.hasOwnProperty(U)&&Gt(t,n,U,null,l,P);for(Q in l)P=l[Q],q=a[Q],!l.hasOwnProperty(Q)||P===q||P==null&&q==null||Gt(t,n,Q,P,l,q)}var af=null,rf=null;function du(t){return t.nodeType===9?t:t.ownerDocument}function yp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _p(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function sf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var lf=null;function _E(){var t=window.event;return t&&t.type==="popstate"?t===lf?!1:(lf=t,!0):(lf=null,!1)}var vp=typeof setTimeout=="function"?setTimeout:void 0,vE=typeof clearTimeout=="function"?clearTimeout:void 0,Ep=typeof Promise=="function"?Promise:void 0,EE=typeof queueMicrotask=="function"?queueMicrotask:typeof Ep<"u"?function(t){return Ep.resolve(null).then(t).catch(TE)}:vp;function TE(t){setTimeout(function(){throw t})}function of(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(l===0){t.removeChild(c),xl(n);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=c}while(a);xl(n)}function uf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":uf(a),Pa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function AE(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ki])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function SE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Un(t.nextSibling),t===null))return null;return t}function Un(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function Tp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function Ap(t,n,a){switch(n=du(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Dn=new Map,Sp=new Set;function mu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Oi=tt.d;tt.d={f:bE,r:RE,D:wE,C:DE,L:CE,m:IE,X:OE,S:VE,M:ME};function bE(){var t=Oi.f(),n=su();return t||n}function RE(t){var n=ui(t);n!==null&&n.tag===5&&n.type==="form"?$m(n):Oi.r(t)}var fs=typeof document>"u"?null:document;function bp(t,n,a){var l=fs;if(l&&typeof n=="string"&&n){var c=ee(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Sp.has(c)||(Sp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),xe(n,"link",t),$t(n),l.head.appendChild(n)))}}function wE(t){Oi.D(t),bp("dns-prefetch",t,null)}function DE(t,n){Oi.C(t,n),bp("preconnect",t,n)}function CE(t,n,a){Oi.L(t,n,a);var l=fs;if(l&&t&&n){var c='link[rel="preload"][as="'+ee(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+ee(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+ee(a.imageSizes)+'"]')):c+='[href="'+ee(t)+'"]';var f=c;switch(n){case"style":f=ds(t);break;case"script":f=ms(t)}Dn.has(f)||(t=D({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Dn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Cl(f))||n==="script"&&l.querySelector(Il(f))||(n=l.createElement("link"),xe(n,"link",t),$t(n),l.head.appendChild(n)))}}function IE(t,n){Oi.m(t,n);var a=fs;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ee(l)+'"][href="'+ee(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ms(t)}if(!Dn.has(f)&&(t=D({rel:"modulepreload",href:t},n),Dn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(f)))return}l=a.createElement("link"),xe(l,"link",t),$t(l),a.head.appendChild(l)}}}function VE(t,n,a){Oi.S(t,n,a);var l=fs;if(l&&t){var c=Xi(l).hoistableStyles,f=ds(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Cl(f)))E.loading=5;else{t=D({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Dn.get(f))&&cf(t,a);var S=y=l.createElement("link");$t(S),xe(S,"link",t),S._p=new Promise(function(V,H){S.onload=V,S.onerror=H}),S.addEventListener("load",function(){E.loading|=1}),S.addEventListener("error",function(){E.loading|=2}),E.loading|=4,gu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function OE(t,n){Oi.X(t,n);var a=fs;if(a&&t){var l=Xi(a).hoistableScripts,c=ms(t),f=l.get(c);f||(f=a.querySelector(Il(c)),f||(t=D({src:t,async:!0},n),(n=Dn.get(c))&&hf(t,n),f=a.createElement("script"),$t(f),xe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ME(t,n){Oi.M(t,n);var a=fs;if(a&&t){var l=Xi(a).hoistableScripts,c=ms(t),f=l.get(c);f||(f=a.querySelector(Il(c)),f||(t=D({src:t,async:!0,type:"module"},n),(n=Dn.get(c))&&hf(t,n),f=a.createElement("script"),$t(f),xe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Rp(t,n,a,l){var c=(c=hn.current)?mu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ds(a.href),a=Xi(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ds(a.href);var f=Xi(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Cl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Dn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Dn.set(t,a),f||NE(c,t,a,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ms(a),a=Xi(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ds(t){return'href="'+ee(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function wp(t){return D({},t,{"data-precedence":t.precedence,precedence:null})}function NE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),xe(n,"link",a),$t(n),t.head.appendChild(n))}function ms(t){return'[src="'+ee(t)+'"]'}function Il(t){return"script[async]"+t}function Dp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ee(a.href)+'"]');if(l)return n.instance=l,$t(l),l;var c=D({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),$t(l),xe(l,"style",c),gu(l,a.precedence,t),n.instance=l;case"stylesheet":c=ds(a.href);var f=t.querySelector(Cl(c));if(f)return n.state.loading|=4,n.instance=f,$t(f),f;l=wp(a),(c=Dn.get(c))&&cf(l,c),f=(t.ownerDocument||t).createElement("link"),$t(f);var y=f;return y._p=new Promise(function(E,S){y.onload=E,y.onerror=S}),xe(f,"link",l),n.state.loading|=4,gu(f,a.precedence,t),n.instance=f;case"script":return f=ms(a.src),(c=t.querySelector(Il(f)))?(n.instance=c,$t(c),c):(l=a,(c=Dn.get(f))&&(l=D({},a),hf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),$t(c),xe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(l=n.instance,n.state.loading|=4,gu(l,a.precedence,t));return n.instance}function gu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function cf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function hf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var pu=null;function Cp(t,n,a){if(pu===null){var l=new Map,c=pu=new Map;c.set(a,l)}else c=pu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[Ki]||f[Re]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Ip(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function UE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Vp(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Vl=null;function xE(){}function LE(t,n,a){if(Vl===null)throw Error(s(475));var l=Vl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var c=ds(a.href),f=t.querySelector(Cl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=yu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,$t(f);return}f=t.ownerDocument||t,a=wp(a),(c=Dn.get(c))&&cf(a,c),f=f.createElement("link"),$t(f);var y=f;y._p=new Promise(function(E,S){y.onload=E,y.onerror=S}),xe(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(l.count++,n=yu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function zE(){if(Vl===null)throw Error(s(475));var t=Vl;return t.stylesheets&&t.count===0&&ff(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&ff(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function yu(){if(this.count--,this.count===0){if(this.stylesheets)ff(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var _u=null;function ff(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,_u=new Map,n.forEach(PE,t),_u=null,yu.call(t))}function PE(t,n){if(!(n.state.loading&4)){var a=_u.get(t);if(a)var l=a.get(null);else{a=new Map,_u.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,c),a.set(y,c),this.count++,l=yu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ol={$$typeof:j,Provider:null,Consumer:null,_currentValue:Tt,_currentValue2:Tt,_threadCount:0};function BE(t,n,a,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ir(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ir(0),this.hiddenUpdates=Ir(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Op(t,n,a,l,c,f,y,E,S,V,H,Q){return t=new BE(t,n,a,y,E,S,V,Q),n=1,f===!0&&(n|=24),f=Rn(3,null,null,n),t.current=f,f.stateNode=t,n=jc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Sh(f),t}function Mp(t){return t?(t=Qr,t):Qr}function Np(t,n,a,l,c,f){c=Mp(c),l.context===null?l.context=c:l.pendingContext=c,l=oa(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ua(t,l,n),a!==null&&($e(a,t,n),ml(a,t,n))}function Up(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function df(t,n){Up(t,n),(t=t.alternate)&&Up(t,n)}function xp(t){if(t.tag===13){var n=ea(t,67108864);n!==null&&$e(n,t,67108864),df(t,67108864)}}var vu=!0;function kE(t,n,a,l){var c=A.T;A.T=null;var f=tt.p;try{tt.p=2,mf(t,n,a,l)}finally{tt.p=f,A.T=c}}function qE(t,n,a,l){var c=A.T;A.T=null;var f=tt.p;try{tt.p=8,mf(t,n,a,l)}finally{tt.p=f,A.T=c}}function mf(t,n,a,l){if(vu){var c=gf(l);if(c===null)ef(t,n,l,Eu,a),zp(t,l);else if(jE(c,t,n,a,l))l.stopPropagation();else if(zp(t,l),n&4&&-1<HE.indexOf(t)){for(;c!==null;){var f=ui(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=In(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var S=1<<31-Qe(y);E.entanglements[1]|=S,y&=~S}Jn(f),!(Jt&6)&&(iu=Ze()+500,Rl(0))}}break;case 13:E=ea(f,2),E!==null&&$e(E,f,2),su(),df(f,2)}if(f=gf(l),f===null&&ef(t,n,l,Eu,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else ef(t,n,l,null,a)}}function gf(t){return t=Ur(t),pf(t)}var Eu=null;function pf(t){if(Eu=null,t=Vn(t),t!==null){var n=lt(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=Bt(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Eu=t,null}function Lp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ao()){case ge:return 2;case be:return 8;case li:case ro:return 32;case Ns:return 268435456;default:return 32}default:return 32}}var yf=!1,pa=null,ya=null,_a=null,Ml=new Map,Nl=new Map,va=[],HE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zp(t,n){switch(t){case"focusin":case"focusout":pa=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":Ml.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(n.pointerId)}}function Ul(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=ui(n),n!==null&&xp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function jE(t,n,a,l,c){switch(n){case"focusin":return pa=Ul(pa,t,n,a,l,c),!0;case"dragenter":return ya=Ul(ya,t,n,a,l,c),!0;case"mouseover":return _a=Ul(_a,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Ml.set(f,Ul(Ml.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Nl.set(f,Ul(Nl.get(f)||null,t,n,a,l,c)),!0}return!1}function Pp(t){var n=Vn(t.target);if(n!==null){var a=lt(n);if(a!==null){if(n=a.tag,n===13){if(n=Bt(a),n!==null){t.blockedOn=n,Qi(t.priority,function(){if(a.tag===13){var l=un(),c=ea(a,l);c!==null&&$e(c,a,l),df(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=gf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);gn=l,a.target.dispatchEvent(l),gn=null}else return n=ui(a),n!==null&&xp(n),t.blockedOn=a,!1;n.shift()}return!0}function Bp(t,n,a){Tu(t)&&a.delete(n)}function GE(){yf=!1,pa!==null&&Tu(pa)&&(pa=null),ya!==null&&Tu(ya)&&(ya=null),_a!==null&&Tu(_a)&&(_a=null),Ml.forEach(Bp),Nl.forEach(Bp)}function Au(t,n){t.blockedOn===n&&(t.blockedOn=null,yf||(yf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,GE)))}var Su=null;function kp(t){Su!==t&&(Su=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Su===t&&(Su=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(pf(l||a)===null)continue;break}var f=ui(a);f!==null&&(t.splice(n,3),n-=3,rh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function xl(t){function n(S){return Au(S,t)}pa!==null&&Au(pa,t),ya!==null&&Au(ya,t),_a!==null&&Au(_a,t),Ml.forEach(n),Nl.forEach(n);for(var a=0;a<va.length;a++){var l=va[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<va.length&&(a=va[0],a.blockedOn===null);)Pp(a),a.blockedOn===null&&va.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],y=c[pe]||null;if(typeof f=="function")y||kp(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[pe]||null)E=y.formAction;else if(pf(c)!==null)continue}else E=y.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),kp(a)}}}function _f(t){this._internalRoot=t}bu.prototype.render=_f.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=un();Np(a,l,t,n,null,null)},bu.prototype.unmount=_f.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&us(),Np(t.current,2,null,t,null,null),su(),n[oi]=null}};function bu(t){this._internalRoot=t}bu.prototype.unstable_scheduleHydration=function(t){if(t){var n=co();t={blockedOn:null,target:t,priority:n};for(var a=0;a<va.length&&n!==0&&n<va[a].priority;a++);va.splice(a,0,t),a===0&&Pp(t)}};var qp=e.version;if(qp!=="19.0.0")throw Error(s(527,qp,"19.0.0"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=Y(n),t=t!==null?rt(t):null,t=t===null?null:t.stateNode,t};var FE={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Vn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ru.isDisabled&&Ru.supportsFiber)try{ki=Ru.inject(FE),Be=Ru}catch{}}return zl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",c=ag,f=rg,y=sg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Op(t,1,!1,null,null,a,l,c,f,y,E,null),t[oi]=n.current,tf(t.nodeType===8?t.parentNode:t),new _f(n)},zl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,c="",f=ag,y=rg,E=sg,S=null,V=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks),a.formState!==void 0&&(V=a.formState)),n=Op(t,1,!0,n,a??null,l,c,f,y,E,S,V),n.context=Mp(null),a=n.current,l=un(),c=oa(l),c.callback=null,ua(a,c,l),n.current.lanes=l,re(n,l),Jn(n),t[oi]=n.current,tf(t),new bu(n)},zl.version="19.0.0",zl}var Zp;function eT(){if(Zp)return Tf.exports;Zp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Tf.exports=tT(),Tf.exports}var nT=eT(),Jp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},iT=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],g=r[i++],_=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const h=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},m_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,g=d?r[o+1]:0,_=o+2<r.length,v=_?r[o+2]:0,b=h>>2,M=(h&3)<<4|g>>4;let B=(g&15)<<2|v>>6,j=v&63;_||(j=64,d||(B=64)),s.push(i[b],i[M],i[B],i[j])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(d_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):iT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const v=o<r.length?i[r.charAt(o)]:64;++o;const M=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||g==null||v==null||M==null)throw new aT;const B=h<<2|g>>4;if(s.push(B),v!==64){const j=g<<4&240|v>>2;if(s.push(j),M!==64){const Z=v<<6&192|M;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class aT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rT=function(r){const e=d_(r);return m_.encodeByteArray(e,!0)},Bu=function(r){return rT(r).replace(/\./g,"")},sT=function(r){try{return m_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=()=>lT().__FIREBASE_DEFAULTS__,uT=()=>{if(typeof process>"u"||typeof Jp>"u")return;const r=Jp.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},cT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&sT(r[1]);return e&&JSON.parse(e)},ad=()=>{try{return oT()||uT()||cT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},hT=r=>{var e,i;return(i=(e=ad())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},fT=r=>{const e=hT(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},g_=()=>{var r;return(r=ad())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Bu(JSON.stringify(i)),Bu(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pT(){var r;const e=(r=ad())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function _T(){return!pT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function p_(){try{return typeof indexedDB=="object"}catch{return!1}}function y_(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}function vT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="FirebaseError";class Ua extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=ET,Object.setPrototypeOf(this,Ua.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ic.prototype.create)}}class ic{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?TT(h,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Ua(o,g,s)}}function TT(r,e){return r.replace(AT,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const AT=/\{\$([^}]+)}/g;function ku(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=r[o],d=e[o];if(Wp(h)&&Wp(d)){if(!ku(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Wp(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=1e3,bT=2,RT=4*60*60*1e3,wT=.5;function ty(r,e=ST,i=bT){const s=e*Math.pow(i,r),o=Math.round(wT*s*(Math.random()-.5)*2);return Math.min(RT,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(r){return r&&r._delegate?r._delegate:r}class Ui{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new dT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IT(e))try{this.getOrInitializeService({instanceIdentifier:dr})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=dr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=dr){return this.instances.has(e)}getOptions(e=dr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:CT(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=dr){return this.component?this.component.multipleInstances?e:dr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CT(r){return r===dr?void 0:r}function IT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new DT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Nt||(Nt={}));const OT={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},MT=Nt.INFO,NT={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},UT=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=NT[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rd{constructor(e){this.name=e,this._logLevel=MT,this._logHandler=UT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...e),this._logHandler(this,Nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...e),this._logHandler(this,Nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...e),this._logHandler(this,Nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...e),this._logHandler(this,Nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...e),this._logHandler(this,Nt.ERROR,...e)}}const xT=(r,e)=>e.some(i=>r instanceof i);let ey,ny;function LT(){return ey||(ey=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zT(){return ny||(ny=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const __=new WeakMap,Lf=new WeakMap,v_=new WeakMap,Rf=new WeakMap,sd=new WeakMap;function PT(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Aa(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&__.set(i,r)}).catch(()=>{}),sd.set(e,r),e}function BT(r){if(Lf.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});Lf.set(r,e)}let zf={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Lf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||v_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Aa(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function kT(r){zf=r(zf)}function qT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(wf(this),e,...i);return v_.set(s,e.sort?e.sort():[e]),Aa(s)}:zT().includes(r)?function(...e){return r.apply(wf(this),e),Aa(__.get(this))}:function(...e){return Aa(r.apply(wf(this),e))}}function HT(r){return typeof r=="function"?qT(r):(r instanceof IDBTransaction&&BT(r),xT(r,LT())?new Proxy(r,zf):r)}function Aa(r){if(r instanceof IDBRequest)return PT(r);if(Rf.has(r))return Rf.get(r);const e=HT(r);return e!==r&&(Rf.set(r,e),sd.set(e,r)),e}const wf=r=>sd.get(r);function E_(r,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(r,e),g=Aa(d);return s&&d.addEventListener("upgradeneeded",_=>{s(Aa(d.result),_.oldVersion,_.newVersion,Aa(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const jT=["get","getKey","getAll","getAllKeys","count"],GT=["put","add","delete","clear"],Df=new Map;function iy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Df.get(e))return Df.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=GT.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||jT.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&_.done]))[0]};return Df.set(e,h),h}kT(r=>({...r,get:(e,i,s)=>iy(e,i)||r.get(e,i,s),has:(e,i)=>!!iy(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(QT(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function QT(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pf="@firebase/app",ay="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new rd("@firebase/app"),KT="@firebase/app-compat",YT="@firebase/analytics-compat",XT="@firebase/analytics",$T="@firebase/app-check-compat",ZT="@firebase/app-check",JT="@firebase/auth",WT="@firebase/auth-compat",tA="@firebase/database",eA="@firebase/data-connect",nA="@firebase/database-compat",iA="@firebase/functions",aA="@firebase/functions-compat",rA="@firebase/installations",sA="@firebase/installations-compat",lA="@firebase/messaging",oA="@firebase/messaging-compat",uA="@firebase/performance",cA="@firebase/performance-compat",hA="@firebase/remote-config",fA="@firebase/remote-config-compat",dA="@firebase/storage",mA="@firebase/storage-compat",gA="@firebase/firestore",pA="@firebase/vertexai",yA="@firebase/firestore-compat",_A="firebase",vA="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="[DEFAULT]",EA={[Pf]:"fire-core",[KT]:"fire-core-compat",[XT]:"fire-analytics",[YT]:"fire-analytics-compat",[ZT]:"fire-app-check",[$T]:"fire-app-check-compat",[JT]:"fire-auth",[WT]:"fire-auth-compat",[tA]:"fire-rtdb",[eA]:"fire-data-connect",[nA]:"fire-rtdb-compat",[iA]:"fire-fn",[aA]:"fire-fn-compat",[rA]:"fire-iid",[sA]:"fire-iid-compat",[lA]:"fire-fcm",[oA]:"fire-fcm-compat",[uA]:"fire-perf",[cA]:"fire-perf-compat",[hA]:"fire-rc",[fA]:"fire-rc-compat",[dA]:"fire-gcs",[mA]:"fire-gcs-compat",[gA]:"fire-fst",[yA]:"fire-fst-compat",[pA]:"fire-vertex","fire-js":"fire-js",[_A]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=new Map,TA=new Map,kf=new Map;function ry(r,e){try{r.container.addComponent(e)}catch(i){xi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Da(r){const e=r.name;if(kf.has(e))return xi.debug(`There were multiple attempts to register component ${e}.`),!1;kf.set(e,r);for(const i of qu.values())ry(i,r);for(const i of TA.values())ry(i,r);return!0}function Wl(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function AA(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sa=new ic("app","Firebase",SA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ui("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=vA;function T_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Bf,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Sa.create("bad-app-name",{appName:String(o)});if(i||(i=g_()),!i)throw Sa.create("no-options");const h=qu.get(o);if(h){if(ku(i,h.options)&&ku(s,h.config))return h;throw Sa.create("duplicate-app",{appName:o})}const d=new VT(o);for(const _ of kf.values())d.addComponent(_);const g=new bA(i,s,d);return qu.set(o,g),g}function A_(r=Bf){const e=qu.get(r);if(!e&&r===Bf&&g_())return T_();if(!e)throw Sa.create("no-app",{appName:r});return e}function ti(r,e,i){var s;let o=(s=EA[r])!==null&&s!==void 0?s:r;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${o}" with version "${e}":`];h&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xi.warn(g.join(" "));return}Da(new Ui(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="firebase-heartbeat-database",DA=1,Ql="firebase-heartbeat-store";let Cf=null;function S_(){return Cf||(Cf=E_(wA,DA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ql)}catch(i){console.warn(i)}}}}).catch(r=>{throw Sa.create("idb-open",{originalErrorMessage:r.message})})),Cf}async function CA(r){try{const i=(await S_()).transaction(Ql),s=await i.objectStore(Ql).get(b_(r));return await i.done,s}catch(e){if(e instanceof Ua)xi.warn(e.message);else{const i=Sa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xi.warn(i.message)}}}async function sy(r,e){try{const s=(await S_()).transaction(Ql,"readwrite");await s.objectStore(Ql).put(e,b_(r)),await s.done}catch(i){if(i instanceof Ua)xi.warn(i.message);else{const s=Sa.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});xi.warn(s.message)}}}function b_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=1024,VA=30;class OA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new NA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=ly();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>VA){const d=UA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){xi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=ly(),{heartbeatsToSend:s,unsentEntries:o}=MA(this._heartbeatsCache.heartbeats),h=Bu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return xi.warn(i),""}}}function ly(){return new Date().toISOString().substring(0,10)}function MA(r,e=IA){const i=[];let s=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),oy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),oy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class NA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return p_()?y_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await CA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return sy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return sy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function oy(r){return Bu(JSON.stringify({version:2,heartbeats:r})).length}function UA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(r){Da(new Ui("platform-logger",e=>new FT(e),"PRIVATE")),Da(new Ui("heartbeat",e=>new OA(e),"PRIVATE")),ti(Pf,ay,r),ti(Pf,ay,"esm2017"),ti("fire-js","")}xA("");var uy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ba,R_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,R){function A(){}A.prototype=R.prototype,N.D=R.prototype,N.prototype=new A,N.prototype.constructor=N,N.C=function(D,O,L){for(var w=Array(arguments.length-2),me=2;me<arguments.length;me++)w[me-2]=arguments[me];return R.prototype[O].apply(D,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,R,A){A||(A=0);var D=Array(16);if(typeof R=="string")for(var O=0;16>O;++O)D[O]=R.charCodeAt(A++)|R.charCodeAt(A++)<<8|R.charCodeAt(A++)<<16|R.charCodeAt(A++)<<24;else for(O=0;16>O;++O)D[O]=R[A++]|R[A++]<<8|R[A++]<<16|R[A++]<<24;R=N.g[0],A=N.g[1],O=N.g[2];var L=N.g[3],w=R+(L^A&(O^L))+D[0]+3614090360&4294967295;R=A+(w<<7&4294967295|w>>>25),w=L+(O^R&(A^O))+D[1]+3905402710&4294967295,L=R+(w<<12&4294967295|w>>>20),w=O+(A^L&(R^A))+D[2]+606105819&4294967295,O=L+(w<<17&4294967295|w>>>15),w=A+(R^O&(L^R))+D[3]+3250441966&4294967295,A=O+(w<<22&4294967295|w>>>10),w=R+(L^A&(O^L))+D[4]+4118548399&4294967295,R=A+(w<<7&4294967295|w>>>25),w=L+(O^R&(A^O))+D[5]+1200080426&4294967295,L=R+(w<<12&4294967295|w>>>20),w=O+(A^L&(R^A))+D[6]+2821735955&4294967295,O=L+(w<<17&4294967295|w>>>15),w=A+(R^O&(L^R))+D[7]+4249261313&4294967295,A=O+(w<<22&4294967295|w>>>10),w=R+(L^A&(O^L))+D[8]+1770035416&4294967295,R=A+(w<<7&4294967295|w>>>25),w=L+(O^R&(A^O))+D[9]+2336552879&4294967295,L=R+(w<<12&4294967295|w>>>20),w=O+(A^L&(R^A))+D[10]+4294925233&4294967295,O=L+(w<<17&4294967295|w>>>15),w=A+(R^O&(L^R))+D[11]+2304563134&4294967295,A=O+(w<<22&4294967295|w>>>10),w=R+(L^A&(O^L))+D[12]+1804603682&4294967295,R=A+(w<<7&4294967295|w>>>25),w=L+(O^R&(A^O))+D[13]+4254626195&4294967295,L=R+(w<<12&4294967295|w>>>20),w=O+(A^L&(R^A))+D[14]+2792965006&4294967295,O=L+(w<<17&4294967295|w>>>15),w=A+(R^O&(L^R))+D[15]+1236535329&4294967295,A=O+(w<<22&4294967295|w>>>10),w=R+(O^L&(A^O))+D[1]+4129170786&4294967295,R=A+(w<<5&4294967295|w>>>27),w=L+(A^O&(R^A))+D[6]+3225465664&4294967295,L=R+(w<<9&4294967295|w>>>23),w=O+(R^A&(L^R))+D[11]+643717713&4294967295,O=L+(w<<14&4294967295|w>>>18),w=A+(L^R&(O^L))+D[0]+3921069994&4294967295,A=O+(w<<20&4294967295|w>>>12),w=R+(O^L&(A^O))+D[5]+3593408605&4294967295,R=A+(w<<5&4294967295|w>>>27),w=L+(A^O&(R^A))+D[10]+38016083&4294967295,L=R+(w<<9&4294967295|w>>>23),w=O+(R^A&(L^R))+D[15]+3634488961&4294967295,O=L+(w<<14&4294967295|w>>>18),w=A+(L^R&(O^L))+D[4]+3889429448&4294967295,A=O+(w<<20&4294967295|w>>>12),w=R+(O^L&(A^O))+D[9]+568446438&4294967295,R=A+(w<<5&4294967295|w>>>27),w=L+(A^O&(R^A))+D[14]+3275163606&4294967295,L=R+(w<<9&4294967295|w>>>23),w=O+(R^A&(L^R))+D[3]+4107603335&4294967295,O=L+(w<<14&4294967295|w>>>18),w=A+(L^R&(O^L))+D[8]+1163531501&4294967295,A=O+(w<<20&4294967295|w>>>12),w=R+(O^L&(A^O))+D[13]+2850285829&4294967295,R=A+(w<<5&4294967295|w>>>27),w=L+(A^O&(R^A))+D[2]+4243563512&4294967295,L=R+(w<<9&4294967295|w>>>23),w=O+(R^A&(L^R))+D[7]+1735328473&4294967295,O=L+(w<<14&4294967295|w>>>18),w=A+(L^R&(O^L))+D[12]+2368359562&4294967295,A=O+(w<<20&4294967295|w>>>12),w=R+(A^O^L)+D[5]+4294588738&4294967295,R=A+(w<<4&4294967295|w>>>28),w=L+(R^A^O)+D[8]+2272392833&4294967295,L=R+(w<<11&4294967295|w>>>21),w=O+(L^R^A)+D[11]+1839030562&4294967295,O=L+(w<<16&4294967295|w>>>16),w=A+(O^L^R)+D[14]+4259657740&4294967295,A=O+(w<<23&4294967295|w>>>9),w=R+(A^O^L)+D[1]+2763975236&4294967295,R=A+(w<<4&4294967295|w>>>28),w=L+(R^A^O)+D[4]+1272893353&4294967295,L=R+(w<<11&4294967295|w>>>21),w=O+(L^R^A)+D[7]+4139469664&4294967295,O=L+(w<<16&4294967295|w>>>16),w=A+(O^L^R)+D[10]+3200236656&4294967295,A=O+(w<<23&4294967295|w>>>9),w=R+(A^O^L)+D[13]+681279174&4294967295,R=A+(w<<4&4294967295|w>>>28),w=L+(R^A^O)+D[0]+3936430074&4294967295,L=R+(w<<11&4294967295|w>>>21),w=O+(L^R^A)+D[3]+3572445317&4294967295,O=L+(w<<16&4294967295|w>>>16),w=A+(O^L^R)+D[6]+76029189&4294967295,A=O+(w<<23&4294967295|w>>>9),w=R+(A^O^L)+D[9]+3654602809&4294967295,R=A+(w<<4&4294967295|w>>>28),w=L+(R^A^O)+D[12]+3873151461&4294967295,L=R+(w<<11&4294967295|w>>>21),w=O+(L^R^A)+D[15]+530742520&4294967295,O=L+(w<<16&4294967295|w>>>16),w=A+(O^L^R)+D[2]+3299628645&4294967295,A=O+(w<<23&4294967295|w>>>9),w=R+(O^(A|~L))+D[0]+4096336452&4294967295,R=A+(w<<6&4294967295|w>>>26),w=L+(A^(R|~O))+D[7]+1126891415&4294967295,L=R+(w<<10&4294967295|w>>>22),w=O+(R^(L|~A))+D[14]+2878612391&4294967295,O=L+(w<<15&4294967295|w>>>17),w=A+(L^(O|~R))+D[5]+4237533241&4294967295,A=O+(w<<21&4294967295|w>>>11),w=R+(O^(A|~L))+D[12]+1700485571&4294967295,R=A+(w<<6&4294967295|w>>>26),w=L+(A^(R|~O))+D[3]+2399980690&4294967295,L=R+(w<<10&4294967295|w>>>22),w=O+(R^(L|~A))+D[10]+4293915773&4294967295,O=L+(w<<15&4294967295|w>>>17),w=A+(L^(O|~R))+D[1]+2240044497&4294967295,A=O+(w<<21&4294967295|w>>>11),w=R+(O^(A|~L))+D[8]+1873313359&4294967295,R=A+(w<<6&4294967295|w>>>26),w=L+(A^(R|~O))+D[15]+4264355552&4294967295,L=R+(w<<10&4294967295|w>>>22),w=O+(R^(L|~A))+D[6]+2734768916&4294967295,O=L+(w<<15&4294967295|w>>>17),w=A+(L^(O|~R))+D[13]+1309151649&4294967295,A=O+(w<<21&4294967295|w>>>11),w=R+(O^(A|~L))+D[4]+4149444226&4294967295,R=A+(w<<6&4294967295|w>>>26),w=L+(A^(R|~O))+D[11]+3174756917&4294967295,L=R+(w<<10&4294967295|w>>>22),w=O+(R^(L|~A))+D[2]+718787259&4294967295,O=L+(w<<15&4294967295|w>>>17),w=A+(L^(O|~R))+D[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(O+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+L&4294967295}s.prototype.u=function(N,R){R===void 0&&(R=N.length);for(var A=R-this.blockSize,D=this.B,O=this.h,L=0;L<R;){if(O==0)for(;L<=A;)o(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<R;)if(D[O++]=N.charCodeAt(L++),O==this.blockSize){o(this,D),O=0;break}}else for(;L<R;)if(D[O++]=N[L++],O==this.blockSize){o(this,D),O=0;break}}this.h=O,this.o+=R},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;var A=8*this.o;for(R=N.length-8;R<N.length;++R)N[R]=A&255,A/=256;for(this.u(N),N=Array(16),R=A=0;4>R;++R)for(var D=0;32>D;D+=8)N[A++]=this.g[R]>>>D&255;return N};function h(N,R){var A=g;return Object.prototype.hasOwnProperty.call(A,N)?A[N]:A[N]=R(N)}function d(N,R){this.h=R;for(var A=[],D=!0,O=N.length-1;0<=O;O--){var L=N[O]|0;D&&L==R||(A[O]=L,D=!1)}this.g=A}var g={};function _(N){return-128<=N&&128>N?h(N,function(R){return new d([R|0],0>R?-1:0)}):new d([N|0],0>N?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return M;if(0>N)return $(v(-N));for(var R=[],A=1,D=0;N>=A;D++)R[D]=N/A|0,A*=4294967296;return new d(R,0)}function b(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return $(b(N.substring(1),R));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=v(Math.pow(R,8)),D=M,O=0;O<N.length;O+=8){var L=Math.min(8,N.length-O),w=parseInt(N.substring(O,O+L),R);8>L?(L=v(Math.pow(R,L)),D=D.j(L).add(v(w))):(D=D.j(A),D=D.add(v(w)))}return D}var M=_(0),B=_(1),j=_(16777216);r=d.prototype,r.m=function(){if(nt(this))return-$(this).m();for(var N=0,R=1,A=0;A<this.g.length;A++){var D=this.i(A);N+=(0<=D?D:4294967296+D)*R,R*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(nt(this))return"-"+$(this).toString(N);for(var R=v(Math.pow(N,6)),A=this,D="";;){var O=Ft(A,R).g;A=St(A,O.j(R));var L=((0<A.g.length?A.g[0]:A.h)>>>0).toString(N);if(A=O,Z(A))return L+D;for(;6>L.length;)L="0"+L;D=L+D}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(var R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function nt(N){return N.h==-1}r.l=function(N){return N=St(this,N),nt(N)?-1:Z(N)?0:1};function $(N){for(var R=N.g.length,A=[],D=0;D<R;D++)A[D]=~N.g[D];return new d(A,~N.h).add(B)}r.abs=function(){return nt(this)?$(this):this},r.add=function(N){for(var R=Math.max(this.g.length,N.g.length),A=[],D=0,O=0;O<=R;O++){var L=D+(this.i(O)&65535)+(N.i(O)&65535),w=(L>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);D=w>>>16,L&=65535,w&=65535,A[O]=w<<16|L}return new d(A,A[A.length-1]&-2147483648?-1:0)};function St(N,R){return N.add($(R))}r.j=function(N){if(Z(this)||Z(N))return M;if(nt(this))return nt(N)?$(this).j($(N)):$($(this).j(N));if(nt(N))return $(this.j($(N)));if(0>this.l(j)&&0>N.l(j))return v(this.m()*N.m());for(var R=this.g.length+N.g.length,A=[],D=0;D<2*R;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var O=0;O<N.g.length;O++){var L=this.i(D)>>>16,w=this.i(D)&65535,me=N.i(O)>>>16,oe=N.i(O)&65535;A[2*D+2*O]+=w*oe,dt(A,2*D+2*O),A[2*D+2*O+1]+=L*oe,dt(A,2*D+2*O+1),A[2*D+2*O+1]+=w*me,dt(A,2*D+2*O+1),A[2*D+2*O+2]+=L*me,dt(A,2*D+2*O+2)}for(D=0;D<R;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=R;D<2*R;D++)A[D]=0;return new d(A,0)};function dt(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function Et(N,R){this.g=N,this.h=R}function Ft(N,R){if(Z(R))throw Error("division by zero");if(Z(N))return new Et(M,M);if(nt(N))return R=Ft($(N),R),new Et($(R.g),$(R.h));if(nt(R))return R=Ft(N,$(R)),new Et($(R.g),R.h);if(30<N.g.length){if(nt(N)||nt(R))throw Error("slowDivide_ only works with positive integers.");for(var A=B,D=R;0>=D.l(N);)A=yt(A),D=yt(D);var O=Ut(A,1),L=Ut(D,1);for(D=Ut(D,2),A=Ut(A,2);!Z(D);){var w=L.add(D);0>=w.l(N)&&(O=O.add(A),L=w),D=Ut(D,1),A=Ut(A,1)}return R=St(N,O.j(R)),new Et(O,R)}for(O=M;0<=N.l(R);){for(A=Math.max(1,Math.floor(N.m()/R.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),L=v(A),w=L.j(R);nt(w)||0<w.l(N);)A-=D,L=v(A),w=L.j(R);Z(L)&&(L=B),O=O.add(L),N=St(N,w)}return new Et(O,N)}r.A=function(N){return Ft(this,N).h},r.and=function(N){for(var R=Math.max(this.g.length,N.g.length),A=[],D=0;D<R;D++)A[D]=this.i(D)&N.i(D);return new d(A,this.h&N.h)},r.or=function(N){for(var R=Math.max(this.g.length,N.g.length),A=[],D=0;D<R;D++)A[D]=this.i(D)|N.i(D);return new d(A,this.h|N.h)},r.xor=function(N){for(var R=Math.max(this.g.length,N.g.length),A=[],D=0;D<R;D++)A[D]=this.i(D)^N.i(D);return new d(A,this.h^N.h)};function yt(N){for(var R=N.g.length+1,A=[],D=0;D<R;D++)A[D]=N.i(D)<<1|N.i(D-1)>>>31;return new d(A,N.h)}function Ut(N,R){var A=R>>5;R%=32;for(var D=N.g.length-A,O=[],L=0;L<D;L++)O[L]=0<R?N.i(L+A)>>>R|N.i(L+A+1)<<32-R:N.i(L+A);return new d(O,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,R_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=b,ba=d}).apply(typeof uy<"u"?uy:typeof self<"u"?self:typeof window<"u"?window:{});var wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var w_,Pl,D_,Nu,qf,C_,I_,V_;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wu=="object"&&wu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var p=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var x=u[T];if(!(x in p))break t;p=p[x]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,x={next:function(){if(!T&&p<u.length){var k=p++;return{value:m(k,u[k]),done:!1}}return T=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function b(u,m,p){return u.call.apply(u.bind,arguments)}function M(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,T),u.apply(m,x)}}return function(){return u.apply(m,arguments)}}function B(u,m,p){return B=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:M,B.apply(null,arguments)}function j(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function Z(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,x,k){for(var X=Array(arguments.length-2),It=2;It<arguments.length;It++)X[It-2]=arguments[It];return m.prototype[x].apply(T,X)}}function nt(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function $(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const x=u.length||0,k=T.length||0;u.length=x+k;for(let X=0;X<k;X++)u[x+X]=T[X]}else u.push(T)}}class St{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function dt(u){return/^[\s\xa0]*$/.test(u)}function Et(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Ft(u){return Ft[" "](u),u}Ft[" "]=function(){};var yt=Et().indexOf("Gecko")!=-1&&!(Et().toLowerCase().indexOf("webkit")!=-1&&Et().indexOf("Edge")==-1)&&!(Et().indexOf("Trident")!=-1||Et().indexOf("MSIE")!=-1)&&Et().indexOf("Edge")==-1;function Ut(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function N(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function R(u){const m={};for(const p in u)m[p]=u[p];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,m){let p,T;for(let x=1;x<arguments.length;x++){T=arguments[x];for(p in T)u[p]=T[p];for(let k=0;k<A.length;k++)p=A[k],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function O(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function L(u){g.setTimeout(()=>{throw u},0)}function w(){var u=Bt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class me{constructor(){this.h=this.g=null}add(m,p){const T=oe.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var oe=new St(()=>new J,u=>u.reset());class J{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,lt=!1,Bt=new me,C=()=>{const u=g.Promise.resolve(void 0);ht=()=>{u.then(Y)}};var Y=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(p){L(p)}var m=oe;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}lt=!1};function rt(){this.s=this.s,this.C=this.C}rt.prototype.s=!1,rt.prototype.ma=function(){this.s||(this.s=!0,this.N())},rt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var tt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function Tt(u,m){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(yt){t:{try{Ft(m.nodeName);var x=!0;break t}catch{}x=!1}x||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:_t[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Tt.aa.h.call(this)}}Z(Tt,W);var _t={2:"touch",3:"pen",4:"mouse"};Tt.prototype.h=function(){Tt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),xt=0;function te(u,m,p,T,x){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=x,this.key=++xt,this.da=this.fa=!1}function Ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Fe(u){this.src=u,this.g={},this.h=0}Fe.prototype.add=function(u,m,p,T,x){var k=u.toString();u=this.g[k],u||(u=this.g[k]=[],this.h++);var X=hn(u,m,T,x);return-1<X?(m=u[X],p||(m.fa=!1)):(m=new te(m,this.src,k,!!T,x),m.fa=p,u.push(m)),m};function ri(u,m){var p=m.type;if(p in u.g){var T=u.g[p],x=Array.prototype.indexOf.call(T,m,void 0),k;(k=0<=x)&&Array.prototype.splice.call(T,x,1),k&&(Ht(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function hn(u,m,p,T){for(var x=0;x<u.length;++x){var k=u[x];if(!k.da&&k.listener==m&&k.capture==!!p&&k.ha==T)return x}return-1}var Pi="closure_lm_"+(1e6*Math.random()|0),Bi={};function si(u,m,p,T,x){if(Array.isArray(m)){for(var k=0;k<m.length;k++)si(u,m[k],p,T,x);return null}return p=ao(p),u&&u[ue]?u.K(m,p,v(T)?!!T.capture:!1,x):Os(u,m,p,!1,T,x)}function Os(u,m,p,T,x,k){if(!m)throw Error("Invalid event type");var X=v(x)?!!x.capture:!!x,It=Ms(u);if(It||(u[Pi]=It=new Fe(u)),p=It.add(m,p,T,X,k),p.proxy)return p;if(T=Rr(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)tt||(x=X),x===void 0&&(x=!1),u.addEventListener(m.toString(),T,x);else if(u.attachEvent)u.attachEvent(Dr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Rr(){function u(p){return m.call(u.src,u.listener,p)}const m=Ec;return u}function wr(u,m,p,T,x){if(Array.isArray(m))for(var k=0;k<m.length;k++)wr(u,m[k],p,T,x);else T=v(T)?!!T.capture:!!T,p=ao(p),u&&u[ue]?(u=u.i,m=String(m).toString(),m in u.g&&(k=u.g[m],p=hn(k,p,T,x),-1<p&&(Ht(k[p]),Array.prototype.splice.call(k,p,1),k.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ms(u))&&(m=u.g[m.toString()],u=-1,m&&(u=hn(m,p,T,x)),(p=-1<u?m[u]:null)&&xa(p))}function xa(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ue])ri(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Dr(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Ms(m))?(ri(p,u),p.h==0&&(p.src=null,m[Pi]=null)):Ht(u)}}}function Dr(u){return u in Bi?Bi[u]:Bi[u]="on"+u}function Ec(u,m){if(u.da)u=!0;else{m=new Tt(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&xa(u),u=p.call(T,m)}return u}function Ms(u){return u=u[Pi],u instanceof Fe?u:null}var Ze="__closure_events_fn_"+(1e9*Math.random()>>>0);function ao(u){return typeof u=="function"?u:(u[Ze]||(u[Ze]=function(m){return u.handleEvent(m)}),u[Ze])}function ge(){rt.call(this),this.i=new Fe(this),this.M=this,this.F=null}Z(ge,rt),ge.prototype[ue]=!0,ge.prototype.removeEventListener=function(u,m,p,T){wr(this,u,m,p,T)};function be(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new W(m,u);else if(m instanceof W)m.target=m.target||u;else{var x=m;m=new W(T,u),D(m,x)}if(x=!0,p)for(var k=p.length-1;0<=k;k--){var X=m.g=p[k];x=li(X,T,!0,m)&&x}if(X=m.g=u,x=li(X,T,!0,m)&&x,x=li(X,T,!1,m)&&x,p)for(k=0;k<p.length;k++)X=m.g=p[k],x=li(X,T,!1,m)&&x}ge.prototype.N=function(){if(ge.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)Ht(p[T]);delete u.g[m],u.h--}}this.F=null},ge.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},ge.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function li(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var x=!0,k=0;k<m.length;++k){var X=m[k];if(X&&!X.da&&X.capture==p){var It=X.listener,ye=X.ha||X.src;X.fa&&ri(u.i,X),x=It.call(ye,T)!==!1&&x}}return x&&!T.defaultPrevented}function ro(u,m,p){if(typeof u=="function")p&&(u=B(u,p));else if(u&&typeof u.handleEvent=="function")u=B(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Ns(u){u.g=ro(()=>{u.g=null,u.i&&(u.i=!1,Ns(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Tc extends rt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ns(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function La(u){rt.call(this),this.h=u,this.g={}}Z(La,rt);var ki=[];function Be(u){Ut(u.g,function(m,p){this.g.hasOwnProperty(p)&&xa(m)},u),u.g={}}La.prototype.N=function(){La.aa.N.call(this),Be(this)},La.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Us=g.JSON.stringify,zn=g.JSON.parse,Qe=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function xs(){}xs.prototype.h=null;function so(u){return u.h||(u.h=u.i())}function lo(){}var Pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qi(){W.call(this,"d")}Z(qi,W);function In(){W.call(this,"c")}Z(In,W);var fn={},Hi=null;function Cr(){return Hi=Hi||new ge}fn.La="serverreachability";function Ls(u){W.call(this,fn.La,u)}Z(Ls,W);function ji(u){const m=Cr();be(m,new Ls(m))}fn.STAT_EVENT="statevent";function Ir(u,m){W.call(this,fn.STAT_EVENT,u),this.stat=m}Z(Ir,W);function re(u){const m=Cr();be(m,new Ir(m,u))}fn.Ma="timingevent";function oo(u,m){W.call(this,fn.Ma,u),this.size=m}Z(oo,W);function Gi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function Fi(){this.g=!0}Fi.prototype.xa=function(){this.g=!1};function uo(u,m,p,T,x,k){u.info(function(){if(u.g)if(k)for(var X="",It=k.split("&"),ye=0;ye<It.length;ye++){var Vt=It[ye].split("=");if(1<Vt.length){var De=Vt[0];Vt=Vt[1];var _e=De.split("_");X=2<=_e.length&&_e[1]=="type"?X+(De+"="+Vt+"&"):X+(De+"=redacted&")}}else X=null;else X=k;return"XMLHTTP REQ ("+T+") [attempt "+x+"]: "+m+`
`+p+`
`+X})}function co(u,m,p,T,x,k,X){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+x+"]: "+m+`
`+p+`
`+k+" "+X})}function Qi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Re(u,p)+(T?" "+T:"")})}function Bn(u,m){u.info(function(){return"TIMEOUT: "+m})}Fi.prototype.info=function(){};function Re(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var x=T[1];if(Array.isArray(x)&&!(1>x.length)){var k=x[0];if(k!="noop"&&k!="stop"&&k!="close")for(var X=1;X<x.length;X++)x[X]=""}}}}return Us(p)}catch{return m}}var pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},za;function Vr(){}Z(Vr,xs),Vr.prototype.g=function(){return new XMLHttpRequest},Vr.prototype.i=function(){return{}},za=new Vr;function kn(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new La(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zs}function zs(){this.i=null,this.g="",this.h=!1}var Ki={},Pa={};function Vn(u,m,p){u.L=1,u.v=qa(ee(m)),u.m=p,u.P=!0,ui(u,null)}function ui(u,m){u.F=Date.now(),$t(u),u.A=ee(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),fi(p.i,"t",T),u.C=0,p=u.j.J,u.h=new zs,u.g=Ro(u.j,p?m:null,!u.m),0<u.O&&(u.M=new Tc(B(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var x="readystatechange";Array.isArray(x)||(x&&(ki[0]=x.toString()),x=ki);for(var k=0;k<x.length;k++){var X=si(p,x[k],T||m.handleEvent,!1,m.h||m);if(!X)break;m.g[X.key]=X}m=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),ji(),uo(u.i,u.u,u.A,u.l,u.R,u.m)}kn.prototype.ca=function(u){u=u.target;const m=this.M;m&&yn(u)==3?m.j():this.Y(u)},kn.prototype.Y=function(u){try{if(u==this.g)t:{const _e=yn(this.g);var m=this.g.Ba();const pi=this.g.Z();if(!(3>_e)&&(_e!=3||this.g&&(this.h.h||this.g.oa()||yo(this.g)))){this.J||_e!=4||m==7||(m==8||0>=pi?ji(3):ji(2)),Or(this);var p=this.g.Z();this.X=p;e:if(Yi(this)){var T=yo(this.g);u="";var x=T.length,k=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Je(this),nn(this);var X="";break e}this.h.i=new g.TextDecoder}for(m=0;m<x;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(k&&m==x-1)});T.length=0,this.h.g+=u,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=p==200,co(this.i,this.u,this.A,this.l,this.R,_e,p),this.o){if(this.T&&!this.K){e:{if(this.g){var It,ye=this.g;if((It=ye.g?ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(It)){var Vt=It;break e}}Vt=null}if(p=Vt)Qi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,an(this,p);else{this.o=!1,this.s=3,re(12),Je(this),nn(this);break t}}if(this.P){p=!0;let Me;for(;!this.J&&this.C<X.length;)if(Me=Xi(this,X),Me==Pa){_e==4&&(this.s=4,re(14),p=!1),Qi(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==Ki){this.s=4,re(15),Qi(this.i,this.l,X,"[Invalid Chunk]"),p=!1;break}else Qi(this.i,this.l,Me,null),an(this,Me);if(Yi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_e!=4||X.length!=0||this.h.h||(this.s=1,re(16),p=!1),this.o=this.o&&p,!p)Qi(this.i,this.l,X,"[Invalid Chunked Response]"),Je(this),nn(this);else if(0<X.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),Ya(De),De.M=!0,re(11))}}else Qi(this.i,this.l,X,null),an(this,X);_e==4&&Je(this),this.o&&!this.J&&(_e==4?Ao(this.j,this):(this.o=!1,$t(this)))}else Dc(this.g),p==400&&0<X.indexOf("Unknown SID")?(this.s=3,re(12)):(this.s=0,re(13)),Je(this),nn(this)}}}catch{}finally{}};function Yi(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Xi(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Pa:(p=Number(m.substring(p,T)),isNaN(p)?Ki:(T+=1,T+p>m.length?Pa:(m=m.slice(T,T+p),u.C=T+p,m)))}kn.prototype.cancel=function(){this.J=!0,Je(this)};function $t(u){u.S=Date.now()+u.I,Ps(u,u.I)}function Ps(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Gi(B(u.ba,u),m)}function Or(u){u.B&&(g.clearTimeout(u.B),u.B=null)}kn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Bn(this.i,this.A),this.L!=2&&(ji(),re(17)),Je(this),this.s=2,nn(this)):Ps(this,this.S-u)};function nn(u){u.j.G==0||u.J||Ao(u.j,u)}function Je(u){Or(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Be(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function an(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||$i(p.h,u))){if(!u.K&&$i(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var x=T;if(x[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)qr(p),Br(p);else break t;Xs(p),re(18)}}else p.za=x[1],0<p.za-p.T&&37500>x[2]&&p.F&&p.v==0&&!p.C&&(p.C=Gi(B(p.Za,p),6e3));if(1>=ho(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else gi(p,11)}else if((u.K||p.g==u)&&qr(p),!dt(m))for(x=p.Da.g.parse(m),m=0;m<x.length;m++){let Vt=x[m];if(p.T=Vt[0],Vt=Vt[1],p.G==2)if(Vt[0]=="c"){p.K=Vt[1],p.ia=Vt[2];const De=Vt[3];De!=null&&(p.la=De,p.j.info("VER="+p.la));const _e=Vt[4];_e!=null&&(p.Aa=_e,p.j.info("SVER="+p.Aa));const pi=Vt[5];pi!=null&&typeof pi=="number"&&0<pi&&(T=1.5*pi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Me=u.g;if(Me){const Kn=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kn){var k=T.h;k.g||Kn.indexOf("spdy")==-1&&Kn.indexOf("quic")==-1&&Kn.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Zi(k,k.h),k.h=null))}if(T.D){const Zs=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;Zs&&(T.ya=Zs,Lt(T.I,T.D,Zs))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var X=u;if(T.qa=bo(T,T.J?T.ia:null,T.W),X.K){dn(T.h,X);var It=X,ye=T.L;ye&&(It.I=ye),It.B&&(Or(It),$t(It)),T.g=X}else Eo(T);0<p.i.length&&kr(p)}else Vt[0]!="stop"&&Vt[0]!="close"||gi(p,7);else p.G==3&&(Vt[0]=="stop"||Vt[0]=="close"?Vt[0]=="stop"?gi(p,7):Ks(p):Vt[0]!="noop"&&p.l&&p.l.ta(Vt),p.v=0)}}ji(4)}catch{}}var Ac=class{constructor(u,m){this.g=u,this.map=m}};function Bs(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ks(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ho(u){return u.h?1:u.g?u.g.size:0}function $i(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Zi(u,m){u.g?u.g.add(m):u.h=m}function dn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Bs.prototype.cancel=function(){if(this.i=Ke(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ke(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return nt(u.i)}function fo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function Sc(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function Ba(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=Sc(u),T=fo(u),x=T.length,k=0;k<x;k++)m.call(void 0,T[k],p&&p[k],u)}var qs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mr(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),x=null;if(0<=T){var k=u[p].substring(0,T);x=u[p].substring(T+1)}else k=u[p];m(k,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function ci(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ci){this.h=u.h,Ji(this,u.j),this.o=u.o,this.g=u.g,ka(this,u.s),this.l=u.l;var m=u.i,p=new qn;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),Nr(this,p),this.m=u.m}else u&&(m=String(u).match(qs))?(this.h=!1,Ji(this,m[1]||"",!0),this.o=Wi(m[2]||""),this.g=Wi(m[3]||"",!0),ka(this,m[4]),this.l=Wi(m[5]||"",!0),Nr(this,m[6]||"",!0),this.m=Wi(m[7]||"")):(this.h=!1,this.i=new qn(null,this.h))}ci.prototype.toString=function(){var u=[],m=this.j;m&&u.push(mn(m,Hs,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(mn(m,Hs,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(mn(p,p.charAt(0)=="/"?js:mo,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",mn(p,wc)),u.join("")};function ee(u){return new ci(u)}function Ji(u,m,p){u.j=p?Wi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ka(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Nr(u,m,p){m instanceof qn?(u.i=m,Gs(u.i,u.h)):(p||(m=mn(m,Rc)),u.i=new qn(m,u.h))}function Lt(u,m,p){u.i.set(m,p)}function qa(u){return Lt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Wi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function mn(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,bc),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function bc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Hs=/[#\/\?@]/g,mo=/[#\?:]/g,js=/[#\?]/g,Rc=/[#\?@]/g,wc=/#/g;function qn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function gn(u){u.g||(u.g=new Map,u.h=0,u.i&&Mr(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=qn.prototype,r.add=function(u,m){gn(this),this.i=null,u=di(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function Ur(u,m){gn(u),m=di(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function hi(u,m){return gn(u),m=di(u,m),u.g.has(m)}r.forEach=function(u,m){gn(this),this.g.forEach(function(p,T){p.forEach(function(x){u.call(m,x,T,this)},this)},this)},r.na=function(){gn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const x=u[T];for(let k=0;k<x.length;k++)p.push(m[T])}return p},r.V=function(u){gn(this);let m=[];if(typeof u=="string")hi(this,u)&&(m=m.concat(this.g.get(di(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},r.set=function(u,m){return gn(this),this.i=null,u=di(this,u),hi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function fi(u,m,p){Ur(u,m),0<p.length&&(u.i=null,u.g.set(di(u,m),nt(p)),u.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const k=encodeURIComponent(String(T)),X=this.V(T);for(T=0;T<X.length;T++){var x=k;X[T]!==""&&(x+="="+encodeURIComponent(String(X[T]))),u.push(x)}}return this.i=u.join("&")};function di(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Gs(u,m){m&&!u.j&&(gn(u),u.i=null,u.g.forEach(function(p,T){var x=T.toLowerCase();T!=x&&(Ur(this,T),fi(this,x,p))},u)),u.j=m}function go(u,m){const p=new Fi;if(g.Image){const T=new Image;T.onload=j(pn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=j(pn,p,"TestLoadImage: error",!1,m,T),T.onabort=j(pn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=j(pn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Ha(u,m){const p=new Fi,T=new AbortController,x=setTimeout(()=>{T.abort(),pn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(k=>{clearTimeout(x),k.ok?pn(p,"TestPingServer: ok",!0,m):pn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(x),pn(p,"TestPingServer: error",!1,m)})}function pn(u,m,p,T,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),T(p)}catch{}}function ja(){this.g=new Qe}function Hn(u,m,p){const T=p||"";try{Ba(u,function(x,k){let X=x;v(x)&&(X=Us(x)),m.push(T+k+"="+encodeURIComponent(X))})}catch(x){throw m.push(T+"type="+encodeURIComponent("_badmap")),x}}function ta(u){this.l=u.Ub||null,this.j=u.eb||!1}Z(ta,xs),ta.prototype.g=function(){return new mi(this.l,this.j)},ta.prototype.i=function(u){return function(){return u}}({});function mi(u,m){ge.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(mi,ge),r=mi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Gn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fs(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fs(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?jn(this):Gn(this),this.readyState==3&&Fs(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,jn(this))},r.Qa=function(u){this.g&&(this.response=u,jn(this))},r.ga=function(){this.g&&jn(this)};function jn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Gn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Qs(u){let m="";return Ut(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function we(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Qs(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Lt(u,m,p))}function kt(u){ge.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(kt,ge);var xr=/^https?$/i,Ga=["POST","PUT"];r=kt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():za.g(),this.v=this.o?so(this.o):so(za),this.g.onreadystatechange=B(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(k){po(this,k);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var x in T)p.set(x,T[x]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const k of T.keys())p.set(k,T.get(k));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(k=>k.toLowerCase()=="content-type"),x=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Ga,m,void 0))||T||x||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,X]of p)this.g.setRequestHeader(k,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fa(this),this.u=!0,this.g.send(u),this.u=!1}catch(k){po(this,k)}};function po(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Lr(u),Fn(u)}function Lr(u){u.A||(u.A=!0,be(u,"complete"),be(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,be(this,"complete"),be(this,"abort"),Fn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fn(this,!0)),kt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?zr(this):this.bb())},r.bb=function(){zr(this)};function zr(u){if(u.h&&typeof d<"u"&&(!u.v[1]||yn(u)!=4||u.Z()!=2)){if(u.u&&yn(u)==4)ro(u.Ea,0,u);else if(be(u,"readystatechange"),yn(u)==4){u.h=!1;try{const X=u.Z();t:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=X===0){var x=String(u.D).match(qs)[1]||null;!x&&g.self&&g.self.location&&(x=g.self.location.protocol.slice(0,-1)),T=!xr.test(x?x.toLowerCase():"")}p=T}if(p)be(u,"complete"),be(u,"success");else{u.m=6;try{var k=2<yn(u)?u.g.statusText:""}catch{k=""}u.l=k+" ["+u.Z()+"]",Lr(u)}}finally{Fn(u)}}}}function Fn(u,m){if(u.g){Fa(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||be(u,"ready");try{p.onreadystatechange=T}catch{}}}function Fa(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function yn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),zn(m)}};function yo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Dc(u){const m={};u=(u.g&&2<=yn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(dt(u[T]))continue;var p=O(u[T]);const x=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const k=m[x]||[];m[x]=k,k.push(p)}N(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qa(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Pr(u){this.Aa=0,this.i=[],this.j=new Fi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qa("baseRetryDelayMs",5e3,u),this.cb=Qa("retryDelaySeedMs",1e4,u),this.Wa=Qa("forwardChannelMaxRetries",2,u),this.wa=Qa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Bs(u&&u.concurrentRequestLimit),this.Da=new ja,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Pr.prototype,r.la=8,r.G=1,r.connect=function(u,m,p,T){re(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=bo(this,null,this.W),kr(this)};function Ks(u){if(_o(u),u.G==3){var m=u.U++,p=ee(u.I);if(Lt(p,"SID",u.K),Lt(p,"RID",m),Lt(p,"TYPE","terminate"),Ka(u,p),m=new kn(u,u.j,m),m.L=2,m.v=qa(ee(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Ro(m.j,null),m.g.ea(m.v)),m.F=Date.now(),$t(m)}So(u)}function Br(u){u.g&&(Ya(u),u.g.cancel(),u.g=null)}function _o(u){Br(u),u.u&&(g.clearTimeout(u.u),u.u=null),qr(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function kr(u){if(!ks(u.h)&&!u.s){u.s=!0;var m=u.Ga;ht||C(),lt||(ht(),lt=!0),Bt.add(m,u),u.B=0}}function Cc(u,m){return ho(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Gi(B(u.Ga,u,m),$s(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const x=new kn(this,this.j,u);let k=this.o;if(this.S&&(k?(k=R(k),D(k,this.S)):k=this.S),this.m!==null||this.O||(x.H=k,k=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=vo(this,x,m),p=ee(this.I),Lt(p,"RID",u),Lt(p,"CVER",22),this.D&&Lt(p,"X-HTTP-Session-Id",this.D),Ka(this,p),k&&(this.O?m="headers="+encodeURIComponent(String(Qs(k)))+"&"+m:this.m&&we(p,this.m,k)),Zi(this.h,x),this.Ua&&Lt(p,"TYPE","init"),this.P?(Lt(p,"$req",m),Lt(p,"SID","null"),x.T=!0,Vn(x,p,null)):Vn(x,p,m),this.G=2}}else this.G==3&&(u?Ys(this,u):this.i.length==0||ks(this.h)||Ys(this))};function Ys(u,m){var p;m?p=m.l:p=u.U++;const T=ee(u.I);Lt(T,"SID",u.K),Lt(T,"RID",p),Lt(T,"AID",u.T),Ka(u,T),u.m&&u.o&&we(T,u.m,u.o),p=new kn(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=vo(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Zi(u.h,p),Vn(p,T,m)}function Ka(u,m){u.H&&Ut(u.H,function(p,T){Lt(m,T,p)}),u.l&&Ba({},function(p,T){Lt(m,T,p)})}function vo(u,m,p){p=Math.min(u.i.length,p);var T=u.l?B(u.l.Na,u.l,u):null;t:{var x=u.i;let k=-1;for(;;){const X=["count="+p];k==-1?0<p?(k=x[0].g,X.push("ofs="+k)):k=0:X.push("ofs="+k);let It=!0;for(let ye=0;ye<p;ye++){let Vt=x[ye].g;const De=x[ye].map;if(Vt-=k,0>Vt)k=Math.max(0,x[ye].g-100),It=!1;else try{Hn(De,X,"req"+Vt+"_")}catch{T&&T(De)}}if(It){T=X.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function Eo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;ht||C(),lt||(ht(),lt=!0),Bt.add(m,u),u.v=0}}function Xs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Gi(B(u.Fa,u),$s(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,To(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Gi(B(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,re(10),Br(this),To(this))};function Ya(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function To(u){u.g=new kn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ee(u.qa);Lt(m,"RID","rpc"),Lt(m,"SID",u.K),Lt(m,"AID",u.T),Lt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Lt(m,"TO",u.ja),Lt(m,"TYPE","xmlhttp"),Ka(u,m),u.m&&u.o&&we(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=qa(ee(m)),p.m=null,p.P=!0,ui(p,u)}r.Za=function(){this.C!=null&&(this.C=null,Br(this),Xs(this),re(19))};function qr(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Ao(u,m){var p=null;if(u.g==m){qr(u),Ya(u),u.g=null;var T=2}else if($i(u.h,m))p=m.D,dn(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var x=u.B;T=Cr(),be(T,new oo(T,p)),kr(u)}else Eo(u);else if(x=m.s,x==3||x==0&&0<m.X||!(T==1&&Cc(u,m)||T==2&&Xs(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),x){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function $s(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var p=B(u.fb,u),T=u.Xa;const x=!T;T=new ci(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Ji(T,"https"),qa(T),x?go(T.toString(),p):Ha(T.toString(),p)}else re(2);u.G=0,u.l&&u.l.sa(m),So(u),_o(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),re(2)):(this.j.info("Failed to ping google.com"),re(1))};function So(u){if(u.G=0,u.ka=[],u.l){const m=Ke(u.h);(m.length!=0||u.i.length!=0)&&($(u.ka,m),$(u.ka,u.i),u.h.i.length=0,nt(u.i),u.i.length=0),u.l.ra()}}function bo(u,m,p){var T=p instanceof ci?ee(p):new ci(p);if(T.g!="")m&&(T.g=m+"."+T.g),ka(T,T.s);else{var x=g.location;T=x.protocol,m=m?m+"."+x.hostname:x.hostname,x=+x.port;var k=new ci(null);T&&Ji(k,T),m&&(k.g=m),x&&ka(k,x),p&&(k.l=p),T=k}return p=u.D,m=u.ya,p&&m&&Lt(T,p,m),Lt(T,"VER",u.la),Ka(u,T),T}function Ro(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new kt(new ta({eb:p})):new kt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function wo(){}r=wo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Hr(){}Hr.prototype.g=function(u,m){return new Ye(u,m)};function Ye(u,m){ge.call(this),this.g=new Pr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!dt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!dt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Qn(this)}Z(Ye,ge),Ye.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ye.prototype.close=function(){Ks(this.g)},Ye.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Us(u),u=p);m.i.push(new Ac(m.Ya++,u)),m.G==3&&kr(m)},Ye.prototype.N=function(){this.g.l=null,delete this.j,Ks(this.g),delete this.g,Ye.aa.N.call(this)};function Do(u){qi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Z(Do,qi);function Co(){In.call(this),this.status=1}Z(Co,In);function Qn(u){this.g=u}Z(Qn,wo),Qn.prototype.ua=function(){be(this.g,"a")},Qn.prototype.ta=function(u){be(this.g,new Do(u))},Qn.prototype.sa=function(u){be(this.g,new Co)},Qn.prototype.ra=function(){be(this.g,"b")},Hr.prototype.createWebChannel=Hr.prototype.g,Ye.prototype.send=Ye.prototype.o,Ye.prototype.open=Ye.prototype.m,Ye.prototype.close=Ye.prototype.close,V_=function(){return new Hr},I_=function(){return Cr()},C_=fn,qf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pe.NO_ERROR=0,pe.TIMEOUT=8,pe.HTTP_ERROR=6,Nu=pe,oi.COMPLETE="complete",D_=oi,lo.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",ge.prototype.listen=ge.prototype.K,Pl=lo,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,w_=kt}).apply(typeof wu<"u"?wu:typeof self<"u"?self:typeof window<"u"?window:{});const cy="@firebase/firestore",hy="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}je.UNAUTHENTICATED=new je(null),je.GOOGLE_CREDENTIALS=new je("google-credentials-uid"),je.FIRST_PARTY=new je("first-party-uid"),je.MOCK_USER=new je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ds="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=new rd("@firebase/firestore");function gs(){return yr.logLevel}function et(r,...e){if(yr.logLevel<=Nt.DEBUG){const i=e.map(ld);yr.debug(`Firestore (${Ds}): ${r}`,...i)}}function Li(r,...e){if(yr.logLevel<=Nt.ERROR){const i=e.map(ld);yr.error(`Firestore (${Ds}): ${r}`,...i)}}function Es(r,...e){if(yr.logLevel<=Nt.WARN){const i=e.map(ld);yr.warn(`Firestore (${Ds}): ${r}`,...i)}}function ld(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(r="Unexpected state"){const e=`FIRESTORE (${Ds}) INTERNAL ASSERTION FAILED: `+r;throw Li(e),new Error(e)}function qt(r,e){r||ft()}function pt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends Ua{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(je.UNAUTHENTICATED))}shutdown(){}}class zA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class PA{constructor(e){this.t=e,this.currentUser=je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0);let s=this.i;const o=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let h=new Ra;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ra,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await o(this.currentUser)})},g=_=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ra)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string"),new O_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string"),new je(e)}}class BA{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=je.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class kA{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new BA(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qA{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,AA(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0);const s=h=>{h.error!=null&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,et("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const o=h=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?o(h):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new fy(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(qt(typeof i.token=="string"),this.R=i.token,new fy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=HA(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function Ct(r,e){return r<e?-1:r>e?1:0}function Ts(r,e,i){return r.length===e.length&&r.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy=-62135596800,my=1e6;class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(e){return Ae.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*my);return new Ae(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ot(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<dy)throw new ot(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/my}_compareTo(e){return this.seconds===e.seconds?Ct(this.nanoseconds,e.nanoseconds):Ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-dy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{static fromTimestamp(e){return new mt(e)}static min(){return new mt(new Ae(0,0))}static max(){return new mt(new Ae(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="__name__";class Wn{constructor(e,i,s){i===void 0?i=0:i>e.length&&ft(),s===void 0?s=e.length-i:s>e.length-i&&ft(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Wn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Wn?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=Wn.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Math.sign(e.length-i.length)}static compareSegments(e,i){const s=Wn.isNumericId(e),o=Wn.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Wn.extractNumericId(e).compare(Wn.extractNumericId(i)):e<i?-1:e>i?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ba.fromString(e.substring(4,e.length-2))}}class Xt extends Wn{construct(e,i,s){return new Xt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ot(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new Xt(i)}static emptyPath(){return new Xt([])}}const jA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ze extends Wn{construct(e,i,s){return new ze(e,i,s)}static isValidIdentifier(e){return jA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gy}static keyField(){return new ze([gy])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new ot(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ot(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ot(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(h(),o++)}if(h(),d)throw new ot(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ze(i)}static emptyPath(){return new ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.path=e}static fromPath(e){return new ut(Xt.fromString(e))}static fromName(e){return new ut(Xt.fromString(e).popFirst(5))}static empty(){return new ut(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Xt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new Xt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=-1;function GA(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=mt.fromTimestamp(s===1e9?new Ae(i+1,0):new Ae(i,s));return new Ca(o,ut.empty(),e)}function FA(r){return new Ca(r.readTime,r.key,Kl)}class Ca{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Ca(mt.min(),ut.empty(),Kl)}static max(){return new Ca(mt.max(),ut.empty(),Kl)}}function QA(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ut.comparator(r.documentKey,e.documentKey),i!==0?i:Ct(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cs(r){if(r.code!==K.FAILED_PRECONDITION||r.message!==KA)throw r;et("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new F((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof F?i:F.resolve(i)}catch(i){return F.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):F.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):F.reject(i)}static resolve(e){return new F((i,s)=>{i(e)})}static reject(e){return new F((i,s)=>{s(e)})}static waitFor(e){return new F((i,s)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},_=>s(_))}),d=!0,h===o&&i()})}static or(e){let i=F.resolve(!1);for(const s of e)i=i.next(o=>o?F.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,h)=>{s.push(i.call(this,o,h))}),this.waitFor(s)}static mapArray(e,i){return new F((s,o)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(b=>{d[v]=b,++g,g===h&&s(d)},b=>o(b))}})}static doWhile(e,i){return new F((s,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):s()};h()})}}function XA(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Is(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ac.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od=-1;function rc(r){return r==null}function Hu(r){return r===0&&1/r==-1/0}function $A(r){return typeof r=="number"&&Number.isInteger(r)&&!Hu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="";function ZA(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=py(e)),e=JA(r.get(i),e);return py(e)}function JA(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case N_:i+="";break;default:i+=h}}return i}function py(r){return r+N_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Tr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function U_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,i){this.comparator=e,this.root=i||Le.EMPTY}insert(e,i){return new Wt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Le.BLACK,null,null))}remove(e){return new Wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Le.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Du(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Du(this.root,e,this.comparator,!1)}getReverseIterator(){return new Du(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Du(this.root,e,this.comparator,!0)}}class Du{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Le{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??Le.RED,this.left=o??Le.EMPTY,this.right=h??Le.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new Le(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Le.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Le.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const e=this.left.check();if(e!==this.right.check())throw ft();return e+(this.isRed()?0:1)}}Le.EMPTY=null,Le.RED=!0,Le.BLACK=!1;Le.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(e,i,s,o,h){return this}insert(e,i,s){return new Le(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.comparator=e,this.data=new Wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new _y(this.data.getIterator())}getIteratorFrom(e){return new _y(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof Se)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Se(this.comparator);return i.data=e,i}}class _y{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(ze.comparator)}static empty(){return new xn([])}unionWith(e){let i=new Se(ze.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new xn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ts(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new x_("Invalid base64 string: "+h):h}}(e);return new Pe(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new Pe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pe.EMPTY_BYTE_STRING=new Pe("");const WA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ia(r){if(qt(!!r),typeof r=="string"){let e=0;const i=WA.exec(r);if(qt(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:le(r.seconds),nanos:le(r.nanos)}}function le(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Va(r){return typeof r=="string"?Pe.fromBase64String(r):Pe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="server_timestamp",z_="__type__",P_="__previous_value__",B_="__local_write_time__";function ud(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[z_])===null||i===void 0?void 0:i.stringValue)===L_}function sc(r){const e=r.mapValue.fields[P_];return ud(e)?sc(e):e}function Yl(r){const e=Ia(r.mapValue.fields[B_].timestampValue);return new Ae(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,i,s,o,h,d,g,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v}}const ju="(default)";class Xl{constructor(e,i){this.projectId=e,this.database=i||ju}static empty(){return new Xl("","")}get isDefaultDatabase(){return this.database===ju}isEqual(e){return e instanceof Xl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="__type__",eS="__max__",Cu={mapValue:{}},q_="__vector__",Gu="value";function Oa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ud(r)?4:iS(r)?9007199254740991:nS(r)?10:11:ft()}function ii(r,e){if(r===e)return!0;const i=Oa(r);if(i!==Oa(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Yl(r).isEqual(Yl(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Ia(o.timestampValue),g=Ia(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,h){return Va(o.bytesValue).isEqual(Va(h.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,h){return le(o.geoPointValue.latitude)===le(h.geoPointValue.latitude)&&le(o.geoPointValue.longitude)===le(h.geoPointValue.longitude)}(r,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return le(o.integerValue)===le(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=le(o.doubleValue),g=le(h.doubleValue);return d===g?Hu(d)===Hu(g):isNaN(d)&&isNaN(g)}return!1}(r,e);case 9:return Ts(r.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(yy(d)!==yy(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ii(d[_],g[_])))return!1;return!0}(r,e);default:return ft()}}function $l(r,e){return(r.values||[]).find(i=>ii(i,e))!==void 0}function As(r,e){if(r===e)return 0;const i=Oa(r),s=Oa(e);if(i!==s)return Ct(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ct(r.booleanValue,e.booleanValue);case 2:return function(h,d){const g=le(h.integerValue||h.doubleValue),_=le(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(r,e);case 3:return vy(r.timestampValue,e.timestampValue);case 4:return vy(Yl(r),Yl(e));case 5:return Ct(r.stringValue,e.stringValue);case 6:return function(h,d){const g=Va(h),_=Va(d);return g.compareTo(_)}(r.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const b=Ct(g[v],_[v]);if(b!==0)return b}return Ct(g.length,_.length)}(r.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Ct(le(h.latitude),le(d.latitude));return g!==0?g:Ct(le(h.longitude),le(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Ey(r.arrayValue,e.arrayValue);case 10:return function(h,d){var g,_,v,b;const M=h.fields||{},B=d.fields||{},j=(g=M[Gu])===null||g===void 0?void 0:g.arrayValue,Z=(_=B[Gu])===null||_===void 0?void 0:_.arrayValue,nt=Ct(((v=j==null?void 0:j.values)===null||v===void 0?void 0:v.length)||0,((b=Z==null?void 0:Z.values)===null||b===void 0?void 0:b.length)||0);return nt!==0?nt:Ey(j,Z)}(r.mapValue,e.mapValue);case 11:return function(h,d){if(h===Cu.mapValue&&d===Cu.mapValue)return 0;if(h===Cu.mapValue)return 1;if(d===Cu.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},b=Object.keys(v);_.sort(),b.sort();for(let M=0;M<_.length&&M<b.length;++M){const B=Ct(_[M],b[M]);if(B!==0)return B;const j=As(g[_[M]],v[b[M]]);if(j!==0)return j}return Ct(_.length,b.length)}(r.mapValue,e.mapValue);default:throw ft()}}function vy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ct(r,e);const i=Ia(r),s=Ia(e),o=Ct(i.seconds,s.seconds);return o!==0?o:Ct(i.nanos,s.nanos)}function Ey(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=As(i[o],s[o]);if(h)return h}return Ct(i.length,s.length)}function Ss(r){return Hf(r)}function Hf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=Ia(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Va(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return ut.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=Hf(h);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${Hf(i.fields[d])}`;return o+"}"}(r.mapValue):ft()}function Uu(r){switch(Oa(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sc(r);return e?16+Uu(e):16;case 5:return 2*r.stringValue.length;case 6:return Va(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,h)=>o+Uu(h),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Tr(s.fields,(h,d)=>{o+=h.length+Uu(d)}),o}(r.mapValue);default:throw ft()}}function jf(r){return!!r&&"integerValue"in r}function cd(r){return!!r&&"arrayValue"in r}function Ty(r){return!!r&&"nullValue"in r}function Ay(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function xu(r){return!!r&&"mapValue"in r}function nS(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[k_])===null||i===void 0?void 0:i.stringValue)===q_}function ql(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Tr(r.mapValue.fields,(i,s)=>e.mapValue.fields[i]=ql(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=ql(r.arrayValue.values[i]);return e}return Object.assign({},r)}function iS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===eS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!xu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=ql(i)}setAll(e){let i=ze.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=ql(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());xu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];xu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Tr(i,(o,h)=>e[o]=h);for(const o of s)delete e[o]}clone(){return new Cn(ql(this.value))}}function H_(r){const e=[];return Tr(r.fields,(i,s)=>{const o=new ze([i]);if(xu(s)){const h=H_(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,i,s,o,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ge(e,0,mt.min(),mt.min(),mt.min(),Cn.empty(),0)}static newFoundDocument(e,i,s,o){return new Ge(e,1,i,mt.min(),s,o,0)}static newNoDocument(e,i){return new Ge(e,2,i,mt.min(),mt.min(),Cn.empty(),0)}static newUnknownDocument(e,i){return new Ge(e,3,i,mt.min(),mt.min(),Cn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ge&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ge(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,i){this.position=e,this.inclusive=i}}function Sy(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const h=e[o],d=r.position[o];if(h.field.isKeyField()?s=ut.comparator(ut.fromName(d.referenceValue),i.key):s=As(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function by(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ii(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,i="asc"){this.field=e,this.dir=i}}function aS(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{}class Te extends j_{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new sS(e,i,s):i==="array-contains"?new uS(e,s):i==="in"?new cS(e,s):i==="not-in"?new hS(e,s):i==="array-contains-any"?new fS(e,s):new Te(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new lS(e,s):new oS(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(As(i,this.value)):i!==null&&Oa(this.value)===Oa(i)&&this.matchesComparison(As(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends j_{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new ai(e,i)}matches(e){return G_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function G_(r){return r.op==="and"}function F_(r){return rS(r)&&G_(r)}function rS(r){for(const e of r.filters)if(e instanceof ai)return!1;return!0}function Gf(r){if(r instanceof Te)return r.field.canonicalString()+r.op.toString()+Ss(r.value);if(F_(r))return r.filters.map(e=>Gf(e)).join(",");{const e=r.filters.map(i=>Gf(i)).join(",");return`${r.op}(${e})`}}function Q_(r,e){return r instanceof Te?function(s,o){return o instanceof Te&&s.op===o.op&&s.field.isEqual(o.field)&&ii(s.value,o.value)}(r,e):r instanceof ai?function(s,o){return o instanceof ai&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((h,d,g)=>h&&Q_(d,o.filters[g]),!0):!1}(r,e):void ft()}function K_(r){return r instanceof Te?function(i){return`${i.field.canonicalString()} ${i.op} ${Ss(i.value)}`}(r):r instanceof ai?function(i){return i.op.toString()+" {"+i.getFilters().map(K_).join(" ,")+"}"}(r):"Filter"}class sS extends Te{constructor(e,i,s){super(e,i,s),this.key=ut.fromName(s.referenceValue)}matches(e){const i=ut.comparator(e.key,this.key);return this.matchesComparison(i)}}class lS extends Te{constructor(e,i){super(e,"in",i),this.keys=Y_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class oS extends Te{constructor(e,i){super(e,"not-in",i),this.keys=Y_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Y_(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>ut.fromName(s.referenceValue))}class uS extends Te{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return cd(i)&&$l(i.arrayValue,this.value)}}class cS extends Te{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&$l(this.value.arrayValue,i)}}class hS extends Te{constructor(e,i){super(e,"not-in",i)}matches(e){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!$l(this.value.arrayValue,i)}}class fS extends Te{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!cd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>$l(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,i=null,s=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.le=null}}function Ry(r,e=null,i=[],s=[],o=null,h=null,d=null){return new dS(r,e,i,s,o,h,d)}function hd(r){const e=pt(r);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>Gf(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),rc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Ss(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Ss(s)).join(",")),e.le=i}return e.le}function fd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!aS(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Q_(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!by(r.startAt,e.startAt)&&by(r.endAt,e.endAt)}function Ff(r){return ut.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,i=null,s=[],o=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function mS(r,e,i,s,o,h,d,g){return new lc(r,e,i,s,o,h,d,g)}function X_(r){return new lc(r)}function wy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function gS(r){return r.collectionGroup!==null}function Hl(r){const e=pt(r);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Se(ze.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new Qu(h,s))}),i.has(ze.keyField().canonicalString())||e.he.push(new Qu(ze.keyField(),s))}return e.he}function ei(r){const e=pt(r);return e.Pe||(e.Pe=pS(e,Hl(r))),e.Pe}function pS(r,e){if(r.limitType==="F")return Ry(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new Qu(o.field,h)});const i=r.endAt?new Fu(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Fu(r.startAt.position,r.startAt.inclusive):null;return Ry(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Qf(r,e,i){return new lc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function oc(r,e){return fd(ei(r),ei(e))&&r.limitType===e.limitType}function $_(r){return`${hd(ei(r))}|lt:${r.limitType}`}function ps(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>K_(o)).join(", ")}]`),rc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Ss(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Ss(o)).join(",")),`Target(${s})`}(ei(r))}; limitType=${r.limitType})`}function uc(r,e){return e.isFoundDocument()&&function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):ut.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(r,e)&&function(s,o){for(const h of Hl(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(d,g,_){const v=Sy(d,g,_);return d.inclusive?v<=0:v<0}(s.startAt,Hl(s),o)||s.endAt&&!function(d,g,_){const v=Sy(d,g,_);return d.inclusive?v>=0:v>0}(s.endAt,Hl(s),o))}(r,e)}function yS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Z_(r){return(e,i)=>{let s=!1;for(const o of Hl(r)){const h=_S(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function _S(r,e,i){const s=r.field.isKeyField()?ut.comparator(e.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?As(_,v):ft()}(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ft()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Tr(this.inner,(i,s)=>{for(const[o,h]of s)e(o,h)})}isEmpty(){return U_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=new Wt(ut.comparator);function zi(){return vS}const J_=new Wt(ut.comparator);function Bl(...r){let e=J_;for(const i of r)e=e.insert(i.key,i);return e}function W_(r){let e=J_;return r.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function mr(){return jl()}function tv(){return jl()}function jl(){return new Ar(r=>r.toString(),(r,e)=>r.isEqual(e))}const ES=new Wt(ut.comparator),TS=new Se(ut.comparator);function wt(...r){let e=TS;for(const i of r)e=e.add(i);return e}const AS=new Se(Ct);function SS(){return AS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hu(e)?"-0":e}}function ev(r){return{integerValue:""+r}}function bS(r,e){return $A(e)?ev(e):dd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(){this._=void 0}}function RS(r,e,i){return r instanceof Ku?function(o,h){const d={fields:{[z_]:{stringValue:L_},[B_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&ud(h)&&(h=sc(h)),h&&(d.fields[P_]=h),{mapValue:d}}(i,e):r instanceof Zl?iv(r,e):r instanceof Jl?av(r,e):function(o,h){const d=nv(o,h),g=Dy(d)+Dy(o.Ie);return jf(d)&&jf(o.Ie)?ev(g):dd(o.serializer,g)}(r,e)}function wS(r,e,i){return r instanceof Zl?iv(r,e):r instanceof Jl?av(r,e):i}function nv(r,e){return r instanceof Yu?function(s){return jf(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class Ku extends cc{}class Zl extends cc{constructor(e){super(),this.elements=e}}function iv(r,e){const i=rv(e);for(const s of r.elements)i.some(o=>ii(o,s))||i.push(s);return{arrayValue:{values:i}}}class Jl extends cc{constructor(e){super(),this.elements=e}}function av(r,e){let i=rv(e);for(const s of r.elements)i=i.filter(o=>!ii(o,s));return{arrayValue:{values:i}}}class Yu extends cc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function Dy(r){return le(r.integerValue||r.doubleValue)}function rv(r){return cd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function DS(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Zl&&o instanceof Zl||s instanceof Jl&&o instanceof Jl?Ts(s.elements,o.elements,ii):s instanceof Yu&&o instanceof Yu?ii(s.Ie,o.Ie):s instanceof Ku&&o instanceof Ku}(r.transform,e.transform)}class CS{constructor(e,i){this.version=e,this.transformResults=i}}class Ni{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ni}static exists(e){return new Ni(void 0,e)}static updateTime(e){return new Ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class hc{}function sv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new ov(r.key,Ni.none()):new to(r.key,r.data,Ni.none());{const i=r.data,s=Cn.empty();let o=new Se(ze.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new Sr(r.key,s,new xn(o.toArray()),Ni.none())}}function IS(r,e,i){r instanceof to?function(o,h,d){const g=o.value.clone(),_=Iy(o.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,e,i):r instanceof Sr?function(o,h,d){if(!Lu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=Iy(o.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(lv(o)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(r,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Gl(r,e,i,s){return r instanceof to?function(h,d,g,_){if(!Lu(h.precondition,d))return g;const v=h.value.clone(),b=Vy(h.fieldTransforms,_,d);return v.setAll(b),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(r,e,i,s):r instanceof Sr?function(h,d,g,_){if(!Lu(h.precondition,d))return g;const v=Vy(h.fieldTransforms,_,d),b=d.data;return b.setAll(lv(h)),b.setAll(v),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(M=>M.field))}(r,e,i,s):function(h,d,g){return Lu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,e,i)}function VS(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),h=nv(s.transform,o||null);h!=null&&(i===null&&(i=Cn.empty()),i.set(s.field,h))}return i||null}function Cy(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ts(s,o,(h,d)=>DS(h,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class to extends hc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Sr extends hc{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function lv(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}}),e}function Iy(r,e,i){const s=new Map;qt(r.length===i.length);for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,g=e.data.field(h.field);s.set(h.field,wS(d,g,i[o]))}return s}function Vy(r,e,i){const s=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);s.set(o.field,RS(h,d,e))}return s}class ov extends hc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OS extends hc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&IS(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Gl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Gl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=tv();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const _=sv(d,g);_!==null&&s.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(mt.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),wt())}isEqual(e){return this.batchId===e.batchId&&Ts(this.mutations,e.mutations,(i,s)=>Cy(i,s))&&Ts(this.baseMutations,e.baseMutations,(i,s)=>Cy(i,s))}}class md{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){qt(e.mutations.length===s.length);let o=function(){return ES}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new md(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de,Mt;function xS(r){switch(r){case K.OK:return ft();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return ft()}}function uv(r){if(r===void 0)return Li("GRPC error has no .code"),K.UNKNOWN;switch(r){case de.OK:return K.OK;case de.CANCELLED:return K.CANCELLED;case de.UNKNOWN:return K.UNKNOWN;case de.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case de.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case de.INTERNAL:return K.INTERNAL;case de.UNAVAILABLE:return K.UNAVAILABLE;case de.UNAUTHENTICATED:return K.UNAUTHENTICATED;case de.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case de.NOT_FOUND:return K.NOT_FOUND;case de.ALREADY_EXISTS:return K.ALREADY_EXISTS;case de.PERMISSION_DENIED:return K.PERMISSION_DENIED;case de.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case de.ABORTED:return K.ABORTED;case de.OUT_OF_RANGE:return K.OUT_OF_RANGE;case de.UNIMPLEMENTED:return K.UNIMPLEMENTED;case de.DATA_LOSS:return K.DATA_LOSS;default:return ft()}}(Mt=de||(de={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=new ba([4294967295,4294967295],0);function Oy(r){const e=LS().encode(r),i=new R_;return i.update(e),new Uint8Array(i.digest())}function My(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new ba([i,s],0),new ba([o,h],0)]}class gd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new kl(`Invalid padding: ${i}`);if(s<0)throw new kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new kl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=ba.fromNumber(this.Ee)}Ae(e,i,s){let o=e.add(i.multiply(ba.fromNumber(s)));return o.compare(zS)===1&&(o=new ba([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=Oy(e),[s,o]=My(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(s,o,h);if(!this.Re(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new gd(h,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const i=Oy(e),[s,o]=My(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(s,o,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,eo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new fc(mt.min(),o,new Wt(Ct),zi(),wt())}}class eo{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new eo(s,i,wt(),wt(),wt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,i,s,o){this.me=e,this.removedTargetIds=i,this.key=s,this.fe=o}}class cv{constructor(e,i){this.targetId=e,this.ge=i}}class hv{constructor(e,i,s=Pe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class Ny{constructor(){this.pe=0,this.ye=Uy(),this.we=Pe.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=wt(),i=wt(),s=wt();return this.ye.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:ft()}}),new eo(this.we,this.Se,e,i,s)}Me(){this.be=!1,this.ye=Uy()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,qt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class PS{constructor(e){this.ke=e,this.qe=new Map,this.Qe=zi(),this.$e=Iu(),this.Ke=Iu(),this.Ue=new Wt(Ct)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const s=this.He(i);switch(e.state){case 0:this.Je(i)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(e.resumeToken));break;default:ft()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((s,o)=>{this.Je(o)&&i(o)})}Ze(e){const i=e.targetId,s=e.ge.count,o=this.Xe(i);if(o){const h=o.target;if(Ff(h))if(s===0){const d=new ut(h.path);this.ze(i,d,Ge.newNoDocument(d,mt.min()))}else qt(s===1);else{const d=this.et(i);if(d!==s){const g=this.tt(e),_=g?this.nt(g,e,d):1;if(_!==0){this.Ye(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,v)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Va(s).toUint8Array()}catch(_){if(_ instanceof x_)return Es("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new gd(d,o,h)}catch(_){return Es(_ instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.Ee===0?null:g}nt(e,i,s){return i.ge.count===s-this.st(e,i.targetId)?0:2}st(e,i){const s=this.ke.getRemoteKeysForTarget(i);let o=0;return s.forEach(h=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.ze(i,h,null),o++)}),o}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const g=this.Xe(d);if(g){if(h.current&&Ff(g.target)){const _=new ut(g.target.path);this._t(_).has(d)||this.ut(d,_)||this.ze(d,_,Ge.newNoDocument(_,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let s=wt();this.Ke.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this.Xe(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const o=new fc(e,i,this.Ue,this.Qe,s);return this.Qe=zi(),this.$e=Iu(),this.Ke=Iu(),this.Ue=new Wt(Ct),o}Ge(e,i){if(!this.Je(e))return;const s=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ke=this.Ke.insert(i.key,this.ct(i.key).add(e))}ze(e,i,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,i)?o.xe(i,1):o.Oe(i),this.Ke=this.Ke.insert(i,this.ct(i).delete(e)),this.Ke=this.Ke.insert(i,this.ct(i).add(e)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new Ny,this.qe.set(e,i)),i}ct(e){let i=this.Ke.get(e);return i||(i=new Se(Ct),this.Ke=this.Ke.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new Se(Ct),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||et("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Ny),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Iu(){return new Wt(ut.comparator)}function Uy(){return new Wt(ut.comparator)}const BS={asc:"ASCENDING",desc:"DESCENDING"},kS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qS={and:"AND",or:"OR"};class HS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Kf(r,e){return r.useProto3Json||rc(e)?e:{value:e}}function Xu(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function jS(r,e){return Xu(r,e.toTimestamp())}function ni(r){return qt(!!r),mt.fromTimestamp(function(i){const s=Ia(i);return new Ae(s.seconds,s.nanos)}(r))}function pd(r,e){return Yf(r,e).canonicalString()}function Yf(r,e){const i=function(o){return new Xt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?i:i.child(e)}function dv(r){const e=Xt.fromString(r);return qt(_v(e)),e}function Xf(r,e){return pd(r.databaseId,e.path)}function If(r,e){const i=dv(e);if(i.get(1)!==r.databaseId.projectId)throw new ot(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ot(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ut(gv(i))}function mv(r,e){return pd(r.databaseId,e)}function GS(r){const e=dv(r);return e.length===4?Xt.emptyPath():gv(e)}function $f(r){return new Xt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function gv(r){return qt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function xy(r,e,i){return{name:Xf(r,e),fields:i.value.mapValue.fields}}function FS(r,e){let i;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ft()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(v,b){return v.useProto3Json?(qt(b===void 0||typeof b=="string"),Pe.fromBase64String(b||"")):(qt(b===void 0||b instanceof Buffer||b instanceof Uint8Array),Pe.fromUint8Array(b||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const b=v.code===void 0?K.UNKNOWN:uv(v.code);return new ot(b,v.message||"")}(d);i=new hv(s,o,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=If(r,s.document.name),h=ni(s.document.updateTime),d=s.document.createTime?ni(s.document.createTime):mt.min(),g=new Cn({mapValue:{fields:s.document.fields}}),_=Ge.newFoundDocument(o,h,d,g),v=s.targetIds||[],b=s.removedTargetIds||[];i=new zu(v,b,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=If(r,s.document),h=s.readTime?ni(s.readTime):mt.min(),d=Ge.newNoDocument(o,h),g=s.removedTargetIds||[];i=new zu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=If(r,s.document),h=s.removedTargetIds||[];i=new zu([],h,o,null)}else{if(!("filter"in e))return ft();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new US(o,h),g=s.targetId;i=new cv(g,d)}}return i}function QS(r,e){let i;if(e instanceof to)i={update:xy(r,e.key,e.value)};else if(e instanceof ov)i={delete:Xf(r,e.key)};else if(e instanceof Sr)i={update:xy(r,e.key,e.data),updateMask:eb(e.fieldMask)};else{if(!(e instanceof OS))return ft();i={verify:Xf(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const g=d.transform;if(g instanceof Ku)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Zl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Jl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Yu)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw ft()}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:jS(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:ft()}(r,e.precondition)),i}function KS(r,e){return r&&r.length>0?(qt(e!==void 0),r.map(i=>function(o,h){let d=o.updateTime?ni(o.updateTime):ni(h);return d.isEqual(mt.min())&&(d=ni(h)),new CS(d,o.transformResults||[])}(i,e))):[]}function YS(r,e){return{documents:[mv(r,e.path)]}}function XS(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=mv(r,o);const h=function(v){if(v.length!==0)return yv(ai.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(b=>function(B){return{field:ys(B.field),direction:JS(B.dir)}}(b))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Kf(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ht:i,parent:o}}function $S(r){let e=GS(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){qt(s===1);const b=i.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let h=[];i.where&&(h=function(M){const B=pv(M);return B instanceof ai&&F_(B)?B.getFilters():[B]}(i.where));let d=[];i.orderBy&&(d=function(M){return M.map(B=>function(Z){return new Qu(_s(Z.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(B))}(i.orderBy));let g=null;i.limit&&(g=function(M){let B;return B=typeof M=="object"?M.value:M,rc(B)?null:B}(i.limit));let _=null;i.startAt&&(_=function(M){const B=!!M.before,j=M.values||[];return new Fu(j,B)}(i.startAt));let v=null;return i.endAt&&(v=function(M){const B=!M.before,j=M.values||[];return new Fu(j,B)}(i.endAt)),mS(e,o,d,h,g,"F",_,v)}function ZS(r,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function pv(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=_s(i.unaryFilter.field);return Te.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=_s(i.unaryFilter.field);return Te.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=_s(i.unaryFilter.field);return Te.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=_s(i.unaryFilter.field);return Te.create(d,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}(r):r.fieldFilter!==void 0?function(i){return Te.create(_s(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return ai.create(i.compositeFilter.filters.map(s=>pv(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ft()}}(i.compositeFilter.op))}(r):ft()}function JS(r){return BS[r]}function WS(r){return kS[r]}function tb(r){return qS[r]}function ys(r){return{fieldPath:r.canonicalString()}}function _s(r){return ze.fromServerFormat(r.fieldPath)}function yv(r){return r instanceof Te?function(i){if(i.op==="=="){if(Ay(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NAN"}};if(Ty(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Ay(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NOT_NAN"}};if(Ty(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ys(i.field),op:WS(i.op),value:i.value}}}(r):r instanceof ai?function(i){const s=i.getFilters().map(o=>yv(o));return s.length===1?s[0]:{compositeFilter:{op:tb(i.op),filters:s}}}(r):ft()}function eb(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function _v(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,i,s,o,h=mt.min(),d=mt.min(),g=Pe.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new Ta(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ta(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e){this.Tt=e}}function ib(r){const e=$S({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Qf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(){this.Tn=new rb}addToCollectionParentIndex(e,i){return this.Tn.add(i),F.resolve()}getCollectionParents(e,i){return F.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return F.resolve()}deleteFieldIndex(e,i){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,i){return F.resolve()}getDocumentsMatchingTarget(e,i){return F.resolve(null)}getIndexType(e,i){return F.resolve(0)}getFieldIndexes(e,i){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,i){return F.resolve(Ca.min())}getMinOffsetFromCollectionGroup(e,i){return F.resolve(Ca.min())}updateCollectionGroup(e,i,s){return F.resolve()}updateIndexEntries(e,i){return F.resolve()}}class rb{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Se(Xt.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Se(Xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vv=41943040;class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(vv,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new bs(0)}static Un(){return new bs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="LruGarbageCollector",sb=1048576;function Py([r,e],[i,s]){const o=Ct(r,i);return o===0?Ct(e,s):o}class lb{constructor(e){this.Hn=e,this.buffer=new Se(Py),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Py(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class ob{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){et(zy,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Is(i)?et(zy,"Ignoring IndexedDB error during garbage collection: ",i):await Cs(i)}await this.er(3e5)})}}class ub{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return F.resolve(ac.ae);const s=new lb(i);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.tr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(et("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(Ly)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(et("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ly):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let s,o,h,d,g,_,v;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),o=this.params.maximumSequenceNumbersToCollect):o=M,d=Date.now(),this.nthSequenceNumber(e,o))).next(M=>(s=M,g=Date.now(),this.removeTargets(e,s,i))).next(M=>(h=M,_=Date.now(),this.removeOrphanedDocuments(e,s))).next(M=>(v=Date.now(),gs()<=Nt.DEBUG&&et("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${M} documents in `+(v-_)+`ms
Total Duration: ${v-b}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:M})))}}function cb(r,e){return new ub(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(){this.changes=new Ar(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ge.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?F.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&Gl(s.mutation,o,xn.empty(),Ae.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,wt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=wt()){const o=mr();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(h=>{let d=Bl();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=mr();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,wt()))}populateOverlays(e,i,s){const o=[];return s.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let h=zi();const d=jl(),g=function(){return jl()}();return i.forEach((_,v)=>{const b=s.get(v.key);o.has(v.key)&&(b===void 0||b.mutation instanceof Sr)?h=h.insert(v.key,v):b!==void 0?(d.set(v.key,b.mutation.getFieldMask()),Gl(b.mutation,v,b.mutation.getFieldMask(),Ae.now())):d.set(v.key,xn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,b)=>d.set(v,b)),i.forEach((v,b)=>{var M;return g.set(v,new fb(b,(M=d.get(v))!==null&&M!==void 0?M:null))}),g))}recalculateAndSaveOverlays(e,i){const s=jl();let o=new Wt((d,g)=>d-g),h=wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let b=s.get(_)||xn.empty();b=g.applyToLocalView(v,b),s.set(_,b);const M=(o.get(g.batchId)||wt()).add(_);o=o.insert(g.batchId,M)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,b=_.value,M=tv();b.forEach(B=>{if(!h.has(B)){const j=sv(i.get(B),s.get(B));j!==null&&M.set(B,j),h=h.add(B)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,M))}return F.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):gS(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):F.resolve(mr());let g=Kl,_=h;return d.next(v=>F.forEach(v,(b,M)=>(g<M.largestBatchId&&(g=M.largestBatchId),h.get(b)?F.resolve():this.remoteDocumentCache.getEntry(e,b).next(B=>{_=_.insert(b,B)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,wt())).next(b=>({batchId:g,changes:W_(b)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ut(i)).next(s=>{let o=Bl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=Bl();return this.indexManager.getCollectionParents(e,h).next(g=>F.forEach(g,_=>{const v=function(M,B){return new lc(B,null,M.explicitOrderBy.slice(),M.filters.slice(),M.limit,M.limitType,M.startAt,M.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next(b=>{b.forEach((M,B)=>{d=d.insert(M,B)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o))).next(d=>{h.forEach((_,v)=>{const b=v.getKey();d.get(b)===null&&(d=d.insert(b,Ge.newInvalidDocument(b)))});let g=Bl();return d.forEach((_,v)=>{const b=h.get(_);b!==void 0&&Gl(b.mutation,v,xn.empty(),Ae.now()),uc(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return F.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ni(o.createTime)}}(i)),F.resolve()}getNamedQuery(e,i){return F.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:ib(o.bundledQuery),readTime:ni(o.readTime)}}(i)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(){this.overlays=new Wt(ut.comparator),this.Rr=new Map}getOverlay(e,i){return F.resolve(this.overlays.get(i))}getOverlays(e,i){const s=mr();return F.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&s.set(o,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,h)=>{this.Et(e,i,h)}),F.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(s)),F.resolve()}getOverlaysForCollection(e,i,s){const o=mr(),h=i.length+1,d=new ut(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>s&&o.set(_.getKey(),_)}return F.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new Wt((v,b)=>v-b);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let b=h.get(v.largestBatchId);b===null&&(b=mr(),h=h.insert(v.largestBatchId,b)),b.set(v.getKey(),v)}}const g=mr(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,b)=>g.set(v,b)),!(g.size()>=o)););return F.resolve(g)}Et(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new NS(i,s));let h=this.Rr.get(i);h===void 0&&(h=wt(),this.Rr.set(i,h)),this.Rr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(){this.sessionToken=Pe.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(){this.Vr=new Se(Oe.mr),this.gr=new Se(Oe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const s=new Oe(e,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.wr(new Oe(e,i))}Sr(e,i){e.forEach(s=>this.removeReference(s,i))}br(e){const i=new ut(new Xt([])),s=new Oe(i,e),o=new Oe(i,e+1),h=[];return this.gr.forEachInRange([s,o],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new ut(new Xt([])),s=new Oe(i,e),o=new Oe(i,e+1);let h=wt();return this.gr.forEachInRange([s,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Oe(e,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Oe{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return ut.comparator(e.key,i.key)||Ct(e.Cr,i.Cr)}static pr(e,i){return Ct(e.Cr,i.Cr)||ut.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Se(Oe.mr)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new MS(h,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Mr=this.Mr.add(new Oe(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return F.resolve(d)}lookupMutationBatch(e,i){return F.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Nr(s),h=o<0?0:o;return F.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?od:this.Fr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Oe(i,0),o=new Oe(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([s,o],d=>{const g=this.Or(d.Cr);h.push(g)}),F.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Se(Ct);return i.forEach(o=>{const h=new Oe(o,0),d=new Oe(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],g=>{s=s.add(g.Cr)})}),F.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;ut.isDocumentKey(h)||(h=h.child(""));const d=new Oe(new ut(h),0);let g=new Se(Ct);return this.Mr.forEachWhile(_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(g=g.add(_.Cr)),!0)},d),F.resolve(this.Br(g))}Br(e){const i=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){qt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return F.forEach(i.mutations,o=>{const h=new Oe(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,i){const s=new Oe(i,0),o=this.Mr.firstAfterOrEqual(s);return F.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e){this.kr=e,this.docs=function(){return new Wt(ut.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return F.resolve(s?s.document.mutableCopy():Ge.newInvalidDocument(i))}getEntries(e,i){let s=zi();return i.forEach(o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Ge.newInvalidDocument(o))}),F.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=zi();const d=i.path,g=new ut(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:b}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||QA(FA(b),s)<=0||(o.has(b.key)||uc(i,b))&&(h=h.insert(b.key,b.mutableCopy()))}return F.resolve(h)}getAllFromCollectionGroup(e,i,s,o){ft()}qr(e,i){return F.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new vb(this)}getSize(e){return F.resolve(this.size)}}class vb extends hb{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),F.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e){this.persistence=e,this.Qr=new Ar(i=>hd(i),fd),this.lastRemoteSnapshotVersion=mt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new yd,this.targetCount=0,this.Ur=bs.Kn()}forEachTarget(e,i){return this.Qr.forEach((s,o)=>i(o)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),F.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Ur=new bs(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,F.resolve()}updateTargetData(e,i){return this.zn(i),F.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Kr.br(i.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),F.waitFor(h).next(()=>o)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,i){const s=this.Qr.get(i)||null;return F.resolve(s)}addMatchingKeys(e,i,s){return this.Kr.yr(i,s),F.resolve()}removeMatchingKeys(e,i,s){this.Kr.Sr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),F.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Kr.br(i),F.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Kr.vr(i);return F.resolve(s)}containsKey(e,i){return F.resolve(this.Kr.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new ac(0),this.zr=!1,this.zr=!0,this.jr=new pb,this.referenceDelegate=e(this),this.Hr=new Eb(this),this.indexManager=new ab,this.remoteDocumentCache=function(o){return new _b(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new nb(i),this.Yr=new mb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new gb,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.Wr[e.toKey()];return s||(s=new yb(i,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,s){et("MemoryPersistence","Starting transaction:",e);const o=new Tb(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(h=>this.referenceDelegate.Xr(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}ei(e,i){return F.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,i)))}}class Tb extends YA{constructor(e){super(),this.currentSequenceNumber=e}}class _d{constructor(e){this.persistence=e,this.ti=new yd,this.ni=null}static ri(e){return new _d(e)}get ii(){if(this.ni)return this.ni;throw ft()}addReference(e,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),F.resolve()}removeReference(e,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),F.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),F.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.ii.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.ii,s=>{const o=ut.fromPath(s);return this.si(e,o).next(h=>{h||i.removeEntry(o,mt.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return F.or([()=>F.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class $u{constructor(e,i){this.persistence=e,this.oi=new Ar(s=>ZA(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=cb(this,i)}static ri(e,i){return new $u(e,i)}Zr(){}Xr(e){return F.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}sr(e){let i=0;return this.rr(e,s=>{i++}).next(()=>i)}rr(e,i){return F.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(h=>h?F.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.qr(e,d=>this.ar(e,d,i).next(g=>{g||(s++,h.removeEntry(d,mt.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),F.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),F.resolve()}removeReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),F.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Uu(e.data.value)),i}ar(e,i,s){return F.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.oi.get(i);return F.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Hi=s,this.Ji=o}static Yi(e,i){let s=wt(),o=wt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new vd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return _T()?8:XA(gT())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,o,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new Ab;return this._s(e,i,d).next(g=>{if(h.result=g,this.Xi)return this.us(e,i,d,g.size)})}).next(()=>h.result)}us(e,i,s,o){return s.documentReadCount<this.es?(gs()<=Nt.DEBUG&&et("QueryEngine","SDK will not create cache indexes for query:",ps(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),F.resolve()):(gs()<=Nt.DEBUG&&et("QueryEngine","Query:",ps(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(gs()<=Nt.DEBUG&&et("QueryEngine","The SDK decides to create cache indexes for query:",ps(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(i))):F.resolve())}rs(e,i){if(wy(i))return F.resolve(null);let s=ei(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Qf(i,null,"F"),s=ei(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=wt(...h);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(_=>{const v=this.cs(i,g);return this.ls(i,v,d,_.readTime)?this.rs(e,Qf(i,null,"F")):this.hs(e,v,i,_)}))})))}ss(e,i,s,o){return wy(i)||o.isEqual(mt.min())?F.resolve(null):this.ns.getDocuments(e,s).next(h=>{const d=this.cs(i,h);return this.ls(i,d,s,o)?F.resolve(null):(gs()<=Nt.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ps(i)),this.hs(e,d,i,GA(o,Kl)).next(g=>g))})}cs(e,i){let s=new Se(Z_(e));return i.forEach((o,h)=>{uc(e,h)&&(s=s.add(h))}),s}ls(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}_s(e,i,s){return gs()<=Nt.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",ps(i)),this.ns.getDocumentsMatchingQuery(e,i,Ca.min(),s)}hs(e,i,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed="LocalStore",bb=3e8;class Rb{constructor(e,i,s,o){this.persistence=e,this.Ps=i,this.serializer=o,this.Ts=new Wt(Ct),this.Is=new Ar(h=>hd(h),fd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new db(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function wb(r,e,i,s){return new Rb(r,e,i,s)}async function Tv(r,e){const i=pt(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(h=>(o=h,i.As(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let _=wt();for(const v of o){d.push(v.batchId);for(const b of v.mutations)_=_.add(b.key)}for(const v of h){g.push(v.batchId);for(const b of v.mutations)_=_.add(b.key)}return i.localDocuments.getDocuments(s,_).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:g}))})})}function Db(r,e){const i=pt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,_,v,b){const M=v.batch,B=M.keys();let j=F.resolve();return B.forEach(Z=>{j=j.next(()=>b.getEntry(_,Z)).next(nt=>{const $=v.docVersions.get(Z);qt($!==null),nt.version.compareTo($)<0&&(M.applyToRemoteDocument(nt,v),nt.isValidDocument()&&(nt.setReadTime(v.commitVersion),b.addEntry(nt)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(_,M))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let _=wt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function Av(r){const e=pt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function Cb(r,e){const i=pt(r),s=e.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const g=[];e.targetChanges.forEach((b,M)=>{const B=o.get(M);if(!B)return;g.push(i.Hr.removeMatchingKeys(h,b.removedDocuments,M).next(()=>i.Hr.addMatchingKeys(h,b.addedDocuments,M)));let j=B.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(M)!==null?j=j.withResumeToken(Pe.EMPTY_BYTE_STRING,mt.min()).withLastLimboFreeSnapshotVersion(mt.min()):b.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(b.resumeToken,s)),o=o.insert(M,j),function(nt,$,St){return nt.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=bb?!0:St.addedDocuments.size+St.modifiedDocuments.size+St.removedDocuments.size>0}(B,j,b)&&g.push(i.Hr.updateTargetData(h,j))});let _=zi(),v=wt();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,b))}),g.push(Ib(h,d,e.documentUpdates).next(b=>{_=b.Vs,v=b.fs})),!s.isEqual(mt.min())){const b=i.Hr.getLastRemoteSnapshotVersion(h).next(M=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(b)}return F.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ts=o,h))}function Ib(r,e,i){let s=wt(),o=wt();return i.forEach(h=>s=s.add(h)),e.getEntries(r,s).next(h=>{let d=zi();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(mt.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):et(Ed,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{Vs:d,fs:o}})}function Vb(r,e){const i=pt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=od),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Ob(r,e){const i=pt(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Hr.getTargetData(s,e).next(h=>h?(o=h,F.resolve(o)):i.Hr.allocateTargetId(s).next(d=>(o=new Ta(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(e,s.targetId)),s})}async function Zf(r,e,i){const s=pt(r),o=s.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Is(d))throw d;et(Ed,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function By(r,e,i){const s=pt(r);let o=mt.min(),h=wt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,b){const M=pt(_),B=M.Is.get(b);return B!==void 0?F.resolve(M.Ts.get(B)):M.Hr.getTargetData(v,b)}(s,d,ei(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,e,i?o:mt.min(),i?h:wt())).next(g=>(Mb(s,yS(e),g),{documents:g,gs:h})))}function Mb(r,e,i){let s=r.Es.get(e)||mt.min();i.forEach((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),r.Es.set(e,s)}class ky{constructor(){this.activeTargetIds=SS()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Nb{constructor(){this.ho=new ky,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,s){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new ky,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="ConnectivityMonitor";class Hy{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){et(qy,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){et(qy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vu=null;function Jf(){return Vu===null?Vu=function(){return 268435456+Math.round(2147483648*Math.random())}():Vu++,"0x"+Vu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf="RestConnection",xb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Lb{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===ju?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,i,s,o,h){const d=Jf(),g=this.bo(e,i.toUriEncodedString());et(Vf,`Sending RPC '${e}' ${d}:`,g,s);const _={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(_,o,h),this.vo(e,g,_,s).then(v=>(et(Vf,`Received RPC '${e}' ${d}: `,v),v),v=>{throw Es(Vf,`RPC '${e}' ${d} failed with error: `,v,"url: ",g,"request:",s),v})}Co(e,i,s,o,h,d){return this.So(e,i,s,o,h)}Do(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ds}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),s&&s.headers.forEach((o,h)=>e[h]=o)}bo(e,i){const s=xb[e];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class Pb extends Lb{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,s,o){const h=Jf();return new Promise((d,g)=>{const _=new w_;_.setWithCredentials(!0),_.listenOnce(D_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Nu.NO_ERROR:const b=_.getResponseJson();et(He,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),d(b);break;case Nu.TIMEOUT:et(He,`RPC '${e}' ${h} timed out`),g(new ot(K.DEADLINE_EXCEEDED,"Request time out"));break;case Nu.HTTP_ERROR:const M=_.getStatus();if(et(He,`RPC '${e}' ${h} failed with status:`,M,"response text:",_.getResponseText()),M>0){let B=_.getResponseJson();Array.isArray(B)&&(B=B[0]);const j=B==null?void 0:B.error;if(j&&j.status&&j.message){const Z=function($){const St=$.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(St)>=0?St:K.UNKNOWN}(j.status);g(new ot(Z,j.message))}else g(new ot(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ot(K.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{et(He,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(o);et(He,`RPC '${e}' ${h} sending request:`,o),_.send(i,"POST",v,s,15)})}Wo(e,i,s){const o=Jf(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=V_(),g=I_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Do(_.initMessageHeaders,i,s),_.encodeInitMessageHeaders=!0;const b=h.join("");et(He,`Creating RPC '${e}' stream ${o}: ${b}`,_);const M=d.createWebChannel(b,_);let B=!1,j=!1;const Z=new zb({Fo:$=>{j?et(He,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(B||(et(He,`Opening RPC '${e}' stream ${o} transport.`),M.open(),B=!0),et(He,`RPC '${e}' stream ${o} sending:`,$),M.send($))},Mo:()=>M.close()}),nt=($,St,dt)=>{$.listen(St,Et=>{try{dt(Et)}catch(Ft){setTimeout(()=>{throw Ft},0)}})};return nt(M,Pl.EventType.OPEN,()=>{j||(et(He,`RPC '${e}' stream ${o} transport opened.`),Z.Qo())}),nt(M,Pl.EventType.CLOSE,()=>{j||(j=!0,et(He,`RPC '${e}' stream ${o} transport closed`),Z.Ko())}),nt(M,Pl.EventType.ERROR,$=>{j||(j=!0,Es(He,`RPC '${e}' stream ${o} transport errored:`,$),Z.Ko(new ot(K.UNAVAILABLE,"The operation could not be completed")))}),nt(M,Pl.EventType.MESSAGE,$=>{var St;if(!j){const dt=$.data[0];qt(!!dt);const Et=dt,Ft=(Et==null?void 0:Et.error)||((St=Et[0])===null||St===void 0?void 0:St.error);if(Ft){et(He,`RPC '${e}' stream ${o} received error:`,Ft);const yt=Ft.status;let Ut=function(A){const D=de[A];if(D!==void 0)return uv(D)}(yt),N=Ft.message;Ut===void 0&&(Ut=K.INTERNAL,N="Unknown error status: "+yt+" with message "+Ft.message),j=!0,Z.Ko(new ot(Ut,N)),M.close()}else et(He,`RPC '${e}' stream ${o} received:`,dt),Z.Uo(dt)}}),nt(g,C_.STAT_EVENT,$=>{$.stat===qf.PROXY?et(He,`RPC '${e}' stream ${o} detected buffering proxy`):$.stat===qf.NOPROXY&&et(He,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{Z.$o()},0),Z}}function Of(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(r){return new HS(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=s,this.zo=o,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-s);o>0&&et("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="PersistentStream";class bv{constructor(e,i,s,o,h,d,g,_){this.Ti=e,this.n_=s,this.r_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Sv(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Li(i.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===i&&this.V_(s,o)},s=>{e(()=>{const o=new ot(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,i){const s=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return et(jy,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(et(jy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Bb extends bv{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=FS(this.serializer,e),s=function(h){if(!("targetChange"in h))return mt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?mt.min():d.readTime?ni(d.readTime):mt.min()}(e);return this.listener.p_(i,s)}y_(e){const i={};i.database=$f(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=Ff(_)?{documents:YS(h,_)}:{query:XS(h,_).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=fv(h,d.resumeToken);const v=Kf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(mt.min())>0){g.readTime=Xu(h,d.snapshotVersion.toTimestamp());const v=Kf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const s=ZS(this.serializer,e);s&&(i.labels=s),this.I_(i)}w_(e){const i={};i.database=$f(this.serializer),i.removeTarget=e,this.I_(i)}}class kb extends bv{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return qt(!!e.streamToken),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){qt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=KS(e.writeResults,e.commitTime),s=ni(e.commitTime);return this.listener.v_(s,i)}C_(){const e={};e.database=$f(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>QS(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{}class Hb extends qb{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ot(K.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.So(e,Yf(i,s),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ot(K.UNKNOWN,h.toString())})}Co(e,i,s,o,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,Yf(i,s),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(K.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class jb{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Li(i),this.N_=!1):et("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r="RemoteStore";class Gb{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{s.enqueueAndForget(async()=>{br(this)&&(et(_r,"Restarting streams for network reachability change."),await async function(_){const v=pt(_);v.W_.add(4),await no(v),v.j_.set("Unknown"),v.W_.delete(4),await mc(v)}(this))})}),this.j_=new jb(s,o)}}async function mc(r){if(br(r))for(const e of r.G_)await e(!0)}async function no(r){for(const e of r.G_)await e(!1)}function Rv(r,e){const i=pt(r);i.U_.has(e.targetId)||(i.U_.set(e.targetId,e),bd(i)?Sd(i):Vs(i).c_()&&Ad(i,e))}function Td(r,e){const i=pt(r),s=Vs(i);i.U_.delete(e),s.c_()&&wv(i,e),i.U_.size===0&&(s.c_()?s.P_():br(i)&&i.j_.set("Unknown"))}function Ad(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(mt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Vs(r).y_(e)}function wv(r,e){r.H_.Ne(e),Vs(r).w_(e)}function Sd(r){r.H_=new PS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Vs(r).start(),r.j_.B_()}function bd(r){return br(r)&&!Vs(r).u_()&&r.U_.size>0}function br(r){return pt(r).W_.size===0}function Dv(r){r.H_=void 0}async function Fb(r){r.j_.set("Online")}async function Qb(r){r.U_.forEach((e,i)=>{Ad(r,e)})}async function Kb(r,e){Dv(r),bd(r)?(r.j_.q_(e),Sd(r)):r.j_.set("Unknown")}async function Yb(r,e,i){if(r.j_.set("Online"),e instanceof hv&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.U_.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.U_.delete(g),o.H_.removeTarget(g))}(r,e)}catch(s){et(_r,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Zu(r,s)}else if(e instanceof zu?r.H_.We(e):e instanceof cv?r.H_.Ze(e):r.H_.je(e),!i.isEqual(mt.min()))try{const s=await Av(r.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.H_.ot(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const b=h.U_.get(v);b&&h.U_.set(v,b.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const b=h.U_.get(_);if(!b)return;h.U_.set(_,b.withResumeToken(Pe.EMPTY_BYTE_STRING,b.snapshotVersion)),wv(h,_);const M=new Ta(b.target,_,v,b.sequenceNumber);Ad(h,M)}),h.remoteSyncer.applyRemoteEvent(g)}(r,i)}catch(s){et(_r,"Failed to raise snapshot:",s),await Zu(r,s)}}async function Zu(r,e,i){if(!Is(e))throw e;r.W_.add(1),await no(r),r.j_.set("Offline"),i||(i=()=>Av(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{et(_r,"Retrying IndexedDB access"),await i(),r.W_.delete(1),await mc(r)})}function Cv(r,e){return e().catch(i=>Zu(r,i,e))}async function gc(r){const e=pt(r),i=Ma(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:od;for(;Xb(e);)try{const o=await Vb(e.localStore,s);if(o===null){e.K_.length===0&&i.P_();break}s=o.batchId,$b(e,o)}catch(o){await Zu(e,o)}Iv(e)&&Vv(e)}function Xb(r){return br(r)&&r.K_.length<10}function $b(r,e){r.K_.push(e);const i=Ma(r);i.c_()&&i.S_&&i.b_(e.mutations)}function Iv(r){return br(r)&&!Ma(r).u_()&&r.K_.length>0}function Vv(r){Ma(r).start()}async function Zb(r){Ma(r).C_()}async function Jb(r){const e=Ma(r);for(const i of r.K_)e.b_(i.mutations)}async function Wb(r,e,i){const s=r.K_.shift(),o=md.from(s,e,i);await Cv(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await gc(r)}async function t1(r,e){e&&Ma(r).S_&&await async function(s,o){if(function(d){return xS(d)&&d!==K.ABORTED}(o.code)){const h=s.K_.shift();Ma(s).h_(),await Cv(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o)),await gc(s)}}(r,e),Iv(r)&&Vv(r)}async function Gy(r,e){const i=pt(r);i.asyncQueue.verifyOperationInProgress(),et(_r,"RemoteStore received new credentials");const s=br(i);i.W_.add(3),await no(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await mc(i)}async function e1(r,e){const i=pt(r);e?(i.W_.delete(2),await mc(i)):e||(i.W_.add(2),await no(i),i.j_.set("Unknown"))}function Vs(r){return r.J_||(r.J_=function(i,s,o){const h=pt(i);return h.M_(),new Bb(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(r.datastore,r.asyncQueue,{xo:Fb.bind(null,r),No:Qb.bind(null,r),Lo:Kb.bind(null,r),p_:Yb.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),bd(r)?Sd(r):r.j_.set("Unknown")):(await r.J_.stop(),Dv(r))})),r.J_}function Ma(r){return r.Y_||(r.Y_=function(i,s,o){const h=pt(i);return h.M_(),new kb(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:Zb.bind(null,r),Lo:t1.bind(null,r),D_:Jb.bind(null,r),v_:Wb.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await gc(r)):(await r.Y_.stop(),r.K_.length>0&&(et(_r,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new Ra,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,g=new Rd(e,i,d,o,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wd(r,e){if(Li("AsyncQueue",`${e}: ${r}`),Is(r))return new ot(K.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{static emptySet(e){return new vs(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ut.comparator(i.key,s.key):(i,s)=>ut.comparator(i.key,s.key),this.keyedMap=Bl(),this.sortedSet=new Wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof vs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new vs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(){this.Z_=new Wt(ut.comparator)}track(e){const i=e.doc.key,s=this.Z_.get(i);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(i):e.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):ft():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,s)=>{e.push(s)}),e}}class Rs{constructor(e,i,s,o,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Rs(e,i,vs.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class i1{constructor(){this.queries=Qy(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const o=pt(i),h=o.queries;o.queries=Qy(),h.forEach((d,g)=>{for(const _ of g.ta)_.onError(s)})})(this,new ot(K.ABORTED,"Firestore shutting down"))}}function Qy(){return new Ar(r=>$_(r),oc)}async function a1(r,e){const i=pt(r);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.na()&&e.ra()&&(s=2):(h=new n1,s=e.ra()?0:1);try{switch(s){case 0:h.ea=await i.onListen(o,!0);break;case 1:h.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=wd(d,`Initialization of query '${ps(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&Dd(i)}async function r1(r,e){const i=pt(r),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?o=e.ra()?0:1:!h.na()&&e.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function s1(r,e){const i=pt(r);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.ta)g.oa(o)&&(s=!0);d.ea=o}}s&&Dd(i)}function l1(r,e,i){const s=pt(r),o=s.queries.get(e);if(o)for(const h of o.ta)h.onError(i);s.queries.delete(e)}function Dd(r){r.ia.forEach(e=>{e.next()})}var Wf,Ky;(Ky=Wf||(Wf={}))._a="default",Ky.Cache="cache";class o1{constructor(e,i,s){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Rs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=Rs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Wf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e){this.key=e}}class Mv{constructor(e){this.key=e}}class u1{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=wt(),this.mutatedKeys=wt(),this.ya=Z_(e),this.wa=new vs(this.ya)}get Sa(){return this.fa}ba(e,i){const s=i?i.Da:new Fy,o=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((b,M)=>{const B=o.get(b),j=uc(this.query,M)?M:null,Z=!!B&&this.mutatedKeys.has(B.key),nt=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let $=!1;B&&j?B.data.isEqual(j.data)?Z!==nt&&(s.track({type:3,doc:j}),$=!0):this.va(B,j)||(s.track({type:2,doc:j}),$=!0,(_&&this.ya(j,_)>0||v&&this.ya(j,v)<0)&&(g=!0)):!B&&j?(s.track({type:0,doc:j}),$=!0):B&&!j&&(s.track({type:1,doc:B}),$=!0,(_||v)&&(g=!0)),$&&(j?(d=d.add(j),h=nt?h.add(b):h.delete(b)):(d=d.delete(b),h=h.delete(b)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),h=h.delete(b.key),s.track({type:1,doc:b})}return{wa:d,Da:s,ls:g,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((b,M)=>function(j,Z){const nt=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return nt(j)-nt(Z)}(b.type,M.type)||this.ya(b.doc,M.doc)),this.Ca(s),o=o!=null&&o;const g=i&&!o?this.Fa():[],_=this.pa.size===0&&this.current&&!o?1:0,v=_!==this.ga;return this.ga=_,d.length!==0||v?{snapshot:new Rs(this.query,e.wa,h,d,e.mutatedKeys,_===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Fy,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=wt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return e.forEach(s=>{this.pa.has(s)||i.push(new Mv(s))}),this.pa.forEach(s=>{e.has(s)||i.push(new Ov(s))}),i}Oa(e){this.fa=e.gs,this.pa=wt();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return Rs.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Cd="SyncEngine";class c1{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class h1{constructor(e){this.key=e,this.Ba=!1}}class f1{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Ar(g=>$_(g),oc),this.qa=new Map,this.Qa=new Set,this.$a=new Wt(ut.comparator),this.Ka=new Map,this.Ua=new yd,this.Wa={},this.Ga=new Map,this.za=bs.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function d1(r,e,i=!0){const s=Pv(r);let o;const h=s.ka.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.Na()):o=await Nv(s,e,i,!0),o}async function m1(r,e){const i=Pv(r);await Nv(i,e,!0,!1)}async function Nv(r,e,i,s){const o=await Ob(r.localStore,ei(e)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await g1(r,e,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&Rv(r.remoteStore,o),g}async function g1(r,e,i,s,o){r.Ha=(M,B,j)=>async function(nt,$,St,dt){let Et=$.view.ba(St);Et.ls&&(Et=await By(nt.localStore,$.query,!1).then(({documents:N})=>$.view.ba(N,Et)));const Ft=dt&&dt.targetChanges.get($.targetId),yt=dt&&dt.targetMismatches.get($.targetId)!=null,Ut=$.view.applyChanges(Et,nt.isPrimaryClient,Ft,yt);return Xy(nt,$.targetId,Ut.Ma),Ut.snapshot}(r,M,B,j);const h=await By(r.localStore,e,!0),d=new u1(e,h.gs),g=d.ba(h.documents),_=eo.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),v=d.applyChanges(g,r.isPrimaryClient,_);Xy(r,i,v.Ma);const b=new c1(e,i,d);return r.ka.set(e,b),r.qa.has(i)?r.qa.get(i).push(e):r.qa.set(i,[e]),v.snapshot}async function p1(r,e,i){const s=pt(r),o=s.ka.get(e),h=s.qa.get(o.targetId);if(h.length>1)return s.qa.set(o.targetId,h.filter(d=>!oc(d,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Zf(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Td(s.remoteStore,o.targetId),td(s,o.targetId)}).catch(Cs)):(td(s,o.targetId),await Zf(s.localStore,o.targetId,!0))}async function y1(r,e){const i=pt(r),s=i.ka.get(e),o=i.qa.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Td(i.remoteStore,s.targetId))}async function _1(r,e,i){const s=R1(r);try{const o=await function(d,g){const _=pt(d),v=Ae.now(),b=g.reduce((j,Z)=>j.add(Z.key),wt());let M,B;return _.persistence.runTransaction("Locally write mutations","readwrite",j=>{let Z=zi(),nt=wt();return _.ds.getEntries(j,b).next($=>{Z=$,Z.forEach((St,dt)=>{dt.isValidDocument()||(nt=nt.add(St))})}).next(()=>_.localDocuments.getOverlayedDocuments(j,Z)).next($=>{M=$;const St=[];for(const dt of g){const Et=VS(dt,M.get(dt.key).overlayedDocument);Et!=null&&St.push(new Sr(dt.key,Et,H_(Et.value.mapValue),Ni.exists(!0)))}return _.mutationQueue.addMutationBatch(j,v,St,g)}).next($=>{B=$;const St=$.applyToLocalDocumentSet(M,nt);return _.documentOverlayCache.saveOverlays(j,$.batchId,St)})}).then(()=>({batchId:B.batchId,changes:W_(M)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,_){let v=d.Wa[d.currentUser.toKey()];v||(v=new Wt(Ct)),v=v.insert(g,_),d.Wa[d.currentUser.toKey()]=v}(s,o.batchId,i),await io(s,o.changes),await gc(s.remoteStore)}catch(o){const h=wd(o,"Failed to persist write");i.reject(h)}}async function Uv(r,e){const i=pt(r);try{const s=await Cb(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Ka.get(h);d&&(qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?qt(d.Ba):o.removedDocuments.size>0&&(qt(d.Ba),d.Ba=!1))}),await io(i,s,e)}catch(s){await Cs(s)}}function Yy(r,e,i){const s=pt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.ka.forEach((h,d)=>{const g=d.view.sa(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const _=pt(d);_.onlineState=g;let v=!1;_.queries.forEach((b,M)=>{for(const B of M.ta)B.sa(g)&&(v=!0)}),v&&Dd(_)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function v1(r,e,i){const s=pt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Ka.get(e),h=o&&o.key;if(h){let d=new Wt(ut.comparator);d=d.insert(h,Ge.newNoDocument(h,mt.min()));const g=wt().add(h),_=new fc(mt.min(),new Map,new Wt(Ct),d,g);await Uv(s,_),s.$a=s.$a.remove(h),s.Ka.delete(e),Id(s)}else await Zf(s.localStore,e,!1).then(()=>td(s,e,i)).catch(Cs)}async function E1(r,e){const i=pt(r),s=e.batch.batchId;try{const o=await Db(i.localStore,e);Lv(i,s,null),xv(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await io(i,o)}catch(o){await Cs(o)}}async function T1(r,e,i){const s=pt(r);try{const o=await function(d,g){const _=pt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let b;return _.mutationQueue.lookupMutationBatch(v,g).next(M=>(qt(M!==null),b=M.keys(),_.mutationQueue.removeMutationBatch(v,M))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,b,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,b)).next(()=>_.localDocuments.getDocuments(v,b))})}(s.localStore,e);Lv(s,e,i),xv(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await io(s,o)}catch(o){await Cs(o)}}function xv(r,e){(r.Ga.get(e)||[]).forEach(i=>{i.resolve()}),r.Ga.delete(e)}function Lv(r,e,i){const s=pt(r);let o=s.Wa[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function td(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),i&&r.La.Ja(s,i);r.qa.delete(e),r.isPrimaryClient&&r.Ua.br(e).forEach(s=>{r.Ua.containsKey(s)||zv(r,s)})}function zv(r,e){r.Qa.delete(e.path.canonicalString());const i=r.$a.get(e);i!==null&&(Td(r.remoteStore,i),r.$a=r.$a.remove(e),r.Ka.delete(i),Id(r))}function Xy(r,e,i){for(const s of i)s instanceof Ov?(r.Ua.addReference(s.key,e),A1(r,s)):s instanceof Mv?(et(Cd,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||zv(r,s.key)):ft()}function A1(r,e){const i=e.key,s=i.path.canonicalString();r.$a.get(i)||r.Qa.has(s)||(et(Cd,"New document in limbo: "+i),r.Qa.add(s),Id(r))}function Id(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const i=new ut(Xt.fromString(e)),s=r.za.next();r.Ka.set(s,new h1(i)),r.$a=r.$a.insert(i,s),Rv(r.remoteStore,new Ta(ei(X_(i.path)),s,"TargetPurposeLimboResolution",ac.ae))}}async function io(r,e,i){const s=pt(r),o=[],h=[],d=[];s.ka.isEmpty()||(s.ka.forEach((g,_)=>{d.push(s.Ha(_,e,i).then(v=>{var b;if((v||i)&&s.isPrimaryClient){const M=v?!v.fromCache:(b=i==null?void 0:i.targetChanges.get(_.targetId))===null||b===void 0?void 0:b.current;s.sharedClientState.updateQueryState(_.targetId,M?"current":"not-current")}if(v){o.push(v);const M=vd.Yi(_.targetId,v);h.push(M)}}))}),await Promise.all(d),s.La.p_(o),await async function(_,v){const b=pt(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>F.forEach(v,B=>F.forEach(B.Hi,j=>b.persistence.referenceDelegate.addReference(M,B.targetId,j)).next(()=>F.forEach(B.Ji,j=>b.persistence.referenceDelegate.removeReference(M,B.targetId,j)))))}catch(M){if(!Is(M))throw M;et(Ed,"Failed to update sequence numbers: "+M)}for(const M of v){const B=M.targetId;if(!M.fromCache){const j=b.Ts.get(B),Z=j.snapshotVersion,nt=j.withLastLimboFreeSnapshotVersion(Z);b.Ts=b.Ts.insert(B,nt)}}}(s.localStore,h))}async function S1(r,e){const i=pt(r);if(!i.currentUser.isEqual(e)){et(Cd,"User change. New user:",e.toKey());const s=await Tv(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(g=>{g.forEach(_=>{_.reject(new ot(K.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await io(i,s.Rs)}}function b1(r,e){const i=pt(r),s=i.Ka.get(e);if(s&&s.Ba)return wt().add(s.key);{let o=wt();const h=i.qa.get(e);if(!h)return o;for(const d of h){const g=i.ka.get(d);o=o.unionWith(g.view.Sa)}return o}}function Pv(r){const e=pt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Uv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=b1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=v1.bind(null,e),e.La.p_=s1.bind(null,e.eventManager),e.La.Ja=l1.bind(null,e.eventManager),e}function R1(r){const e=pt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=E1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=T1.bind(null,e),e}class Ju{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return wb(this.persistence,new Sb,e.initialUser,this.serializer)}Xa(e){return new Ev(_d.ri,this.serializer)}Za(e){return new Nb}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ju.provider={build:()=>new Ju};class w1 extends Ju{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){qt(this.persistence.referenceDelegate instanceof $u);const s=this.persistence.referenceDelegate.garbageCollector;return new ob(s,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new Ev(s=>$u.ri(s,i),this.serializer)}}class ed{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Yy(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=S1.bind(null,this.syncEngine),await e1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new i1}()}createDatastore(e){const i=dc(e.databaseInfo.databaseId),s=function(h){return new Pb(h)}(e.databaseInfo);return function(h,d,g,_){return new Hb(h,d,g,_)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,h,d,g){return new Gb(s,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>Yy(this.syncEngine,i,0),function(){return Hy.D()?new Hy:new Ub}())}createSyncEngine(e,i){return function(o,h,d,g,_,v,b){const M=new f1(o,h,d,g,_,v);return b&&(M.ja=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=pt(o);et(_r,"RemoteStore shutting down."),h.W_.add(5),await no(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}ed.provider={build:()=>new ed};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="FirestoreClient";class C1{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=je.UNAUTHENTICATED,this.clientId=M_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{et(Na,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(et(Na,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ra;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=wd(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Mf(r,e){r.asyncQueue.verifyOperationInProgress(),et(Na,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Tv(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function $y(r,e){r.asyncQueue.verifyOperationInProgress();const i=await I1(r);et(Na,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(s=>Gy(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Gy(e.remoteStore,o)),r._onlineComponents=e}async function I1(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){et(Na,"Using user provided OfflineComponentProvider");try{await Mf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Es("Error using user provided cache. Falling back to memory cache: "+i),await Mf(r,new Ju)}}else et(Na,"Using default OfflineComponentProvider"),await Mf(r,new w1(void 0));return r._offlineComponents}async function Bv(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(et(Na,"Using user provided OnlineComponentProvider"),await $y(r,r._uninitializedComponentsProvider._online)):(et(Na,"Using default OnlineComponentProvider"),await $y(r,new ed))),r._onlineComponents}function V1(r){return Bv(r).then(e=>e.syncEngine)}async function O1(r){const e=await Bv(r),i=e.eventManager;return i.onListen=d1.bind(null,e.syncEngine),i.onUnlisten=p1.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=m1.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=y1.bind(null,e.syncEngine),i}function M1(r,e,i={}){const s=new Ra;return r.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const b=new D1({next:B=>{b.su(),d.enqueueAndForget(()=>r1(h,M)),B.fromCache&&_.source==="server"?v.reject(new ot(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(B)},error:B=>v.reject(B)}),M=new o1(g,b,{includeMetadataChanges:!0,Ta:!0});return a1(h,M)}(await O1(r),r.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(r,e,i){if(!i)throw new ot(K.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function N1(r,e,i,s){if(e===!0&&s===!0)throw new ot(K.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Jy(r){if(!ut.isDocumentKey(r))throw new ot(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Wy(r){if(ut.isDocumentKey(r))throw new ot(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Vd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ft()}function Wu(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ot(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Vd(r);throw new ot(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="firestore.googleapis.com",t_=!0;class e_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ot(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Hv,this.ssl=t_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:t_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sb)throw new ot(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}N1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kv((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ot(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ot(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ot(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ot(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e_(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new LA;switch(s.type){case"firstParty":return new kA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=Zy.get(i);s&&(et("ComponentProvider","Removing Datastore"),Zy.delete(i),s.terminate())}(this),Promise.resolve()}}function U1(r,e,i,s={}){var o;const h=(r=Wu(r,pc))._getSettings(),d=`${e}:${i}`;if(h.host!==Hv&&h.host!==d&&Es("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},h),{host:d,ssl:!1})),s.mockUserToken){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=je.MOCK_USER;else{g=mT(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new ot(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new je(v)}r._authCredentials=new zA(new O_(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new yc(this.firestore,e,this._query)}}class Ln{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ln(this.firestore,e,this._key)}}class wa extends yc{constructor(e,i,s){super(e,i,X_(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ln(this.firestore,null,new ut(e))}withConverter(e){return new wa(this.firestore,e,this._path)}}function x1(r,e,...i){if(r=pr(r),qv("collection","path",e),r instanceof pc){const s=Xt.fromString(e,...i);return Wy(s),new wa(r,null,s)}{if(!(r instanceof Ln||r instanceof wa))throw new ot(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Xt.fromString(e,...i));return Wy(s),new wa(r.firestore,null,s)}}function L1(r,e,...i){if(r=pr(r),arguments.length===1&&(e=M_.newId()),qv("doc","path",e),r instanceof pc){const s=Xt.fromString(e,...i);return Jy(s),new Ln(r,null,new ut(s))}{if(!(r instanceof Ln||r instanceof wa))throw new ot(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Xt.fromString(e,...i));return Jy(s),new Ln(r.firestore,r instanceof wa?r.converter:null,new ut(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="AsyncQueue";class i_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Sv(this,"async_queue_retry"),this.Su=()=>{const s=Of();s&&et(n_,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const i=Of();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=Of();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Ra;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Is(e))throw e;et(n_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(s);throw Li("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(e,i,s){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=Rd.createAndSchedule(this,e,i,s,h=>this.Fu(h));return this.fu.push(o),o}Du(){this.gu&&ft()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class Od extends pc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new i_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new i_(e),this._firestoreClient=void 0,await e}}}function z1(r,e){const i=typeof r=="object"?r:A_(),s=typeof r=="string"?r:ju,o=Wl(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=fT("firestore");h&&U1(o,...h)}return o}function jv(r){if(r._terminated)throw new ot(K.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||P1(r),r._firestoreClient}function P1(r){var e,i,s;const o=r._freezeSettings(),h=function(g,_,v,b){return new tS(g,_,v,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,kv(b.experimentalLongPollingOptions),b.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new C1(r._authCredentials,r._appCheckCredentials,r._queue,h,r._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ws(Pe.fromBase64String(e))}catch(i){throw new ot(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ws(Pe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ot(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ot(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ot(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ct(this._lat,e._lat)||Ct(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=/^__.*__$/;class k1{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Sr(e,this.data,this.fieldMask,i,this.fieldTransforms):new to(e,this.data,i,this.fieldTransforms)}}function Fv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class xd{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new xd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return tc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Fv(this.Lu)&&B1.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class q1{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||dc(e)}ju(e,i,s,o=!1){return new xd({Lu:e,methodName:i,zu:s,path:ze.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function H1(r){const e=r._freezeSettings(),i=dc(r._databaseId);return new q1(r._databaseId,!!e.ignoreUndefinedProperties,i)}function j1(r,e,i,s,o,h={}){const d=r.ju(h.merge||h.mergeFields?2:0,e,i,o);Xv("Data must be an object, but it was:",d,s);const g=Kv(s,d);let _,v;if(h.merge)_=new xn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const b=[];for(const M of h.mergeFields){const B=G1(e,M,i);if(!d.contains(B))throw new ot(K.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);Q1(b,B)||b.push(B)}_=new xn(b),v=d.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,v=d.fieldTransforms;return new k1(new Cn(g),_,v)}function Qv(r,e){if(Yv(r=pr(r)))return Xv("Unsupported field value:",e,r),Kv(r,e);if(r instanceof Gv)return function(s,o){if(!Fv(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const h=[];let d=0;for(const g of s){let _=Qv(g,o.Uu(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(r,e)}return function(s,o){if((s=pr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return bS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=Ae.fromDate(s);return{timestampValue:Xu(o.serializer,h)}}if(s instanceof Ae){const h=new Ae(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Xu(o.serializer,h)}}if(s instanceof Nd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ws)return{bytesValue:fv(o.serializer,s._byteString)};if(s instanceof Ln){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:pd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ud)return function(d,g){return{mapValue:{fields:{[k_]:{stringValue:q_},[Gu]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Wu("VectorValues must only contain numeric values.");return dd(g.serializer,v)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Vd(s)}`)}(r,e)}function Kv(r,e){const i={};return U_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tr(r,(s,o)=>{const h=Qv(o,e.qu(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function Yv(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ae||r instanceof Nd||r instanceof ws||r instanceof Ln||r instanceof Gv||r instanceof Ud)}function Xv(r,e,i){if(!Yv(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=Vd(i);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function G1(r,e,i){if((e=pr(e))instanceof Md)return e._internalPath;if(typeof e=="string")return $v(r,e);throw tc("Field path arguments must be of type string or ",r,!1,void 0,i)}const F1=new RegExp("[~\\*/\\[\\]]");function $v(r,e,i){if(e.search(F1)>=0)throw tc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Md(...e.split("."))._internalPath}catch{throw tc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function tc(r,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${s}`),d&&(_+=` in document ${o}`),_+=")"),new ot(K.INVALID_ARGUMENT,g+r+_)}function Q1(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new K1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Jv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class K1 extends Zv{data(){return super.data()}}function Jv(r,e){return typeof e=="string"?$v(r,e):e instanceof Md?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ot(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class X1{convertValue(e,i="none"){switch(Oa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return le(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ft()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Tr(e,(o,h)=>{s[o]=this.convertValue(h,i)}),s}convertVectorValue(e){var i,s,o;const h=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[Gu].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>le(d.doubleValue));return new Ud(h)}convertGeoPoint(e){return new Nd(le(e.latitude),le(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=sc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const i=Ia(e);return new Ae(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Xt.fromString(e);qt(_v(s));const o=new Xl(s.get(1),s.get(3)),h=new ut(s.popFirst(5));return o.isEqual(i)||Li(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(r,e,i){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Z1 extends Zv{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Pu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Jv("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class Pu extends Z1{data(e={}){return super.data(e)}}class J1{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ou(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new Pu(this._firestore,this._userDataWriter,s.key,s,new Ou(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const _=new Pu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ou(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new Pu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ou(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,b=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:W1(g.type),doc:_,oldIndex:v,newIndex:b}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function W1(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}class tR extends X1{constructor(e){super(),this.firestore=e}convertBytes(e){return new ws(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ln(this.firestore,null,i)}}function eR(r){r=Wu(r,yc);const e=Wu(r.firestore,Od),i=jv(e),s=new tR(e);return Y1(r._query),M1(i,r._query).then(o=>new J1(e,s,r,o))}function nR(r,e){const i=Wu(r.firestore,Od),s=L1(r),o=$1(r.converter,e);return iR(i,[j1(H1(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Ni.exists(!1))]).then(()=>s)}function iR(r,e){return function(s,o){const h=new Ra;return s.asyncQueue.enqueueAndForget(async()=>_1(await V1(s),o,h)),h.promise}(jv(r),e)}(function(e,i=!0){(function(o){Ds=o})(RA),Da(new Ui("firestore",(s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new Od(new PA(s.getProvider("auth-internal")),new qA(d,s.getProvider("app-check-internal")),function(v,b){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ot(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xl(v.options.projectId,b)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),ti(cy,hy,e),ti(cy,hy,"esm2017")})();var aR="firebase",rR="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ti(aR,rR,"app");const Wv="@firebase/installations",Ld="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=1e4,e0=`w:${Ld}`,n0="FIS_v2",sR="https://firebaseinstallations.googleapis.com/v1",lR=60*60*1e3,oR="installations",uR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},vr=new ic(oR,uR,cR);function i0(r){return r instanceof Ua&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0({projectId:r}){return`${sR}/projects/${r}/installations`}function r0(r){return{token:r.token,requestStatus:2,expiresIn:fR(r.expiresIn),creationTime:Date.now()}}async function s0(r,e){const s=(await e.json()).error;return vr.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function l0({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function hR(r,{refreshToken:e}){const i=l0(r);return i.append("Authorization",dR(e)),i}async function o0(r){const e=await r();return e.status>=500&&e.status<600?r():e}function fR(r){return Number(r.replace("s","000"))}function dR(r){return`${n0} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mR({appConfig:r,heartbeatServiceProvider:e},{fid:i}){const s=a0(r),o=l0(r),h=e.getImmediate({optional:!0});if(h){const v=await h.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const d={fid:i,authVersion:n0,appId:r.appId,sdkVersion:e0},g={method:"POST",headers:o,body:JSON.stringify(d)},_=await o0(()=>fetch(s,g));if(_.ok){const v=await _.json();return{fid:v.fid||i,registrationStatus:2,refreshToken:v.refreshToken,authToken:r0(v.authToken)}}else throw await s0("Create Installation",_)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=/^[cdef][\w-]{21}$/,nd="";function yR(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const i=_R(r);return pR.test(i)?i:nd}catch{return nd}}function _R(r){return gR(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=new Map;function h0(r,e){const i=_c(r);f0(i,e),vR(i,e)}function f0(r,e){const i=c0.get(r);if(i)for(const s of i)s(e)}function vR(r,e){const i=ER();i&&i.postMessage({key:r,fid:e}),TR()}let gr=null;function ER(){return!gr&&"BroadcastChannel"in self&&(gr=new BroadcastChannel("[Firebase] FID Change"),gr.onmessage=r=>{f0(r.data.key,r.data.fid)}),gr}function TR(){c0.size===0&&gr&&(gr.close(),gr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="firebase-installations-database",SR=1,Er="firebase-installations-store";let Nf=null;function zd(){return Nf||(Nf=E_(AR,SR,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(Er)}}})),Nf}async function ec(r,e){const i=_c(r),o=(await zd()).transaction(Er,"readwrite"),h=o.objectStore(Er),d=await h.get(i);return await h.put(e,i),await o.done,(!d||d.fid!==e.fid)&&h0(r,e.fid),e}async function d0(r){const e=_c(r),s=(await zd()).transaction(Er,"readwrite");await s.objectStore(Er).delete(e),await s.done}async function vc(r,e){const i=_c(r),o=(await zd()).transaction(Er,"readwrite"),h=o.objectStore(Er),d=await h.get(i),g=e(d);return g===void 0?await h.delete(i):await h.put(g,i),await o.done,g&&(!d||d.fid!==g.fid)&&h0(r,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pd(r){let e;const i=await vc(r.appConfig,s=>{const o=bR(s),h=RR(r,o);return e=h.registrationPromise,h.installationEntry});return i.fid===nd?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function bR(r){const e=r||{fid:yR(),registrationStatus:0};return m0(e)}function RR(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(vr.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=wR(r,i);return{installationEntry:i,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:DR(r)}:{installationEntry:e}}async function wR(r,e){try{const i=await mR(r,e);return ec(r.appConfig,i)}catch(i){throw i0(i)&&i.customData.serverCode===409?await d0(r.appConfig):await ec(r.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function DR(r){let e=await a_(r.appConfig);for(;e.registrationStatus===1;)await u0(100),e=await a_(r.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await Pd(r);return s||i}return e}function a_(r){return vc(r,e=>{if(!e)throw vr.create("installation-not-found");return m0(e)})}function m0(r){return CR(r)?{fid:r.fid,registrationStatus:0}:r}function CR(r){return r.registrationStatus===1&&r.registrationTime+t0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IR({appConfig:r,heartbeatServiceProvider:e},i){const s=VR(r,i),o=hR(r,i),h=e.getImmediate({optional:!0});if(h){const v=await h.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const d={installation:{sdkVersion:e0,appId:r.appId}},g={method:"POST",headers:o,body:JSON.stringify(d)},_=await o0(()=>fetch(s,g));if(_.ok){const v=await _.json();return r0(v)}else throw await s0("Generate Auth Token",_)}function VR(r,{fid:e}){return`${a0(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bd(r,e=!1){let i;const s=await vc(r.appConfig,h=>{if(!g0(h))throw vr.create("not-registered");const d=h.authToken;if(!e&&NR(d))return h;if(d.requestStatus===1)return i=OR(r,e),h;{if(!navigator.onLine)throw vr.create("app-offline");const g=xR(h);return i=MR(r,g),g}});return i?await i:s.authToken}async function OR(r,e){let i=await r_(r.appConfig);for(;i.authToken.requestStatus===1;)await u0(100),i=await r_(r.appConfig);const s=i.authToken;return s.requestStatus===0?Bd(r,e):s}function r_(r){return vc(r,e=>{if(!g0(e))throw vr.create("not-registered");const i=e.authToken;return LR(i)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function MR(r,e){try{const i=await IR(r,e),s=Object.assign(Object.assign({},e),{authToken:i});return await ec(r.appConfig,s),i}catch(i){if(i0(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await d0(r.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ec(r.appConfig,s)}throw i}}function g0(r){return r!==void 0&&r.registrationStatus===2}function NR(r){return r.requestStatus===2&&!UR(r)}function UR(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+lR}function xR(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function LR(r){return r.requestStatus===1&&r.requestTime+t0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zR(r){const e=r,{installationEntry:i,registrationPromise:s}=await Pd(e);return s?s.catch(console.error):Bd(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PR(r,e=!1){const i=r;return await BR(i),(await Bd(i,e)).token}async function BR(r){const{registrationPromise:e}=await Pd(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(r){if(!r||!r.options)throw Uf("App Configuration");if(!r.name)throw Uf("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!r.options[i])throw Uf(i);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Uf(r){return vr.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="installations",qR="installations-internal",HR=r=>{const e=r.getProvider("app").getImmediate(),i=kR(e),s=Wl(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},jR=r=>{const e=r.getProvider("app").getImmediate(),i=Wl(e,p0).getImmediate();return{getId:()=>zR(i),getToken:o=>PR(i,o)}};function GR(){Da(new Ui(p0,HR,"PUBLIC")),Da(new Ui(qR,jR,"PRIVATE"))}GR();ti(Wv,Ld);ti(Wv,Ld,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc="analytics",FR="firebase_id",QR="origin",KR=60*1e3,YR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",kd="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en=new rd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},cn=new ic("analytics","Analytics",XR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(r){if(!r.startsWith(kd)){const e=cn.create("invalid-gtag-resource",{gtagURL:r});return en.warn(e.message),""}return r}function y0(r){return Promise.all(r.map(e=>e.catch(i=>i)))}function ZR(r,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(r,e)),i}function JR(r,e){const i=ZR("firebase-js-sdk-policy",{createScriptURL:$R}),s=document.createElement("script"),o=`${kd}?l=${r}&id=${e}`;s.src=i?i==null?void 0:i.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function WR(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function tw(r,e,i,s,o,h){const d=s[o];try{if(d)await e[d];else{const _=(await y0(i)).find(v=>v.measurementId===o);_&&await e[_.appId]}}catch(g){en.error(g)}r("config",o,h)}async function ew(r,e,i,s,o){try{let h=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const g=await y0(i);for(const _ of d){const v=g.find(M=>M.measurementId===_),b=v&&e[v.appId];if(b)h.push(b);else{h=[];break}}}h.length===0&&(h=Object.values(e)),await Promise.all(h),r("event",s,o||{})}catch(h){en.error(h)}}function nw(r,e,i,s){async function o(h,...d){try{if(h==="event"){const[g,_]=d;await ew(r,e,i,g,_)}else if(h==="config"){const[g,_]=d;await tw(r,e,i,s,g,_)}else if(h==="consent"){const[g,_]=d;r("consent",g,_)}else if(h==="get"){const[g,_,v]=d;r("get",g,_,v)}else if(h==="set"){const[g]=d;r("set",g)}else r(h,...d)}catch(g){en.error(g)}}return o}function iw(r,e,i,s,o){let h=function(...d){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(h=window[o]),window[o]=nw(h,r,e,i),{gtagCore:h,wrappedGtag:window[o]}}function aw(r){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(kd)&&i.src.includes(r))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=30,sw=1e3;class lw{constructor(e={},i=sw){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const _0=new lw;function ow(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function uw(r){var e;const{appId:i,apiKey:s}=r,o={method:"GET",headers:ow(s)},h=YR.replace("{app-id}",i),d=await fetch(h,o);if(d.status!==200&&d.status!==304){let g="";try{const _=await d.json();!((e=_.error)===null||e===void 0)&&e.message&&(g=_.error.message)}catch{}throw cn.create("config-fetch-failed",{httpStatus:d.status,responseMessage:g})}return d.json()}async function cw(r,e=_0,i){const{appId:s,apiKey:o,measurementId:h}=r.options;if(!s)throw cn.create("no-app-id");if(!o){if(h)return{measurementId:h,appId:s};throw cn.create("no-api-key")}const d=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new dw;return setTimeout(async()=>{g.abort()},KR),v0({appId:s,apiKey:o,measurementId:h},d,g,e)}async function v0(r,{throttleEndTimeMillis:e,backoffCount:i},s,o=_0){var h;const{appId:d,measurementId:g}=r;try{await hw(s,e)}catch(_){if(g)return en.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${_==null?void 0:_.message}]`),{appId:d,measurementId:g};throw _}try{const _=await uw(r);return o.deleteThrottleMetadata(d),_}catch(_){const v=_;if(!fw(v)){if(o.deleteThrottleMetadata(d),g)return en.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:d,measurementId:g};throw _}const b=Number((h=v==null?void 0:v.customData)===null||h===void 0?void 0:h.httpStatus)===503?ty(i,o.intervalMillis,rw):ty(i,o.intervalMillis),M={throttleEndTimeMillis:Date.now()+b,backoffCount:i+1};return o.setThrottleMetadata(d,M),en.debug(`Calling attemptFetch again in ${b} millis`),v0(r,M,s,o)}}function hw(r,e){return new Promise((i,s)=>{const o=Math.max(e-Date.now(),0),h=setTimeout(i,o);r.addEventListener(()=>{clearTimeout(h),s(cn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function fw(r){if(!(r instanceof Ua)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class dw{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function mw(r,e,i,s,o){if(o&&o.global){r("event",i,s);return}else{const h=await e,d=Object.assign(Object.assign({},s),{send_to:h});r("event",i,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gw(){if(p_())try{await y_()}catch(r){return en.warn(cn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return en.warn(cn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function pw(r,e,i,s,o,h,d){var g;const _=cw(r);_.then(j=>{i[j.measurementId]=j.appId,r.options.measurementId&&j.measurementId!==r.options.measurementId&&en.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${j.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(j=>en.error(j)),e.push(_);const v=gw().then(j=>{if(j)return s.getId()}),[b,M]=await Promise.all([_,v]);aw(h)||JR(h,b.measurementId),o("js",new Date);const B=(g=d==null?void 0:d.config)!==null&&g!==void 0?g:{};return B[QR]="firebase",B.update=!0,M!=null&&(B[FR]=M),o("config",b.measurementId,B),b.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e){this.app=e}_delete(){return delete Fl[this.app.options.appId],Promise.resolve()}}let Fl={},s_=[];const l_={};let xf="dataLayer",_w="gtag",o_,E0,u_=!1;function vw(){const r=[];if(yT()&&r.push("This is a browser extension environment."),vT()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),i=cn.create("invalid-analytics-context",{errorInfo:e});en.warn(i.message)}}function Ew(r,e,i){vw();const s=r.options.appId;if(!s)throw cn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)en.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw cn.create("no-api-key");if(Fl[s]!=null)throw cn.create("already-exists",{id:s});if(!u_){WR(xf);const{wrappedGtag:h,gtagCore:d}=iw(Fl,s_,l_,xf,_w);E0=h,o_=d,u_=!0}return Fl[s]=pw(r,s_,l_,e,o_,xf,i),new yw(r)}function Tw(r=A_()){r=pr(r);const e=Wl(r,nc);return e.isInitialized()?e.getImmediate():Aw(r)}function Aw(r,e={}){const i=Wl(r,nc);if(i.isInitialized()){const o=i.getImmediate();if(ku(e,i.getOptions()))return o;throw cn.create("already-initialized")}return i.initialize({options:e})}function Sw(r,e,i,s){r=pr(r),mw(E0,Fl[r.app.options.appId],e,i,s).catch(o=>en.error(o))}const c_="@firebase/analytics",h_="0.10.11";function bw(){Da(new Ui(nc,(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return Ew(s,o,i)},"PUBLIC")),Da(new Ui("analytics-internal",r,"PRIVATE")),ti(c_,h_),ti(c_,h_,"esm2017");function r(e){try{const i=e.getProvider(nc).getImmediate();return{logEvent:(s,o,h)=>Sw(i,s,o,h)}}catch(i){throw cn.create("interop-component-reg-failed",{reason:i})}}}bw();const Rw={apiKey:"AIzaSyD5ALf922ZonYrURoAECZT_OWMPJwR1h8E",authDomain:"rankyale.firebaseapp.com",projectId:"rankyale",storageBucket:"rankyale.firebasestorage.app",messagingSenderId:"463872924342",appId:"1:463872924342:web:7266b4ff9f8b80eb73e417",measurementId:"G-L3PLKNTLJ1"},T0=T_(Rw);Tw(T0);const ww=z1(T0),A0=x1(ww,"users"),Dw=async r=>await nR(A0,{netId:r}),f_=async()=>(await eR(A0)).docs.map(e=>({id:e.id,netId:e.data().netId}));function Cw(){const[r,e]=Mu.useState([]),[i,s]=Mu.useState("");Mu.useEffect(()=>{f_().then(e)},[]);const o=async()=>{i.trim()&&(await Dw(i),e(await f_()),s(""))};return Mi.jsxs("div",{className:"p-4",children:[Mi.jsx("h1",{className:"text-xl font-bold",children:"Users List"}),Mi.jsx("input",{type:"text",placeholder:"Enter netId",value:i,onChange:h=>s(h.target.value),className:"border p-2 m-2"}),Mi.jsx("button",{onClick:o,className:"bg-blue-500 text-white px-4 py-2",children:"Add User"}),Mi.jsx("h2",{className:"mt-4",children:"Users:"}),Mi.jsx("ul",{children:r.map(h=>Mi.jsx("li",{children:h.netId},h.id))})]})}nT.createRoot(document.getElementById("root")).render(Mi.jsx(Mu.StrictMode,{children:Mi.jsx(Cw,{})}));
